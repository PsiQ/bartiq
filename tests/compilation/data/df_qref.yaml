program:
  children:
  - children: []
    connections: []
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params: []
    local_variables: {}
    meta: {}
    name: qubits_alloc_0
    ports:
    - direction: output
      name: out_0
      size: ceiling(log2(R + 1))
    repetition: null
    resources: []
    type: qubits_alloc
  - children: []
    connections: []
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params: []
    local_variables: {}
    meta: {}
    name: qubits_alloc_1
    ports:
    - direction: output
      name: out_0
      size: ceiling(log2(R))
    repetition: null
    resources: []
    type: qubits_alloc
  - children: []
    connections: []
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params: []
    local_variables: {}
    meta: {}
    name: qubits_alloc_2
    ports:
    - direction: output
      name: out_0
      size: '1'
    repetition: null
    resources: []
    type: qubits_alloc
  - children: []
    connections: []
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params: []
    local_variables: {}
    meta: {}
    name: qubits_alloc_3
    ports:
    - direction: output
      name: out_0
      size: N_spatial
    repetition: null
    resources: []
    type: qubits_alloc
  - children: []
    connections: []
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params: []
    local_variables: {}
    meta: {}
    name: qubits_alloc_4
    ports:
    - direction: output
      name: out_0
      size: N_spatial
    repetition: null
    resources: []
    type: qubits_alloc
  - children:
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: qubits_alloc_0
      ports:
      - direction: output
        name: out_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources: []
      type: qubits_alloc
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: had_0
      ports:
      - direction: through
        name: thru_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources:
      - name: active_volume
        type: additive
        value: 3*Max(b_as, b_givens, b_mas)
      - name: gidney_lelbows
        type: additive
        value: '0'
      - name: gidney_relbows
        type: additive
        value: '0'
      - name: measurements
        type: additive
        value: '0'
      - name: ppm_x_weight
        type: other
        value: '0'
      - name: ppm_z_weight
        type: other
        value: '0'
      - name: ppms
        type: additive
        value: '0'
      - name: ppr_x_weight
        type: other
        value: '0'
      - name: ppr_z_weight
        type: other
        value: '0'
      - name: pprs
        type: additive
        value: '0'
      - name: rotations
        type: additive
        value: '0'
      - name: t_gates
        type: additive
        value: '0'
      - name: toffs
        type: additive
        value: '0'
      type: had
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: split_0
      ports:
      - direction: input
        name: in_0
        size: Max(b_as, b_givens, b_mas)
      - direction: output
        name: out_0
        size: '1'
      - direction: output
        name: out_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      repetition: null
      resources: []
      type: split
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: z_0
      ports:
      - direction: through
        name: thru_0
        size: '1'
      repetition: null
      resources:
      - name: gidney_lelbows
        type: additive
        value: '0'
      - name: gidney_relbows
        type: additive
        value: '0'
      - name: measurements
        type: additive
        value: '0'
      - name: ppm_x_weight
        type: other
        value: '0'
      - name: ppm_z_weight
        type: other
        value: '0'
      - name: ppms
        type: additive
        value: '0'
      - name: ppr_x_weight
        type: other
        value: '0'
      - name: ppr_z_weight
        type: other
        value: '0'
      - name: pprs
        type: additive
        value: '0'
      - name: rotations
        type: additive
        value: '0'
      - name: t_gates
        type: additive
        value: '0'
      - name: toffs
        type: additive
        value: '0'
      type: z
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: merge_1
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: input
        name: in_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      - direction: output
        name: out_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources: []
      type: merge
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: split_2
      ports:
      - direction: input
        name: in_0
        size: Max(b_as, b_givens, b_mas)
      - direction: output
        name: out_0
        size: '1'
      - direction: output
        name: out_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      repetition: null
      resources: []
      type: split
    - children:
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: s_inv_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '5'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: s_inv
        connections:
        - source: in_0
          target: s_inv_0.thru_0
        - source: s_inv_0.thru_0
          target: out_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - s_inv_0.M_r
        - source: N_spatial
          targets:
          - s_inv_0.N_spatial
        - source: R
          targets:
          - s_inv_0.R
        - source: b_as
          targets:
          - s_inv_0.b_as
        - source: b_givens
          targets:
          - s_inv_0.b_givens
        - source: b_mas
          targets:
          - s_inv_0.b_mas
        - source: idx
          targets:
          - s_inv_0.idx
        local_variables: {}
        meta: {}
        name: Repeated_s_inv_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      connections:
      - source: Repeated_s_inv_0.out_0
        target: out_0
      - source: in_0
        target: Repeated_s_inv_0.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - Repeated_s_inv_0.M_r
      - source: N_spatial
        targets:
        - Repeated_s_inv_0.N_spatial
      - source: R
        targets:
        - Repeated_s_inv_0.R
      - source: b_as
        targets:
        - Repeated_s_inv_0.b_as
      - source: b_givens
        targets:
        - Repeated_s_inv_0.b_givens
      - source: b_mas
        targets:
        - Repeated_s_inv_0.b_mas
      - source: idx
        targets:
        - Repeated_s_inv_0.idx
      local_variables: {}
      meta: {}
      name: Repeated_s_inv_0_repetition
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: output
        name: out_0
        size: '1'
      repetition:
        count: Heaviside(Max(b_as, b_givens, b_mas) - 1.5, 0)
        sequence:
          multiplier: 1
          type: constant
      resources: []
      type: qubrick
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: merge_3
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: input
        name: in_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      - direction: output
        name: out_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources: []
      type: merge
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: split_4
      ports:
      - direction: input
        name: in_0
        size: Max(b_as, b_givens, b_mas)
      - direction: output
        name: out_0
        size: '1'
      - direction: output
        name: out_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      repetition: null
      resources: []
      type: split
    - children:
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: t_inv_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '28.5'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '1'
          - name: toffs
            type: additive
            value: '0'
          type: t_inv
        connections:
        - source: in_0
          target: t_inv_0.thru_0
        - source: t_inv_0.thru_0
          target: out_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - t_inv_0.M_r
        - source: N_spatial
          targets:
          - t_inv_0.N_spatial
        - source: R
          targets:
          - t_inv_0.R
        - source: b_as
          targets:
          - t_inv_0.b_as
        - source: b_givens
          targets:
          - t_inv_0.b_givens
        - source: b_mas
          targets:
          - t_inv_0.b_mas
        - source: idx
          targets:
          - t_inv_0.idx
        local_variables: {}
        meta: {}
        name: Repeated_t_inv_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      connections:
      - source: Repeated_t_inv_0.out_0
        target: out_0
      - source: in_0
        target: Repeated_t_inv_0.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - Repeated_t_inv_0.M_r
      - source: N_spatial
        targets:
        - Repeated_t_inv_0.N_spatial
      - source: R
        targets:
        - Repeated_t_inv_0.R
      - source: b_as
        targets:
        - Repeated_t_inv_0.b_as
      - source: b_givens
        targets:
        - Repeated_t_inv_0.b_givens
      - source: b_mas
        targets:
        - Repeated_t_inv_0.b_mas
      - source: idx
        targets:
        - Repeated_t_inv_0.idx
      local_variables: {}
      meta: {}
      name: Repeated_t_inv_0_repetition
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: output
        name: out_0
        size: '1'
      repetition:
        count: Heaviside(Max(b_as, b_givens, b_mas) - 2.5, 0)
        sequence:
          multiplier: 1
          type: constant
      resources: []
      type: qubrick
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: merge_5
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: input
        name: in_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      - direction: output
        name: out_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources: []
      type: merge
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: split_6
      ports:
      - direction: input
        name: in_0
        size: Max(b_as, b_givens, b_mas)
      - direction: output
        name: out_0
        size: '1'
      - direction: output
        name: out_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      repetition: null
      resources: []
      type: split
    - children:
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: phase_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '1397'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '1'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: phase
        connections:
        - source: in_0
          target: phase_0.thru_0
        - source: phase_0.thru_0
          target: out_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - phase_0.M_r
        - source: N_spatial
          targets:
          - phase_0.N_spatial
        - source: R
          targets:
          - phase_0.R
        - source: b_as
          targets:
          - phase_0.b_as
        - source: b_givens
          targets:
          - phase_0.b_givens
        - source: b_mas
          targets:
          - phase_0.b_mas
        - source: idx
          targets:
          - phase_0.idx
        local_variables: {}
        meta: {}
        name: Repeated_phase_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      connections:
      - source: Repeated_phase_0.out_0
        target: out_0
      - source: in_0
        target: Repeated_phase_0.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - Repeated_phase_0.M_r
      - source: N_spatial
        targets:
        - Repeated_phase_0.N_spatial
      - source: R
        targets:
        - Repeated_phase_0.R
      - source: b_as
        targets:
        - Repeated_phase_0.b_as
      - source: b_givens
        targets:
        - Repeated_phase_0.b_givens
      - source: b_mas
        targets:
        - Repeated_phase_0.b_mas
      - source: idx
        targets:
        - Repeated_phase_0.idx
      local_variables: {}
      meta: {}
      name: Repeated_phase_0_repetition
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: output
        name: out_0
        size: '1'
      repetition:
        count: Max(0, -Heaviside(Max(b_as, b_givens, b_mas) - 2.5, 0) - Heaviside(Max(b_as,
          b_givens, b_mas) - 1.5, 0) + Max(b_as, b_givens, b_mas) - 1)
        sequence:
          multiplier: 1
          type: constant
      resources: []
      type: qubrick
    - children: []
      connections: []
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params: []
      local_variables: {}
      meta: {}
      name: merge_7
      ports:
      - direction: input
        name: in_0
        size: '1'
      - direction: input
        name: in_remainder
        size: Max(b_as, b_givens, b_mas)-(1)
      - direction: output
        name: out_0
        size: Max(b_as, b_givens, b_mas)
      repetition: null
      resources: []
      type: merge
    connections:
    - source: Repeated_phase_0_repetition.out_0
      target: merge_7.in_0
    - source: Repeated_s_inv_0_repetition.out_0
      target: merge_3.in_0
    - source: Repeated_t_inv_0_repetition.out_0
      target: merge_5.in_0
    - source: had_0.thru_0
      target: split_0.in_0
    - source: merge_1.out_0
      target: split_2.in_0
    - source: merge_3.out_0
      target: split_4.in_0
    - source: merge_5.out_0
      target: split_6.in_0
    - source: merge_7.out_0
      target: out_0
    - source: qubits_alloc_0.out_0
      target: had_0.thru_0
    - source: split_0.out_0
      target: z_0.thru_0
    - source: split_0.out_remainder
      target: merge_1.in_remainder
    - source: split_2.out_0
      target: Repeated_s_inv_0_repetition.in_0
    - source: split_2.out_remainder
      target: merge_3.in_remainder
    - source: split_4.out_0
      target: Repeated_t_inv_0_repetition.in_0
    - source: split_4.out_remainder
      target: merge_5.in_remainder
    - source: split_6.out_0
      target: Repeated_phase_0_repetition.in_0
    - source: split_6.out_remainder
      target: merge_7.in_remainder
    - source: z_0.thru_0
      target: merge_1.in_0
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params:
    - source: M_r
      targets:
      - qubits_alloc_0.M_r
      - had_0.M_r
      - split_0.M_r
      - z_0.M_r
      - merge_1.M_r
      - split_2.M_r
      - Repeated_s_inv_0_repetition.M_r
      - merge_3.M_r
      - split_4.M_r
      - Repeated_t_inv_0_repetition.M_r
      - merge_5.M_r
      - split_6.M_r
      - Repeated_phase_0_repetition.M_r
      - merge_7.M_r
    - source: N_spatial
      targets:
      - qubits_alloc_0.N_spatial
      - had_0.N_spatial
      - split_0.N_spatial
      - z_0.N_spatial
      - merge_1.N_spatial
      - split_2.N_spatial
      - Repeated_s_inv_0_repetition.N_spatial
      - merge_3.N_spatial
      - split_4.N_spatial
      - Repeated_t_inv_0_repetition.N_spatial
      - merge_5.N_spatial
      - split_6.N_spatial
      - Repeated_phase_0_repetition.N_spatial
      - merge_7.N_spatial
    - source: R
      targets:
      - qubits_alloc_0.R
      - had_0.R
      - split_0.R
      - z_0.R
      - merge_1.R
      - split_2.R
      - Repeated_s_inv_0_repetition.R
      - merge_3.R
      - split_4.R
      - Repeated_t_inv_0_repetition.R
      - merge_5.R
      - split_6.R
      - Repeated_phase_0_repetition.R
      - merge_7.R
    - source: b_as
      targets:
      - qubits_alloc_0.b_as
      - had_0.b_as
      - split_0.b_as
      - z_0.b_as
      - merge_1.b_as
      - split_2.b_as
      - Repeated_s_inv_0_repetition.b_as
      - merge_3.b_as
      - split_4.b_as
      - Repeated_t_inv_0_repetition.b_as
      - merge_5.b_as
      - split_6.b_as
      - Repeated_phase_0_repetition.b_as
      - merge_7.b_as
    - source: b_givens
      targets:
      - qubits_alloc_0.b_givens
      - had_0.b_givens
      - split_0.b_givens
      - z_0.b_givens
      - merge_1.b_givens
      - split_2.b_givens
      - Repeated_s_inv_0_repetition.b_givens
      - merge_3.b_givens
      - split_4.b_givens
      - Repeated_t_inv_0_repetition.b_givens
      - merge_5.b_givens
      - split_6.b_givens
      - Repeated_phase_0_repetition.b_givens
      - merge_7.b_givens
    - source: b_mas
      targets:
      - qubits_alloc_0.b_mas
      - had_0.b_mas
      - split_0.b_mas
      - z_0.b_mas
      - merge_1.b_mas
      - split_2.b_mas
      - Repeated_s_inv_0_repetition.b_mas
      - merge_3.b_mas
      - split_4.b_mas
      - Repeated_t_inv_0_repetition.b_mas
      - merge_5.b_mas
      - split_6.b_mas
      - Repeated_phase_0_repetition.b_mas
      - merge_7.b_mas
    - source: idx
      targets:
      - qubits_alloc_0.idx
      - had_0.idx
      - split_0.idx
      - z_0.idx
      - merge_1.idx
      - split_2.idx
      - Repeated_s_inv_0_repetition.idx
      - merge_3.idx
      - split_4.idx
      - Repeated_t_inv_0_repetition.idx
      - merge_5.idx
      - split_6.idx
      - Repeated_phase_0_repetition.idx
      - merge_7.idx
    local_variables: {}
    meta: {}
    name: RotationCatalystStatePrep_compute_0
    ports:
    - direction: output
      name: out_0
      size: null
    repetition: null
    resources: []
    type: qubrick
  - children:
    - children:
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: ry_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '1399'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '1'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: ry
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 57*ceiling(log2(R + 1)) - 60
            - name: gidney_lelbows
              type: additive
              value: ((ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0))*Heaviside(nlz(Mod(R
                + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: qubits_alloc_0.out_0
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: CompareLT_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: z_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '4'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: z
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_1
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)-(1)
          - direction: output
            name: out_0
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
          repetition: null
          resources: []
          type: merge
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 57*ceiling(log2(R + 1)) - 60
            - name: gidney_relbows
              type: additive
              value: ((ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0))*Heaviside(nlz(Mod(R
                + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
            type: intrinsic_cost
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
            repetition: null
            resources: []
            type: qubits_alloc
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
            - qubits_free_0.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
            - qubits_free_0.N_spatial
          - source: R
            targets:
            - cost_event.R
            - qubits_free_0.R
          - source: b_as
            targets:
            - cost_event.b_as
            - qubits_free_0.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
            - qubits_free_0.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
            - qubits_free_0.b_mas
          - source: idx
            targets:
            - cost_event.idx
            - qubits_free_0.idx
          local_variables: {}
          meta: {}
          name: CompareLT_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: ry_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '1399'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '1'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: ry
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_2
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - nlz(R + 1))
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1)) - 3*nlz(R + 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: z_1
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 47*Heaviside(ceiling(log2(R + 1)) - nlz(R + 1) - 1.5, 0) + 49*ceiling(log2(R
              + 1)) - 49*nlz(R + 1) - 49*Min(2, ceiling(log2(R + 1)) - nlz(R + 1))
          - name: gidney_lelbows
            type: additive
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: gidney_relbows
            type: additive
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: local_ancillae
            type: qubits
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: Heaviside(ceiling(log2(R + 1)) - nlz(R + 1) - 1.5, 0)
          type: z
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_2
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1)) - 3*nlz(R + 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_7
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - nlz(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: relbow_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: relbow
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: CompareLT_compute_0.out_0
          target: CompareLT_uncompute_0.in_0
        - source: CompareLT_compute_0.out_1
          target: split_0.in_0
        - source: CompareLT_uncompute_0.out_0
          target: split_2.in_0
        - source: had_0.thru_0
          target: CompareLT_compute_0.in_0
        - source: had_1.thru_0
          target: z_1.thru_0
        - source: had_2.thru_0
          target: merge_7.in_0
        - source: in_0
          target: had_0.thru_0
        - source: merge_1.out_0
          target: CompareLT_uncompute_0.in_1
        - source: merge_7.out_0
          target: out_0
        - source: qubits_alloc_0.out_0
          target: ry_0.thru_0
        - source: relbow_0.thru_0
          target: qubits_free_0.in_0
        - source: ry_0.thru_0
          target: z_0.thru_1
        - source: ry_1.thru_0
          target: z_1.thru_1
        - source: split_0.out_0
          target: z_0.thru_0
        - source: split_0.out_remainder
          target: merge_1.in_remainder
        - source: split_2.out_0
          target: had_1.thru_0
        - source: split_2.out_remainder
          target: merge_7.in_remainder
        - source: x_0.thru_0
          target: relbow_0.thru_0
        - source: z_0.thru_0
          target: merge_1.in_0
        - source: z_0.thru_1
          target: ry_1.thru_0
        - source: z_1.thru_0
          target: had_2.thru_0
        - source: z_1.thru_1
          target: x_0.thru_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - had_0.M_r
          - ry_0.M_r
          - CompareLT_compute_0.M_r
          - split_0.M_r
          - z_0.M_r
          - merge_1.M_r
          - CompareLT_uncompute_0.M_r
          - ry_1.M_r
          - split_2.M_r
          - had_1.M_r
          - z_1.M_r
          - had_2.M_r
          - merge_7.M_r
          - x_0.M_r
          - relbow_0.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - had_0.N_spatial
          - ry_0.N_spatial
          - CompareLT_compute_0.N_spatial
          - split_0.N_spatial
          - z_0.N_spatial
          - merge_1.N_spatial
          - CompareLT_uncompute_0.N_spatial
          - ry_1.N_spatial
          - split_2.N_spatial
          - had_1.N_spatial
          - z_1.N_spatial
          - had_2.N_spatial
          - merge_7.N_spatial
          - x_0.N_spatial
          - relbow_0.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - had_0.R
          - ry_0.R
          - CompareLT_compute_0.R
          - split_0.R
          - z_0.R
          - merge_1.R
          - CompareLT_uncompute_0.R
          - ry_1.R
          - split_2.R
          - had_1.R
          - z_1.R
          - had_2.R
          - merge_7.R
          - x_0.R
          - relbow_0.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - had_0.b_as
          - ry_0.b_as
          - CompareLT_compute_0.b_as
          - split_0.b_as
          - z_0.b_as
          - merge_1.b_as
          - CompareLT_uncompute_0.b_as
          - ry_1.b_as
          - split_2.b_as
          - had_1.b_as
          - z_1.b_as
          - had_2.b_as
          - merge_7.b_as
          - x_0.b_as
          - relbow_0.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - had_0.b_givens
          - ry_0.b_givens
          - CompareLT_compute_0.b_givens
          - split_0.b_givens
          - z_0.b_givens
          - merge_1.b_givens
          - CompareLT_uncompute_0.b_givens
          - ry_1.b_givens
          - split_2.b_givens
          - had_1.b_givens
          - z_1.b_givens
          - had_2.b_givens
          - merge_7.b_givens
          - x_0.b_givens
          - relbow_0.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - had_0.b_mas
          - ry_0.b_mas
          - CompareLT_compute_0.b_mas
          - split_0.b_mas
          - z_0.b_mas
          - merge_1.b_mas
          - CompareLT_uncompute_0.b_mas
          - ry_1.b_mas
          - split_2.b_mas
          - had_1.b_mas
          - z_1.b_mas
          - had_2.b_mas
          - merge_7.b_mas
          - x_0.b_mas
          - relbow_0.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - had_0.idx
          - ry_0.idx
          - CompareLT_compute_0.idx
          - split_0.idx
          - z_0.idx
          - merge_1.idx
          - CompareLT_uncompute_0.idx
          - ry_1.idx
          - split_2.idx
          - had_1.idx
          - z_1.idx
          - had_2.idx
          - merge_7.idx
          - x_0.idx
          - relbow_0.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: RealUSP_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_1
          ports:
          - direction: output
            name: out_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - 1
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - 1)
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: ceiling(log2(R + 1)) - 2
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R + 1)) - 2
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: (ceiling(1.5*b_as + 1.5*ceiling(log2(R + 1))) + 49)*Max(0, -select_elbow_const(ceiling(R/2
                + 1/2), 0) + ceiling(R/2 + 1/2))
            - name: gidney_lelbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/2 + 1/2), 0) + ceiling(R/2
                + 1/2))
            - name: gidney_relbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/2 + 1/2), 0) + ceiling(R/2
                + 1/2))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_2
            target: out_2
          - source: qubits_alloc_0.out_0
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - qubits_free_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - qubits_free_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - qubits_free_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - qubits_free_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - qubits_free_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - qubits_free_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - qubits_free_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: GoogleSelectOptimized_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_1
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - 1
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - 1)
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_2
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(1)
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: (-1 + (2*b_as + 2*ceiling(log2(R + 1)))/(b_as + ceiling(log2(R
                + 1))))*(55*b_as + 55*ceiling(log2(R + 1)))
            - name: toffs
              type: additive
              value: (-1 + (2*b_as + 2*ceiling(log2(R + 1)))/(b_as + ceiling(log2(R
                + 1))))*(b_as + ceiling(log2(R + 1)))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_2
            target: out_2
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: SwapUp_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_3
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(1)
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*b_as + 3*ceiling(log2(R + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: read_0
          ports:
          - direction: through
            name: thru_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: b_as + ceiling(log2(R + 1))
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: read
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: GoogleSelectOptimized_compute_0.out_0
          target: merge_1.in_0
        - source: GoogleSelectOptimized_compute_0.out_1
          target: SwapUp_compute_0.in_1
        - source: GoogleSelectOptimized_compute_0.out_2
          target: SwapUp_compute_0.in_2
        - source: SwapUp_compute_0.out_0
          target: merge_3.in_0
        - source: SwapUp_compute_0.out_1
          target: out_1
        - source: SwapUp_compute_0.out_2
          target: had_0.thru_0
        - source: had_0.thru_0
          target: read_0.thru_0
        - source: in_0
          target: split_0.in_0
        - source: merge_1.out_0
          target: split_2.in_0
        - source: merge_3.out_0
          target: out_0
        - source: qubits_alloc_0.out_0
          target: GoogleSelectOptimized_compute_0.in_1
        - source: qubits_alloc_1.out_0
          target: GoogleSelectOptimized_compute_0.in_2
        - source: read_0.thru_0
          target: qubits_free_0.in_0
        - source: split_0.out_0
          target: GoogleSelectOptimized_compute_0.in_0
        - source: split_0.out_remainder
          target: merge_1.in_remainder
        - source: split_2.out_0
          target: SwapUp_compute_0.in_0
        - source: split_2.out_remainder
          target: merge_3.in_remainder
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - qubits_alloc_1.M_r
          - split_0.M_r
          - GoogleSelectOptimized_compute_0.M_r
          - merge_1.M_r
          - split_2.M_r
          - SwapUp_compute_0.M_r
          - merge_3.M_r
          - had_0.M_r
          - read_0.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - qubits_alloc_1.N_spatial
          - split_0.N_spatial
          - GoogleSelectOptimized_compute_0.N_spatial
          - merge_1.N_spatial
          - split_2.N_spatial
          - SwapUp_compute_0.N_spatial
          - merge_3.N_spatial
          - had_0.N_spatial
          - read_0.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - qubits_alloc_1.R
          - split_0.R
          - GoogleSelectOptimized_compute_0.R
          - merge_1.R
          - split_2.R
          - SwapUp_compute_0.R
          - merge_3.R
          - had_0.R
          - read_0.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - qubits_alloc_1.b_as
          - split_0.b_as
          - GoogleSelectOptimized_compute_0.b_as
          - merge_1.b_as
          - split_2.b_as
          - SwapUp_compute_0.b_as
          - merge_3.b_as
          - had_0.b_as
          - read_0.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - qubits_alloc_1.b_givens
          - split_0.b_givens
          - GoogleSelectOptimized_compute_0.b_givens
          - merge_1.b_givens
          - split_2.b_givens
          - SwapUp_compute_0.b_givens
          - merge_3.b_givens
          - had_0.b_givens
          - read_0.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - qubits_alloc_1.b_mas
          - split_0.b_mas
          - GoogleSelectOptimized_compute_0.b_mas
          - merge_1.b_mas
          - split_2.b_mas
          - SwapUp_compute_0.b_mas
          - merge_3.b_mas
          - had_0.b_mas
          - read_0.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - qubits_alloc_1.idx
          - split_0.idx
          - GoogleSelectOptimized_compute_0.idx
          - merge_1.idx
          - split_2.idx
          - SwapUp_compute_0.idx
          - merge_3.idx
          - had_0.idx
          - read_0.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: DataLookupClean_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: qubits_alloc_0
        ports:
        - direction: output
          name: out_0
          size: b_as
        repetition: null
        resources: []
        type: qubits_alloc
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: had_0
        ports:
        - direction: through
          name: thru_0
          size: b_as
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: 3*b_as
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: '0'
        type: had
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: qubits_alloc_1
        ports:
        - direction: output
          name: out_0
          size: '1'
        repetition: null
        resources: []
        type: qubits_alloc
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_0
        ports:
        - direction: input
          name: in_0
          size: b_as + ceiling(log2(R + 1))
        - direction: output
          name: out_0
          size: b_as
        - direction: output
          name: out_remainder
          size: b_as + ceiling(log2(R + 1))-(b_as)
        repetition: null
        resources: []
        type: split
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: b_as
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: cost_event
          ports: []
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 57*b_as - 60
          - name: gidney_lelbows
            type: additive
            value: b_as
          type: intrinsic_cost
        connections:
        - source: in_0
          target: out_0
        - source: in_1
          target: out_1
        - source: qubits_alloc_0.out_0
          target: out_2
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - cost_event.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - cost_event.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - cost_event.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - cost_event.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - cost_event.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - cost_event.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - cost_event.idx
        local_variables: {}
        meta: {}
        name: CompareGE_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        - direction: output
          name: out_2
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_2
        ports:
        - direction: input
          name: in_0
          size: b_as
        - direction: output
          name: out_0
          size: '1'
        - direction: output
          name: out_remainder
          size: b_as-(1)
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: x_0
        ports:
        - direction: through
          name: thru_0
          size: '1'
        - direction: through
          name: thru_1
          size: '1'
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: '4'
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: '0'
        type: x
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_3
        ports:
        - direction: input
          name: in_0
          size: '1'
        - direction: input
          name: in_remainder
          size: b_as-(1)
        - direction: output
          name: out_0
          size: b_as
        repetition: null
        resources: []
        type: merge
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: cost_event
          ports: []
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 57*b_as - 60
          - name: gidney_relbows
            type: additive
            value: b_as
          type: intrinsic_cost
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: b_as
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: in_0
          target: out_0
        - source: in_1
          target: out_1
        - source: in_2
          target: qubits_free_0.in_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - cost_event.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - cost_event.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - cost_event.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - cost_event.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - cost_event.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - cost_event.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - cost_event.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: CompareGE_uncompute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: input
          name: in_2
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_5
        ports:
        - direction: input
          name: in_0
          size: b_as
        - direction: input
          name: in_remainder
          size: b_as + ceiling(log2(R + 1))-(b_as)
        - direction: output
          name: out_0
          size: b_as + ceiling(log2(R + 1))
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_6
        ports:
        - direction: input
          name: in_0
          size: b_as + ceiling(log2(R + 1))
        - direction: output
          name: out_0
          size: ceiling(log2(R + 1))
        - direction: output
          name: out_remainder
          size: b_as + ceiling(log2(R + 1))-(ceiling(log2(R + 1)))
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: swap_0
        ports:
        - direction: through
          name: thru_0
          size: ceiling(log2(R + 1))
        - direction: through
          name: thru_1
          size: ceiling(log2(R + 1))
        - direction: through
          name: thru_2
          size: '1'
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: 55*ceiling(log2(R + 1))
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: ceiling(log2(R + 1))
        type: swap
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_7
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(R + 1))
        - direction: input
          name: in_remainder
          size: b_as + ceiling(log2(R + 1))-(ceiling(log2(R + 1)))
        - direction: output
          name: out_0
          size: b_as + ceiling(log2(R + 1))
        repetition: null
        resources: []
        type: merge
      connections:
      - source: CompareGE_compute_0.out_0
        target: CompareGE_uncompute_0.in_0
      - source: CompareGE_compute_0.out_1
        target: CompareGE_uncompute_0.in_1
      - source: CompareGE_compute_0.out_2
        target: split_2.in_0
      - source: CompareGE_uncompute_0.out_0
        target: merge_5.in_0
      - source: CompareGE_uncompute_0.out_1
        target: out_2
      - source: DataLookupClean_compute_0.out_0
        target: swap_0.thru_0
      - source: DataLookupClean_compute_0.out_1
        target: split_0.in_0
      - source: RealUSP_compute_0.out_0
        target: DataLookupClean_compute_0.in_0
      - source: had_0.thru_0
        target: CompareGE_compute_0.in_1
      - source: in_0
        target: RealUSP_compute_0.in_0
      - source: in_1
        target: out_4
      - source: in_2
        target: out_5
      - source: merge_3.out_0
        target: CompareGE_uncompute_0.in_2
      - source: merge_5.out_0
        target: split_6.in_0
      - source: merge_7.out_0
        target: out_1
      - source: qubits_alloc_0.out_0
        target: had_0.thru_0
      - source: qubits_alloc_1.out_0
        target: x_0.thru_0
      - source: split_0.out_0
        target: CompareGE_compute_0.in_0
      - source: split_0.out_remainder
        target: merge_5.in_remainder
      - source: split_2.out_0
        target: x_0.thru_1
      - source: split_2.out_remainder
        target: merge_3.in_remainder
      - source: split_6.out_0
        target: swap_0.thru_1
      - source: split_6.out_remainder
        target: merge_7.in_remainder
      - source: swap_0.thru_0
        target: out_0
      - source: swap_0.thru_1
        target: merge_7.in_0
      - source: swap_0.thru_2
        target: out_3
      - source: x_0.thru_0
        target: swap_0.thru_2
      - source: x_0.thru_1
        target: merge_3.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - RealUSP_compute_0.M_r
        - DataLookupClean_compute_0.M_r
        - qubits_alloc_0.M_r
        - had_0.M_r
        - qubits_alloc_1.M_r
        - split_0.M_r
        - CompareGE_compute_0.M_r
        - split_2.M_r
        - x_0.M_r
        - merge_3.M_r
        - CompareGE_uncompute_0.M_r
        - merge_5.M_r
        - split_6.M_r
        - swap_0.M_r
        - merge_7.M_r
      - source: N_spatial
        targets:
        - RealUSP_compute_0.N_spatial
        - DataLookupClean_compute_0.N_spatial
        - qubits_alloc_0.N_spatial
        - had_0.N_spatial
        - qubits_alloc_1.N_spatial
        - split_0.N_spatial
        - CompareGE_compute_0.N_spatial
        - split_2.N_spatial
        - x_0.N_spatial
        - merge_3.N_spatial
        - CompareGE_uncompute_0.N_spatial
        - merge_5.N_spatial
        - split_6.N_spatial
        - swap_0.N_spatial
        - merge_7.N_spatial
      - source: R
        targets:
        - RealUSP_compute_0.R
        - DataLookupClean_compute_0.R
        - qubits_alloc_0.R
        - had_0.R
        - qubits_alloc_1.R
        - split_0.R
        - CompareGE_compute_0.R
        - split_2.R
        - x_0.R
        - merge_3.R
        - CompareGE_uncompute_0.R
        - merge_5.R
        - split_6.R
        - swap_0.R
        - merge_7.R
      - source: b_as
        targets:
        - RealUSP_compute_0.b_as
        - DataLookupClean_compute_0.b_as
        - qubits_alloc_0.b_as
        - had_0.b_as
        - qubits_alloc_1.b_as
        - split_0.b_as
        - CompareGE_compute_0.b_as
        - split_2.b_as
        - x_0.b_as
        - merge_3.b_as
        - CompareGE_uncompute_0.b_as
        - merge_5.b_as
        - split_6.b_as
        - swap_0.b_as
        - merge_7.b_as
      - source: b_givens
        targets:
        - RealUSP_compute_0.b_givens
        - DataLookupClean_compute_0.b_givens
        - qubits_alloc_0.b_givens
        - had_0.b_givens
        - qubits_alloc_1.b_givens
        - split_0.b_givens
        - CompareGE_compute_0.b_givens
        - split_2.b_givens
        - x_0.b_givens
        - merge_3.b_givens
        - CompareGE_uncompute_0.b_givens
        - merge_5.b_givens
        - split_6.b_givens
        - swap_0.b_givens
        - merge_7.b_givens
      - source: b_mas
        targets:
        - RealUSP_compute_0.b_mas
        - DataLookupClean_compute_0.b_mas
        - qubits_alloc_0.b_mas
        - had_0.b_mas
        - qubits_alloc_1.b_mas
        - split_0.b_mas
        - CompareGE_compute_0.b_mas
        - split_2.b_mas
        - x_0.b_mas
        - merge_3.b_mas
        - CompareGE_uncompute_0.b_mas
        - merge_5.b_mas
        - split_6.b_mas
        - swap_0.b_mas
        - merge_7.b_mas
      - source: idx
        targets:
        - RealUSP_compute_0.idx
        - DataLookupClean_compute_0.idx
        - qubits_alloc_0.idx
        - had_0.idx
        - qubits_alloc_1.idx
        - split_0.idx
        - CompareGE_compute_0.idx
        - split_2.idx
        - x_0.idx
        - merge_3.idx
        - CompareGE_uncompute_0.idx
        - merge_5.idx
        - split_6.idx
        - swap_0.idx
        - merge_7.idx
      local_variables: {}
      meta: {}
      name: AliasSampling_compute_0
      ports:
      - direction: input
        name: in_0
        size: null
      - direction: input
        name: in_1
        size: null
      - direction: input
        name: in_2
        size: null
      - direction: output
        name: out_0
        size: null
      - direction: output
        name: out_1
        size: null
      - direction: output
        name: out_2
        size: null
      - direction: output
        name: out_3
        size: null
      - direction: output
        name: out_4
        size: null
      - direction: output
        name: out_5
        size: null
      repetition: null
      resources: []
      type: qubrick
    - children:
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_1
          ports:
          - direction: output
            name: out_0
            size: (calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R,
              ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))) - 1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))) - 1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: (ceiling(0.75*(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)) + 0.75*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 49)*Max(0, -select_elbow_const(ceiling(R/calc_lambda(R,
                ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
                + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))),
                0) + ceiling(R/calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
            - name: gidney_lelbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))), 0) + ceiling(R/calc_lambda(R,
                ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
                + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
            - name: gidney_relbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))), 0) + ceiling(R/calc_lambda(R,
                ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
                + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_2
            target: out_2
          - source: qubits_alloc_0.out_0
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - qubits_free_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - qubits_free_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - qubits_free_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - qubits_free_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - qubits_free_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - qubits_free_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - qubits_free_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: GoogleSelectOptimized_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_1
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R,
              ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_2
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*(((calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)) + ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))/ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)) - 1)*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
            - name: toffs
              type: additive
              value: (((calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)) + ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))/ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)) - 1)*ceiling(log2(2**(ceiling(log2(M_r))
                + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R -
                1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_2
            target: out_2
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: SwapUp_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_3
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: (calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*(calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: read_0
          ports:
          - direction: through
            name: thru_0
            size: (calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: (calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: read
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: (calc_lambda(R, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1)*ceiling(log2(2**(ceiling(log2(M_r)) +
              1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: GoogleSelectOptimized_compute_0.out_0
          target: merge_1.in_0
        - source: GoogleSelectOptimized_compute_0.out_1
          target: SwapUp_compute_0.in_1
        - source: GoogleSelectOptimized_compute_0.out_2
          target: SwapUp_compute_0.in_2
        - source: SwapUp_compute_0.out_0
          target: merge_3.in_0
        - source: SwapUp_compute_0.out_1
          target: out_1
        - source: SwapUp_compute_0.out_2
          target: had_0.thru_0
        - source: had_0.thru_0
          target: read_0.thru_0
        - source: in_0
          target: split_0.in_0
        - source: merge_1.out_0
          target: split_2.in_0
        - source: merge_3.out_0
          target: out_0
        - source: qubits_alloc_0.out_0
          target: GoogleSelectOptimized_compute_0.in_1
        - source: qubits_alloc_1.out_0
          target: GoogleSelectOptimized_compute_0.in_2
        - source: read_0.thru_0
          target: qubits_free_0.in_0
        - source: split_0.out_0
          target: GoogleSelectOptimized_compute_0.in_0
        - source: split_0.out_remainder
          target: merge_1.in_remainder
        - source: split_2.out_0
          target: SwapUp_compute_0.in_0
        - source: split_2.out_remainder
          target: merge_3.in_remainder
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - qubits_alloc_1.M_r
          - split_0.M_r
          - GoogleSelectOptimized_compute_0.M_r
          - merge_1.M_r
          - split_2.M_r
          - SwapUp_compute_0.M_r
          - merge_3.M_r
          - had_0.M_r
          - read_0.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - qubits_alloc_1.N_spatial
          - split_0.N_spatial
          - GoogleSelectOptimized_compute_0.N_spatial
          - merge_1.N_spatial
          - split_2.N_spatial
          - SwapUp_compute_0.N_spatial
          - merge_3.N_spatial
          - had_0.N_spatial
          - read_0.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - qubits_alloc_1.R
          - split_0.R
          - GoogleSelectOptimized_compute_0.R
          - merge_1.R
          - split_2.R
          - SwapUp_compute_0.R
          - merge_3.R
          - had_0.R
          - read_0.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - qubits_alloc_1.b_as
          - split_0.b_as
          - GoogleSelectOptimized_compute_0.b_as
          - merge_1.b_as
          - split_2.b_as
          - SwapUp_compute_0.b_as
          - merge_3.b_as
          - had_0.b_as
          - read_0.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - qubits_alloc_1.b_givens
          - split_0.b_givens
          - GoogleSelectOptimized_compute_0.b_givens
          - merge_1.b_givens
          - split_2.b_givens
          - SwapUp_compute_0.b_givens
          - merge_3.b_givens
          - had_0.b_givens
          - read_0.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - qubits_alloc_1.b_mas
          - split_0.b_mas
          - GoogleSelectOptimized_compute_0.b_mas
          - merge_1.b_mas
          - split_2.b_mas
          - SwapUp_compute_0.b_mas
          - merge_3.b_mas
          - had_0.b_mas
          - read_0.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - qubits_alloc_1.idx
          - split_0.idx
          - GoogleSelectOptimized_compute_0.idx
          - merge_1.idx
          - split_2.idx
          - SwapUp_compute_0.idx
          - merge_3.idx
          - had_0.idx
          - read_0.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: DataLookupClean_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_0
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        - direction: output
          name: out_0
          size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
            + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + 1
        - direction: output
          name: out_1
          size: M_r*(R - 1)
        - direction: output
          name: out_2
          size: b_mas
        - direction: output
          name: out_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(M_r
            - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + 1)-(M_r*(R - 1))-(b_mas)
        repetition: null
        resources: []
        type: split
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '3'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children:
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: lelbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: lelbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: s_inv_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: s_inv
                  connections:
                  - source: in_0
                    target: s_inv_0.thru_0
                  - source: s_inv_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - s_inv_0.M_r
                  - source: N_spatial
                    targets:
                    - s_inv_0.N_spatial
                  - source: R
                    targets:
                    - s_inv_0.R
                  - source: b_as
                    targets:
                    - s_inv_0.b_as
                  - source: b_givens
                    targets:
                    - s_inv_0.b_givens
                  - source: b_mas
                    targets:
                    - s_inv_0.b_mas
                  - source: idx
                    targets:
                    - s_inv_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_s_inv_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_s_inv_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_s_inv_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_s_inv_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_s_inv_0.N_spatial
                - source: R
                  targets:
                  - Repeated_s_inv_0.R
                - source: b_as
                  targets:
                  - Repeated_s_inv_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_s_inv_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_s_inv_0.b_mas
                - source: idx
                  targets:
                  - Repeated_s_inv_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_s_inv_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Heaviside(1.5 - Max(b_as, b_givens, b_mas), 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                    - 1.5, 0)
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: t_inv_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '28.5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '1'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: t_inv
                  connections:
                  - source: in_0
                    target: t_inv_0.thru_0
                  - source: t_inv_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - t_inv_0.M_r
                  - source: N_spatial
                    targets:
                    - t_inv_0.N_spatial
                  - source: R
                    targets:
                    - t_inv_0.R
                  - source: b_as
                    targets:
                    - t_inv_0.b_as
                  - source: b_givens
                    targets:
                    - t_inv_0.b_givens
                  - source: b_mas
                    targets:
                    - t_inv_0.b_mas
                  - source: idx
                    targets:
                    - t_inv_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_t_inv_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_t_inv_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_t_inv_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_t_inv_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_t_inv_0.N_spatial
                - source: R
                  targets:
                  - Repeated_t_inv_0.R
                - source: b_as
                  targets:
                  - Repeated_t_inv_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_t_inv_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_t_inv_0.b_mas
                - source: idx
                  targets:
                  - Repeated_t_inv_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_t_inv_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Heaviside(2.5 - Max(b_as, b_givens, b_mas), 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                    - 2.5, 0)
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: phase_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '1397'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '1'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: phase
                  connections:
                  - source: in_0
                    target: phase_0.thru_0
                  - source: phase_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - phase_0.M_r
                  - source: N_spatial
                    targets:
                    - phase_0.N_spatial
                  - source: R
                    targets:
                    - phase_0.R
                  - source: b_as
                    targets:
                    - phase_0.b_as
                  - source: b_givens
                    targets:
                    - phase_0.b_givens
                  - source: b_mas
                    targets:
                    - phase_0.b_mas
                  - source: idx
                    targets:
                    - phase_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_phase_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_phase_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_phase_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_phase_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_phase_0.N_spatial
                - source: R
                  targets:
                  - Repeated_phase_0.R
                - source: b_as
                  targets:
                  - Repeated_phase_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_phase_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_phase_0.b_mas
                - source: idx
                  targets:
                  - Repeated_phase_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_phase_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Max(0, -Heaviside(1.5 - Max(b_as, b_givens, b_mas), 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                    - 1.5, 0) - Heaviside(2.5 - Max(b_as, b_givens, b_mas), 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                    - 2.5, 0) + Max(0, b_mas - Max(b_as, b_givens, b_mas)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                    b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              connections:
              - source: Repeated_phase_0_repetition.out_0
                target: merge_10.in_0
              - source: Repeated_s_inv_0_repetition.out_0
                target: merge_2.in_0
              - source: Repeated_t_inv_0_repetition.out_0
                target: merge_6.in_0
              - source: had_0.thru_0
                target: merge_0.in_0
              - source: in_0
                target: merge_0.in_1
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: had_0.thru_0
              - source: split_1.out_0
                target: Repeated_s_inv_0_repetition.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_11.out_0
                target: out_0
              - source: split_11.out_1
                target: out_1
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_5.out_0
                target: Repeated_t_inv_0_repetition.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: merge_8.in_0
              - source: split_7.out_1
                target: merge_8.in_1
              - source: split_9.out_0
                target: Repeated_phase_0_repetition.in_0
              - source: split_9.out_remainder
                target: merge_10.in_remainder
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - had_0.M_r
                - merge_0.M_r
                - split_1.M_r
                - Repeated_s_inv_0_repetition.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - Repeated_t_inv_0_repetition.M_r
                - merge_6.M_r
                - split_7.M_r
                - merge_8.M_r
                - split_9.M_r
                - Repeated_phase_0_repetition.M_r
                - merge_10.M_r
                - split_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - had_0.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - Repeated_s_inv_0_repetition.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - Repeated_t_inv_0_repetition.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - Repeated_phase_0_repetition.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - had_0.R
                - merge_0.R
                - split_1.R
                - Repeated_s_inv_0_repetition.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - Repeated_t_inv_0_repetition.R
                - merge_6.R
                - split_7.R
                - merge_8.R
                - split_9.R
                - Repeated_phase_0_repetition.R
                - merge_10.R
                - split_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - had_0.b_as
                - merge_0.b_as
                - split_1.b_as
                - Repeated_s_inv_0_repetition.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - Repeated_t_inv_0_repetition.b_as
                - merge_6.b_as
                - split_7.b_as
                - merge_8.b_as
                - split_9.b_as
                - Repeated_phase_0_repetition.b_as
                - merge_10.b_as
                - split_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - had_0.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - Repeated_s_inv_0_repetition.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - Repeated_t_inv_0_repetition.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - Repeated_phase_0_repetition.b_givens
                - merge_10.b_givens
                - split_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - had_0.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - Repeated_s_inv_0_repetition.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - Repeated_t_inv_0_repetition.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - Repeated_phase_0_repetition.b_mas
                - merge_10.b_mas
                - split_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - had_0.idx
                - merge_0.idx
                - split_1.idx
                - Repeated_s_inv_0_repetition.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - Repeated_t_inv_0_repetition.idx
                - merge_6.idx
                - split_7.idx
                - merge_8.idx
                - split_9.idx
                - Repeated_phase_0_repetition.idx
                - merge_10.idx
                - split_11.idx
              local_variables: {}
              meta: {}
              name: RotationCatalystStatePrep_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: lelbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: lelbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_3
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: lelbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '44'
                    - name: gidney_lelbows
                      type: additive
                      value: '1'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: lelbow
                  connections:
                  - source: in_0
                    target: lelbow_0.thru_0
                  - source: in_1
                    target: lelbow_0.thru_1
                  - source: in_2
                    target: lelbow_0.thru_2
                  - source: lelbow_0.thru_0
                    target: out_0
                  - source: lelbow_0.thru_1
                    target: out_1
                  - source: lelbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - lelbow_0.M_r
                  - source: N_spatial
                    targets:
                    - lelbow_0.N_spatial
                  - source: R
                    targets:
                    - lelbow_0.R
                  - source: b_as
                    targets:
                    - lelbow_0.b_as
                  - source: b_givens
                    targets:
                    - lelbow_0.b_givens
                  - source: b_mas
                    targets:
                    - lelbow_0.b_mas
                  - source: idx
                    targets:
                    - lelbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_9
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_10
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_9.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_8.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_8.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_11.in_0
              - source: in_0
                target: split_0.in_0
              - source: lelbow_0.thru_0
                target: merge_3.in_0
              - source: lelbow_0.thru_1
                target: x_0.thru_0
              - source: merge_11.out_0
                target: out_1
              - source: merge_3.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_10.in_0
              - source: merge_9.out_0
                target: out_0
              - source: qubits_alloc_0.out_0
                target: split_1.in_0
              - source: split_0.out_0
                target: lelbow_0.thru_0
              - source: split_0.out_remainder
                target: merge_3.in_remainder
              - source: split_1.out_0
                target: lelbow_0.thru_1
              - source: split_1.out_remainder
                target: merge_5.in_remainder
              - source: split_10.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_10.out_remainder
                target: merge_11.in_remainder
              - source: split_6.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_6.out_remainder
                target: merge_9.in_remainder
              - source: split_7.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_7.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: x_0.thru_0
                target: merge_5.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - split_0.M_r
                - split_1.M_r
                - lelbow_0.M_r
                - merge_3.M_r
                - x_0.M_r
                - merge_5.M_r
                - split_6.M_r
                - split_7.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_8.M_r
                - merge_9.M_r
                - split_10.M_r
                - Repeated_x_0_repetition.M_r
                - merge_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - split_1.N_spatial
                - lelbow_0.N_spatial
                - merge_3.N_spatial
                - x_0.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - split_7.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_8.N_spatial
                - merge_9.N_spatial
                - split_10.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - split_0.R
                - split_1.R
                - lelbow_0.R
                - merge_3.R
                - x_0.R
                - merge_5.R
                - split_6.R
                - split_7.R
                - Repeated_lelbow_0_repetition.R
                - merge_8.R
                - merge_9.R
                - split_10.R
                - Repeated_x_0_repetition.R
                - merge_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - split_0.b_as
                - split_1.b_as
                - lelbow_0.b_as
                - merge_3.b_as
                - x_0.b_as
                - merge_5.b_as
                - split_6.b_as
                - split_7.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_8.b_as
                - merge_9.b_as
                - split_10.b_as
                - Repeated_x_0_repetition.b_as
                - merge_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - split_1.b_givens
                - lelbow_0.b_givens
                - merge_3.b_givens
                - x_0.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - split_7.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_8.b_givens
                - merge_9.b_givens
                - split_10.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - split_1.b_mas
                - lelbow_0.b_mas
                - merge_3.b_mas
                - x_0.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - split_7.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_8.b_mas
                - merge_9.b_mas
                - split_10.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - split_0.idx
                - split_1.idx
                - lelbow_0.idx
                - merge_3.idx
                - x_0.idx
                - merge_5.idx
                - split_6.idx
                - split_7.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_8.idx
                - merge_9.idx
                - split_10.idx
                - Repeated_x_0_repetition.idx
                - merge_11.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_0.out_0
                target: out_0
              - source: Repeated_had_0.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_0.in_0
              - source: in_1
                target: Repeated_had_0.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_0.M_r
              - source: N_spatial
                targets:
                - Repeated_had_0.N_spatial
              - source: R
                targets:
                - Repeated_had_0.R
              - source: b_as
                targets:
                - Repeated_had_0.b_as
              - source: b_givens
                targets:
                - Repeated_had_0.b_givens
              - source: b_mas
                targets:
                - Repeated_had_0.b_mas
              - source: idx
                targets:
                - Repeated_had_0.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_0_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_1
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_1
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_2
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_3
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_4
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_5
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_6
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_7
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_8
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_9
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_2
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_10
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_11
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_12
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: z
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_13
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_2
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_14
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_15
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_3
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_16
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_17
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_18
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_19
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_20
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_21
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_22
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_23
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_4
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_24
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_25
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_3
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_1
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_1.out_0
                target: out_0
              - source: Repeated_had_1.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_1.in_0
              - source: in_1
                target: Repeated_had_1.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_1.M_r
              - source: N_spatial
                targets:
                - Repeated_had_1.N_spatial
              - source: R
                targets:
                - Repeated_had_1.R
              - source: b_as
                targets:
                - Repeated_had_1.b_as
              - source: b_givens
                targets:
                - Repeated_had_1.b_givens
              - source: b_mas
                targets:
                - Repeated_had_1.b_mas
              - source: idx
                targets:
                - Repeated_had_1.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_1_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_1
              ports:
              - direction: through
                name: thru_0
                size: ceiling(log2(R))
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 47*Heaviside(ceiling(log2(R)) - 1.5, 0) + 49*ceiling(log2(R))
                  - 49*Min(2, ceiling(log2(R)))
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: Heaviside(ceiling(log2(R)) - 1.5, 0)
              type: z
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_2
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_2.out_0
                target: out_0
              - source: Repeated_had_2.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_2.in_0
              - source: in_1
                target: Repeated_had_2.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_2.M_r
              - source: N_spatial
                targets:
                - Repeated_had_2.N_spatial
              - source: R
                targets:
                - Repeated_had_2.R
              - source: b_as
                targets:
                - Repeated_had_2.b_as
              - source: b_givens
                targets:
                - Repeated_had_2.b_givens
              - source: b_mas
                targets:
                - Repeated_had_2.b_mas
              - source: idx
                targets:
                - Repeated_had_2.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_2_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_2
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: relbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '1'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: relbow
                  connections:
                  - source: in_0
                    target: relbow_0.thru_0
                  - source: in_1
                    target: relbow_0.thru_1
                  - source: in_2
                    target: relbow_0.thru_2
                  - source: relbow_0.thru_0
                    target: out_0
                  - source: relbow_0.thru_1
                    target: out_1
                  - source: relbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - relbow_0.M_r
                  - source: N_spatial
                    targets:
                    - relbow_0.N_spatial
                  - source: R
                    targets:
                    - relbow_0.R
                  - source: b_as
                    targets:
                    - relbow_0.b_as
                  - source: b_givens
                    targets:
                    - relbow_0.b_givens
                  - source: b_mas
                    targets:
                    - relbow_0.b_mas
                  - source: idx
                    targets:
                    - relbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_8
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: relbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: relbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_5.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_4.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_4.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_1.in_0
              - source: in_0
                target: split_2.in_0
              - source: in_1
                target: split_0.in_0
              - source: merge_1.out_0
                target: split_3.in_0
              - source: merge_10.out_0
                target: qubits_free_0.in_0
              - source: merge_11.out_0
                target: out_0
              - source: merge_4.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_8.in_0
              - source: relbow_0.thru_0
                target: merge_11.in_0
              - source: relbow_0.thru_1
                target: merge_10.in_0
              - source: split_0.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_2.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_2.out_remainder
                target: merge_5.in_remainder
              - source: split_3.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_3.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_6.out_0
                target: x_0.thru_0
              - source: split_6.out_remainder
                target: merge_10.in_remainder
              - source: split_8.out_0
                target: relbow_0.thru_0
              - source: split_8.out_remainder
                target: merge_11.in_remainder
              - source: x_0.thru_0
                target: relbow_0.thru_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - split_0.M_r
                - Repeated_x_0_repetition.M_r
                - merge_1.M_r
                - split_2.M_r
                - split_3.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_4.M_r
                - merge_5.M_r
                - split_6.M_r
                - x_0.M_r
                - split_8.M_r
                - relbow_0.M_r
                - merge_10.M_r
                - merge_11.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - split_0.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_1.N_spatial
                - split_2.N_spatial
                - split_3.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_4.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - x_0.N_spatial
                - split_8.N_spatial
                - relbow_0.N_spatial
                - merge_10.N_spatial
                - merge_11.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - split_0.R
                - Repeated_x_0_repetition.R
                - merge_1.R
                - split_2.R
                - split_3.R
                - Repeated_lelbow_0_repetition.R
                - merge_4.R
                - merge_5.R
                - split_6.R
                - x_0.R
                - split_8.R
                - relbow_0.R
                - merge_10.R
                - merge_11.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - split_0.b_as
                - Repeated_x_0_repetition.b_as
                - merge_1.b_as
                - split_2.b_as
                - split_3.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_4.b_as
                - merge_5.b_as
                - split_6.b_as
                - x_0.b_as
                - split_8.b_as
                - relbow_0.b_as
                - merge_10.b_as
                - merge_11.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - split_0.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_1.b_givens
                - split_2.b_givens
                - split_3.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_4.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - x_0.b_givens
                - split_8.b_givens
                - relbow_0.b_givens
                - merge_10.b_givens
                - merge_11.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - split_0.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_1.b_mas
                - split_2.b_mas
                - split_3.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_4.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - x_0.b_mas
                - split_8.b_mas
                - relbow_0.b_mas
                - merge_10.b_mas
                - merge_11.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - split_0.idx
                - Repeated_x_0_repetition.idx
                - merge_1.idx
                - split_2.idx
                - split_3.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_4.idx
                - merge_5.idx
                - split_6.idx
                - x_0.idx
                - split_8.idx
                - relbow_0.idx
                - merge_10.idx
                - merge_11.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_1
              ports:
              - direction: output
                name: out_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_26
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: lelbow_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: lelbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_27
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            connections:
            - source: CompareLT_compute_0.out_0
              target: CompareLT_uncompute_0.in_0
            - source: CompareLT_compute_0.out_1
              target: CompareLT_uncompute_0.in_1
            - source: CompareLT_compute_0.out_2
              target: split_12.in_0
            - source: CompareLT_compute_1.out_0
              target: CompareLT_uncompute_1.in_0
            - source: CompareLT_compute_1.out_1
              target: CompareLT_uncompute_1.in_1
            - source: CompareLT_compute_1.out_2
              target: split_26.in_0
            - source: CompareLT_uncompute_0.out_0
              target: Contiguizer_uncompute_0.in_0
            - source: CompareLT_uncompute_0.out_1
              target: Repeated_had_1_repetition.in_1
            - source: CompareLT_uncompute_1.out_0
              target: out_0
            - source: CompareLT_uncompute_1.out_1
              target: out_4
            - source: Contiguizer_compute_0.out_0
              target: CompareLT_compute_0.in_0
            - source: Contiguizer_compute_0.out_1
              target: Repeated_had_0_repetition.in_0
            - source: Contiguizer_uncompute_0.out_0
              target: CompareLT_compute_1.in_0
            - source: GidneyAdd_compute_0.out_0
              target: merge_6.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: merge_20.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: Repeated_had_0_repetition.out_0
              target: Repeated_had_1_repetition.in_0
            - source: Repeated_had_0_repetition.out_1
              target: CompareLT_compute_0.in_1
            - source: Repeated_had_1_repetition.out_0
              target: Repeated_had_2_repetition.in_0
            - source: Repeated_had_1_repetition.out_1
              target: z_1.thru_0
            - source: Repeated_had_2_repetition.out_0
              target: Contiguizer_uncompute_0.in_1
            - source: Repeated_had_2_repetition.out_1
              target: CompareLT_compute_1.in_1
            - source: RotationCatalystStatePrep_compute_0.out_0
              target: merge_0.in_0
            - source: RotationCatalystStatePrep_compute_0.out_1
              target: merge_0.in_1
            - source: had_0.thru_0
              target: x_1.thru_1
            - source: had_1.thru_0
              target: s_0.thru_0
            - source: had_2.thru_0
              target: x_3.thru_1
            - source: had_3.thru_0
              target: s_1.thru_0
            - source: in_0
              target: Contiguizer_compute_0.in_0
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: RotationCatalystStatePrep_compute_0.in_0
            - source: in_3
              target: Repeated_had_0_repetition.in_1
            - source: lelbow_0.thru_0
              target: x_0.thru_0
            - source: lelbow_1.thru_0
              target: merge_27.in_0
            - source: lelbow_1.thru_1
              target: out_6
            - source: merge_0.out_0
              target: split_1.in_0
            - source: merge_10.out_0
              target: split_11.in_0
            - source: merge_13.out_0
              target: CompareLT_uncompute_0.in_2
            - source: merge_14.out_0
              target: split_15.in_0
            - source: merge_16.out_0
              target: split_17.in_0
            - source: merge_18.out_0
              target: split_19.in_0
            - source: merge_2.out_0
              target: split_3.in_0
            - source: merge_20.out_0
              target: split_21.in_0
            - source: merge_22.out_0
              target: split_23.in_0
            - source: merge_24.out_0
              target: split_25.in_0
            - source: merge_27.out_0
              target: CompareLT_uncompute_1.in_2
            - source: merge_4.out_0
              target: split_5.in_0
            - source: merge_6.out_0
              target: split_7.in_0
            - source: merge_8.out_0
              target: split_9.in_0
            - source: qubits_alloc_0.out_0
              target: lelbow_0.thru_0
            - source: qubits_alloc_1.out_0
              target: lelbow_1.thru_1
            - source: s_0.thru_0
              target: z_0.thru_1
            - source: s_1.thru_0
              target: z_1.thru_1
            - source: s_inv_0.thru_0
              target: had_0.thru_0
            - source: s_inv_1.thru_0
              target: had_2.thru_0
            - source: split_1.out_0
              target: x_1.thru_0
            - source: split_1.out_remainder
              target: merge_2.in_remainder
            - source: split_11.out_0
              target: merge_14.in_0
            - source: split_11.out_1
              target: merge_14.in_1
            - source: split_12.out_0
              target: z_0.thru_0
            - source: split_12.out_remainder
              target: merge_13.in_remainder
            - source: split_15.out_0
              target: x_3.thru_0
            - source: split_15.out_remainder
              target: merge_16.in_remainder
            - source: split_17.out_0
              target: merge_18.in_0
            - source: split_17.out_1
              target: merge_18.in_1
            - source: split_19.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: split_19.out_remainder
              target: merge_20.in_remainder
            - source: split_21.out_0
              target: merge_22.in_0
            - source: split_21.out_1
              target: merge_22.in_1
            - source: split_23.out_0
              target: x_4.thru_0
            - source: split_23.out_remainder
              target: merge_24.in_remainder
            - source: split_25.out_0
              target: out_3
            - source: split_25.out_1
              target: out_2
            - source: split_26.out_0
              target: lelbow_1.thru_0
            - source: split_26.out_remainder
              target: merge_27.in_remainder
            - source: split_3.out_0
              target: merge_4.in_0
            - source: split_3.out_1
              target: merge_4.in_1
            - source: split_5.out_0
              target: GidneyAdd_compute_0.in_0
            - source: split_5.out_remainder
              target: merge_6.in_remainder
            - source: split_7.out_0
              target: merge_8.in_0
            - source: split_7.out_1
              target: merge_8.in_1
            - source: split_9.out_0
              target: x_2.thru_0
            - source: split_9.out_remainder
              target: merge_10.in_remainder
            - source: x_0.thru_0
              target: s_inv_0.thru_0
            - source: x_1.thru_0
              target: merge_2.in_0
            - source: x_1.thru_1
              target: x_2.thru_1
            - source: x_2.thru_0
              target: merge_10.in_0
            - source: x_2.thru_1
              target: had_1.thru_0
            - source: x_3.thru_0
              target: merge_16.in_0
            - source: x_3.thru_1
              target: x_4.thru_1
            - source: x_4.thru_0
              target: merge_24.in_0
            - source: x_4.thru_1
              target: had_3.thru_0
            - source: z_0.thru_0
              target: merge_13.in_0
            - source: z_0.thru_1
              target: s_inv_1.thru_0
            - source: z_1.thru_0
              target: Repeated_had_2_repetition.in_1
            - source: z_1.thru_1
              target: out_5
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - lelbow_0.M_r
              - x_0.M_r
              - RotationCatalystStatePrep_compute_0.M_r
              - Contiguizer_compute_0.M_r
              - Repeated_had_0_repetition.M_r
              - CompareLT_compute_0.M_r
              - s_inv_0.M_r
              - had_0.M_r
              - merge_0.M_r
              - split_1.M_r
              - x_1.M_r
              - merge_2.M_r
              - split_3.M_r
              - merge_4.M_r
              - split_5.M_r
              - GidneyAdd_compute_0.M_r
              - merge_6.M_r
              - split_7.M_r
              - merge_8.M_r
              - split_9.M_r
              - x_2.M_r
              - merge_10.M_r
              - split_11.M_r
              - had_1.M_r
              - s_0.M_r
              - split_12.M_r
              - z_0.M_r
              - merge_13.M_r
              - s_inv_1.M_r
              - had_2.M_r
              - merge_14.M_r
              - split_15.M_r
              - x_3.M_r
              - merge_16.M_r
              - split_17.M_r
              - merge_18.M_r
              - split_19.M_r
              - GidneyAdd_uncompute_0.M_r
              - merge_20.M_r
              - split_21.M_r
              - merge_22.M_r
              - split_23.M_r
              - x_4.M_r
              - merge_24.M_r
              - split_25.M_r
              - had_3.M_r
              - s_1.M_r
              - CompareLT_uncompute_0.M_r
              - Repeated_had_1_repetition.M_r
              - z_1.M_r
              - Repeated_had_2_repetition.M_r
              - Contiguizer_uncompute_0.M_r
              - qubits_alloc_1.M_r
              - CompareLT_compute_1.M_r
              - split_26.M_r
              - lelbow_1.M_r
              - merge_27.M_r
              - CompareLT_uncompute_1.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - lelbow_0.N_spatial
              - x_0.N_spatial
              - RotationCatalystStatePrep_compute_0.N_spatial
              - Contiguizer_compute_0.N_spatial
              - Repeated_had_0_repetition.N_spatial
              - CompareLT_compute_0.N_spatial
              - s_inv_0.N_spatial
              - had_0.N_spatial
              - merge_0.N_spatial
              - split_1.N_spatial
              - x_1.N_spatial
              - merge_2.N_spatial
              - split_3.N_spatial
              - merge_4.N_spatial
              - split_5.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - merge_6.N_spatial
              - split_7.N_spatial
              - merge_8.N_spatial
              - split_9.N_spatial
              - x_2.N_spatial
              - merge_10.N_spatial
              - split_11.N_spatial
              - had_1.N_spatial
              - s_0.N_spatial
              - split_12.N_spatial
              - z_0.N_spatial
              - merge_13.N_spatial
              - s_inv_1.N_spatial
              - had_2.N_spatial
              - merge_14.N_spatial
              - split_15.N_spatial
              - x_3.N_spatial
              - merge_16.N_spatial
              - split_17.N_spatial
              - merge_18.N_spatial
              - split_19.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - merge_20.N_spatial
              - split_21.N_spatial
              - merge_22.N_spatial
              - split_23.N_spatial
              - x_4.N_spatial
              - merge_24.N_spatial
              - split_25.N_spatial
              - had_3.N_spatial
              - s_1.N_spatial
              - CompareLT_uncompute_0.N_spatial
              - Repeated_had_1_repetition.N_spatial
              - z_1.N_spatial
              - Repeated_had_2_repetition.N_spatial
              - Contiguizer_uncompute_0.N_spatial
              - qubits_alloc_1.N_spatial
              - CompareLT_compute_1.N_spatial
              - split_26.N_spatial
              - lelbow_1.N_spatial
              - merge_27.N_spatial
              - CompareLT_uncompute_1.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - lelbow_0.R
              - x_0.R
              - RotationCatalystStatePrep_compute_0.R
              - Contiguizer_compute_0.R
              - Repeated_had_0_repetition.R
              - CompareLT_compute_0.R
              - s_inv_0.R
              - had_0.R
              - merge_0.R
              - split_1.R
              - x_1.R
              - merge_2.R
              - split_3.R
              - merge_4.R
              - split_5.R
              - GidneyAdd_compute_0.R
              - merge_6.R
              - split_7.R
              - merge_8.R
              - split_9.R
              - x_2.R
              - merge_10.R
              - split_11.R
              - had_1.R
              - s_0.R
              - split_12.R
              - z_0.R
              - merge_13.R
              - s_inv_1.R
              - had_2.R
              - merge_14.R
              - split_15.R
              - x_3.R
              - merge_16.R
              - split_17.R
              - merge_18.R
              - split_19.R
              - GidneyAdd_uncompute_0.R
              - merge_20.R
              - split_21.R
              - merge_22.R
              - split_23.R
              - x_4.R
              - merge_24.R
              - split_25.R
              - had_3.R
              - s_1.R
              - CompareLT_uncompute_0.R
              - Repeated_had_1_repetition.R
              - z_1.R
              - Repeated_had_2_repetition.R
              - Contiguizer_uncompute_0.R
              - qubits_alloc_1.R
              - CompareLT_compute_1.R
              - split_26.R
              - lelbow_1.R
              - merge_27.R
              - CompareLT_uncompute_1.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - lelbow_0.b_as
              - x_0.b_as
              - RotationCatalystStatePrep_compute_0.b_as
              - Contiguizer_compute_0.b_as
              - Repeated_had_0_repetition.b_as
              - CompareLT_compute_0.b_as
              - s_inv_0.b_as
              - had_0.b_as
              - merge_0.b_as
              - split_1.b_as
              - x_1.b_as
              - merge_2.b_as
              - split_3.b_as
              - merge_4.b_as
              - split_5.b_as
              - GidneyAdd_compute_0.b_as
              - merge_6.b_as
              - split_7.b_as
              - merge_8.b_as
              - split_9.b_as
              - x_2.b_as
              - merge_10.b_as
              - split_11.b_as
              - had_1.b_as
              - s_0.b_as
              - split_12.b_as
              - z_0.b_as
              - merge_13.b_as
              - s_inv_1.b_as
              - had_2.b_as
              - merge_14.b_as
              - split_15.b_as
              - x_3.b_as
              - merge_16.b_as
              - split_17.b_as
              - merge_18.b_as
              - split_19.b_as
              - GidneyAdd_uncompute_0.b_as
              - merge_20.b_as
              - split_21.b_as
              - merge_22.b_as
              - split_23.b_as
              - x_4.b_as
              - merge_24.b_as
              - split_25.b_as
              - had_3.b_as
              - s_1.b_as
              - CompareLT_uncompute_0.b_as
              - Repeated_had_1_repetition.b_as
              - z_1.b_as
              - Repeated_had_2_repetition.b_as
              - Contiguizer_uncompute_0.b_as
              - qubits_alloc_1.b_as
              - CompareLT_compute_1.b_as
              - split_26.b_as
              - lelbow_1.b_as
              - merge_27.b_as
              - CompareLT_uncompute_1.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - lelbow_0.b_givens
              - x_0.b_givens
              - RotationCatalystStatePrep_compute_0.b_givens
              - Contiguizer_compute_0.b_givens
              - Repeated_had_0_repetition.b_givens
              - CompareLT_compute_0.b_givens
              - s_inv_0.b_givens
              - had_0.b_givens
              - merge_0.b_givens
              - split_1.b_givens
              - x_1.b_givens
              - merge_2.b_givens
              - split_3.b_givens
              - merge_4.b_givens
              - split_5.b_givens
              - GidneyAdd_compute_0.b_givens
              - merge_6.b_givens
              - split_7.b_givens
              - merge_8.b_givens
              - split_9.b_givens
              - x_2.b_givens
              - merge_10.b_givens
              - split_11.b_givens
              - had_1.b_givens
              - s_0.b_givens
              - split_12.b_givens
              - z_0.b_givens
              - merge_13.b_givens
              - s_inv_1.b_givens
              - had_2.b_givens
              - merge_14.b_givens
              - split_15.b_givens
              - x_3.b_givens
              - merge_16.b_givens
              - split_17.b_givens
              - merge_18.b_givens
              - split_19.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - merge_20.b_givens
              - split_21.b_givens
              - merge_22.b_givens
              - split_23.b_givens
              - x_4.b_givens
              - merge_24.b_givens
              - split_25.b_givens
              - had_3.b_givens
              - s_1.b_givens
              - CompareLT_uncompute_0.b_givens
              - Repeated_had_1_repetition.b_givens
              - z_1.b_givens
              - Repeated_had_2_repetition.b_givens
              - Contiguizer_uncompute_0.b_givens
              - qubits_alloc_1.b_givens
              - CompareLT_compute_1.b_givens
              - split_26.b_givens
              - lelbow_1.b_givens
              - merge_27.b_givens
              - CompareLT_uncompute_1.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - lelbow_0.b_mas
              - x_0.b_mas
              - RotationCatalystStatePrep_compute_0.b_mas
              - Contiguizer_compute_0.b_mas
              - Repeated_had_0_repetition.b_mas
              - CompareLT_compute_0.b_mas
              - s_inv_0.b_mas
              - had_0.b_mas
              - merge_0.b_mas
              - split_1.b_mas
              - x_1.b_mas
              - merge_2.b_mas
              - split_3.b_mas
              - merge_4.b_mas
              - split_5.b_mas
              - GidneyAdd_compute_0.b_mas
              - merge_6.b_mas
              - split_7.b_mas
              - merge_8.b_mas
              - split_9.b_mas
              - x_2.b_mas
              - merge_10.b_mas
              - split_11.b_mas
              - had_1.b_mas
              - s_0.b_mas
              - split_12.b_mas
              - z_0.b_mas
              - merge_13.b_mas
              - s_inv_1.b_mas
              - had_2.b_mas
              - merge_14.b_mas
              - split_15.b_mas
              - x_3.b_mas
              - merge_16.b_mas
              - split_17.b_mas
              - merge_18.b_mas
              - split_19.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - merge_20.b_mas
              - split_21.b_mas
              - merge_22.b_mas
              - split_23.b_mas
              - x_4.b_mas
              - merge_24.b_mas
              - split_25.b_mas
              - had_3.b_mas
              - s_1.b_mas
              - CompareLT_uncompute_0.b_mas
              - Repeated_had_1_repetition.b_mas
              - z_1.b_mas
              - Repeated_had_2_repetition.b_mas
              - Contiguizer_uncompute_0.b_mas
              - qubits_alloc_1.b_mas
              - CompareLT_compute_1.b_mas
              - split_26.b_mas
              - lelbow_1.b_mas
              - merge_27.b_mas
              - CompareLT_uncompute_1.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - lelbow_0.idx
              - x_0.idx
              - RotationCatalystStatePrep_compute_0.idx
              - Contiguizer_compute_0.idx
              - Repeated_had_0_repetition.idx
              - CompareLT_compute_0.idx
              - s_inv_0.idx
              - had_0.idx
              - merge_0.idx
              - split_1.idx
              - x_1.idx
              - merge_2.idx
              - split_3.idx
              - merge_4.idx
              - split_5.idx
              - GidneyAdd_compute_0.idx
              - merge_6.idx
              - split_7.idx
              - merge_8.idx
              - split_9.idx
              - x_2.idx
              - merge_10.idx
              - split_11.idx
              - had_1.idx
              - s_0.idx
              - split_12.idx
              - z_0.idx
              - merge_13.idx
              - s_inv_1.idx
              - had_2.idx
              - merge_14.idx
              - split_15.idx
              - x_3.idx
              - merge_16.idx
              - split_17.idx
              - merge_18.idx
              - split_19.idx
              - GidneyAdd_uncompute_0.idx
              - merge_20.idx
              - split_21.idx
              - merge_22.idx
              - split_23.idx
              - x_4.idx
              - merge_24.idx
              - split_25.idx
              - had_3.idx
              - s_1.idx
              - CompareLT_uncompute_0.idx
              - Repeated_had_1_repetition.idx
              - z_1.idx
              - Repeated_had_2_repetition.idx
              - Contiguizer_uncompute_0.idx
              - qubits_alloc_1.idx
              - CompareLT_compute_1.idx
              - split_26.idx
              - lelbow_1.idx
              - merge_27.idx
              - CompareLT_uncompute_1.idx
            local_variables: {}
            meta: {}
            name: MultiplexedRealUSPDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            - direction: output
              name: out_5
              size: null
            - direction: output
              name: out_6
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_1
                ports:
                - direction: output
                  name: out_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                      - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                      - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*b_mas + 0.75*(b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + 0.75*ceiling(log2(R))) + 49)*Max(0,
                      -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R, b_mas +
                      ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R)))))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_mas + ceiling(log2(R))))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (-1 + (b_mas + (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + ceiling(log2(R)))/(b_mas +
                      ceiling(log2(R))))*(55*b_mas + 55*ceiling(log2(R)))
                  - name: toffs
                    type: additive
                    value: (-1 + (b_mas + (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + ceiling(log2(R)))/(b_mas +
                      ceiling(log2(R))))*(b_mas + ceiling(log2(R)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: SwapUp_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_mas + ceiling(log2(R))))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*(b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))) - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_2.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: SwapUp_compute_0.in_1
              - source: GoogleSelectOptimized_compute_0.out_2
                target: SwapUp_compute_0.in_2
              - source: SwapUp_compute_0.out_0
                target: merge_6.in_0
              - source: SwapUp_compute_0.out_1
                target: out_1
              - source: SwapUp_compute_0.out_2
                target: had_0.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: in_0
                target: merge_0.in_1
              - source: in_1
                target: merge_0.in_0
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: qubits_alloc_0.out_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: qubits_alloc_1.out_0
                target: GoogleSelectOptimized_compute_0.in_2
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_1.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_5.out_0
                target: SwapUp_compute_0.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: out_2
              - source: split_7.out_1
                target: out_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - qubits_alloc_1.M_r
                - merge_0.M_r
                - split_1.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - SwapUp_compute_0.M_r
                - merge_6.M_r
                - split_7.M_r
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - qubits_alloc_1.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - SwapUp_compute_0.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - qubits_alloc_1.R
                - merge_0.R
                - split_1.R
                - GoogleSelectOptimized_compute_0.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - SwapUp_compute_0.R
                - merge_6.R
                - split_7.R
                - had_0.R
                - read_0.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - qubits_alloc_1.b_as
                - merge_0.b_as
                - split_1.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - SwapUp_compute_0.b_as
                - merge_6.b_as
                - split_7.b_as
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - qubits_alloc_1.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - SwapUp_compute_0.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - qubits_alloc_1.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - SwapUp_compute_0.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - qubits_alloc_1.idx
                - merge_0.idx
                - split_1.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - SwapUp_compute_0.idx
                - merge_6.idx
                - split_7.idx
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: DataLookupClean_compute_0.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: DataLookupClean_compute_0.out_1
              target: out_0
            - source: DataLookupClean_compute_0.out_2
              target: GidneyAdd_uncompute_0.in_2
            - source: GidneyAdd_compute_0.out_0
              target: DataLookupClean_compute_0.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_compute_0.out_2
              target: DataLookupClean_compute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: qubits_free_0.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: GidneyAdd_uncompute_0.out_2
              target: out_2
            - source: in_0
              target: GidneyAdd_compute_0.in_1
            - source: in_1
              target: GidneyAdd_compute_0.in_2
            - source: qubits_alloc_0.out_0
              target: GidneyAdd_compute_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - GidneyAdd_compute_0.M_r
              - DataLookupClean_compute_0.M_r
              - GidneyAdd_uncompute_0.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - DataLookupClean_compute_0.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - GidneyAdd_compute_0.R
              - DataLookupClean_compute_0.R
              - GidneyAdd_uncompute_0.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - GidneyAdd_compute_0.b_as
              - DataLookupClean_compute_0.b_as
              - GidneyAdd_uncompute_0.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - GidneyAdd_compute_0.b_givens
              - DataLookupClean_compute_0.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - GidneyAdd_compute_0.b_mas
              - DataLookupClean_compute_0.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - GidneyAdd_compute_0.idx
              - DataLookupClean_compute_0.idx
              - GidneyAdd_uncompute_0.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: MultiplexedSparseDataLookupDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: had_0
            ports:
            - direction: through
              name: thru_0
              size: b_mas
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 3*b_mas
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: had
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_1
            ports:
            - direction: output
              name: out_0
              size: '1'
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_0
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: b_mas
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            repetition: null
            resources: []
            type: split
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_lelbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: qubits_alloc_0.out_0
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - cost_event.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - cost_event.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - cost_event.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - cost_event.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - cost_event.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - cost_event.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: CompareLT_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_2
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: output
              name: out_0
              size: '1'
            - direction: output
              name: out_remainder
              size: b_mas-(1)
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: x_0
            ports:
            - direction: through
              name: thru_0
              size: '1'
            - direction: through
              name: thru_1
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: '4'
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: x
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_3
            ports:
            - direction: input
              name: in_0
              size: '1'
            - direction: input
              name: in_remainder
              size: b_mas-(1)
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: merge
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_relbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: qubits_free_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - cost_event.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - cost_event.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - cost_event.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: CompareLT_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_5
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_6
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: ceiling(log2(R))
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: ceiling(log2(R))
            - direction: through
              name: thru_1
              size: '1'
            - direction: through
              name: thru_2
              size: ceiling(log2(R))
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*ceiling(log2(R))
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: ceiling(log2(R))
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_7
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R))
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          connections:
          - source: CompareLT_compute_0.out_0
            target: CompareLT_uncompute_0.in_0
          - source: CompareLT_compute_0.out_1
            target: CompareLT_uncompute_0.in_1
          - source: CompareLT_compute_0.out_2
            target: split_2.in_0
          - source: CompareLT_uncompute_0.out_0
            target: merge_5.in_0
          - source: CompareLT_uncompute_0.out_1
            target: out_5
          - source: MultiplexedRealUSPDF_compute_0.out_0
            target: out_2
          - source: MultiplexedRealUSPDF_compute_0.out_1
            target: out_4
          - source: MultiplexedRealUSPDF_compute_0.out_2
            target: out_7
          - source: MultiplexedRealUSPDF_compute_0.out_3
            target: out_8
          - source: MultiplexedRealUSPDF_compute_0.out_4
            target: MultiplexedSparseDataLookupDF_compute_0.in_1
          - source: MultiplexedRealUSPDF_compute_0.out_5
            target: out_10
          - source: MultiplexedRealUSPDF_compute_0.out_6
            target: out_12
          - source: MultiplexedSparseDataLookupDF_compute_0.out_0
            target: split_0.in_0
          - source: MultiplexedSparseDataLookupDF_compute_0.out_1
            target: out_3
          - source: MultiplexedSparseDataLookupDF_compute_0.out_2
            target: swap_0.thru_2
          - source: had_0.thru_0
            target: CompareLT_compute_0.in_1
          - source: in_0
            target: out_0
          - source: in_1
            target: MultiplexedRealUSPDF_compute_0.in_0
          - source: in_2
            target: MultiplexedSparseDataLookupDF_compute_0.in_0
          - source: in_3
            target: MultiplexedRealUSPDF_compute_0.in_1
          - source: in_4
            target: MultiplexedRealUSPDF_compute_0.in_2
          - source: in_5
            target: MultiplexedRealUSPDF_compute_0.in_3
          - source: in_6
            target: out_11
          - source: merge_3.out_0
            target: CompareLT_uncompute_0.in_2
          - source: merge_5.out_0
            target: split_6.in_0
          - source: merge_7.out_0
            target: out_1
          - source: qubits_alloc_0.out_0
            target: had_0.thru_0
          - source: qubits_alloc_1.out_0
            target: x_0.thru_0
          - source: split_0.out_0
            target: CompareLT_compute_0.in_0
          - source: split_0.out_remainder
            target: merge_5.in_remainder
          - source: split_2.out_0
            target: x_0.thru_1
          - source: split_2.out_remainder
            target: merge_3.in_remainder
          - source: split_6.out_0
            target: swap_0.thru_0
          - source: split_6.out_remainder
            target: merge_7.in_remainder
          - source: swap_0.thru_0
            target: merge_7.in_0
          - source: swap_0.thru_1
            target: out_6
          - source: swap_0.thru_2
            target: out_9
          - source: x_0.thru_0
            target: swap_0.thru_1
          - source: x_0.thru_1
            target: merge_3.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - MultiplexedRealUSPDF_compute_0.M_r
            - MultiplexedSparseDataLookupDF_compute_0.M_r
            - qubits_alloc_0.M_r
            - had_0.M_r
            - qubits_alloc_1.M_r
            - split_0.M_r
            - CompareLT_compute_0.M_r
            - split_2.M_r
            - x_0.M_r
            - merge_3.M_r
            - CompareLT_uncompute_0.M_r
            - merge_5.M_r
            - split_6.M_r
            - swap_0.M_r
            - merge_7.M_r
          - source: N_spatial
            targets:
            - MultiplexedRealUSPDF_compute_0.N_spatial
            - MultiplexedSparseDataLookupDF_compute_0.N_spatial
            - qubits_alloc_0.N_spatial
            - had_0.N_spatial
            - qubits_alloc_1.N_spatial
            - split_0.N_spatial
            - CompareLT_compute_0.N_spatial
            - split_2.N_spatial
            - x_0.N_spatial
            - merge_3.N_spatial
            - CompareLT_uncompute_0.N_spatial
            - merge_5.N_spatial
            - split_6.N_spatial
            - swap_0.N_spatial
            - merge_7.N_spatial
          - source: R
            targets:
            - MultiplexedRealUSPDF_compute_0.R
            - MultiplexedSparseDataLookupDF_compute_0.R
            - qubits_alloc_0.R
            - had_0.R
            - qubits_alloc_1.R
            - split_0.R
            - CompareLT_compute_0.R
            - split_2.R
            - x_0.R
            - merge_3.R
            - CompareLT_uncompute_0.R
            - merge_5.R
            - split_6.R
            - swap_0.R
            - merge_7.R
          - source: b_as
            targets:
            - MultiplexedRealUSPDF_compute_0.b_as
            - MultiplexedSparseDataLookupDF_compute_0.b_as
            - qubits_alloc_0.b_as
            - had_0.b_as
            - qubits_alloc_1.b_as
            - split_0.b_as
            - CompareLT_compute_0.b_as
            - split_2.b_as
            - x_0.b_as
            - merge_3.b_as
            - CompareLT_uncompute_0.b_as
            - merge_5.b_as
            - split_6.b_as
            - swap_0.b_as
            - merge_7.b_as
          - source: b_givens
            targets:
            - MultiplexedRealUSPDF_compute_0.b_givens
            - MultiplexedSparseDataLookupDF_compute_0.b_givens
            - qubits_alloc_0.b_givens
            - had_0.b_givens
            - qubits_alloc_1.b_givens
            - split_0.b_givens
            - CompareLT_compute_0.b_givens
            - split_2.b_givens
            - x_0.b_givens
            - merge_3.b_givens
            - CompareLT_uncompute_0.b_givens
            - merge_5.b_givens
            - split_6.b_givens
            - swap_0.b_givens
            - merge_7.b_givens
          - source: b_mas
            targets:
            - MultiplexedRealUSPDF_compute_0.b_mas
            - MultiplexedSparseDataLookupDF_compute_0.b_mas
            - qubits_alloc_0.b_mas
            - had_0.b_mas
            - qubits_alloc_1.b_mas
            - split_0.b_mas
            - CompareLT_compute_0.b_mas
            - split_2.b_mas
            - x_0.b_mas
            - merge_3.b_mas
            - CompareLT_uncompute_0.b_mas
            - merge_5.b_mas
            - split_6.b_mas
            - swap_0.b_mas
            - merge_7.b_mas
          - source: idx
            targets:
            - MultiplexedRealUSPDF_compute_0.idx
            - MultiplexedSparseDataLookupDF_compute_0.idx
            - qubits_alloc_0.idx
            - had_0.idx
            - qubits_alloc_1.idx
            - split_0.idx
            - CompareLT_compute_0.idx
            - split_2.idx
            - x_0.idx
            - merge_3.idx
            - CompareLT_uncompute_0.idx
            - merge_5.idx
            - split_6.idx
            - swap_0.idx
            - merge_7.idx
          local_variables: {}
          meta: {}
          name: MultiplexedAliasSamplingDF_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_10
            size: null
          - direction: output
            name: out_11
            size: null
          - direction: output
            name: out_12
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          - direction: output
            name: out_8
            size: null
          - direction: output
            name: out_9
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: N_spatial
            - direction: through
              name: thru_1
              size: N_spatial
            - direction: through
              name: thru_2
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*N_spatial
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: N_spatial
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
            repetition: null
            resources: []
            type: qubits_alloc
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 60
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: toffs
                type: additive
                value: '0'
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
            - source: R
              targets:
              - cost_event.R
            - source: b_as
              targets:
              - cost_event.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
            - source: idx
              targets:
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: GidneyAdd_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_1
                ports:
                - direction: output
                  name: out_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                      - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) -
                      1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                      - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) -
                      1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + 0.75*b_givens*(N_spatial -
                      1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_givens*(N_spatial - 1)))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 55*b_givens*(-1 + (b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + b_givens*(N_spatial - 1))/(b_givens*(N_spatial
                      - 1)))*(N_spatial - 1)
                  - name: toffs
                    type: additive
                    value: b_givens*(-1 + (b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + b_givens*(N_spatial - 1))/(b_givens*(N_spatial
                      - 1)))*(N_spatial - 1)
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: SwapUp_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_givens*(N_spatial - 1)))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_2.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: SwapUp_compute_0.in_1
              - source: GoogleSelectOptimized_compute_0.out_2
                target: SwapUp_compute_0.in_2
              - source: SwapUp_compute_0.out_0
                target: merge_6.in_0
              - source: SwapUp_compute_0.out_1
                target: out_1
              - source: SwapUp_compute_0.out_2
                target: had_0.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: in_0
                target: merge_0.in_1
              - source: in_1
                target: merge_0.in_0
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: qubits_alloc_0.out_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: qubits_alloc_1.out_0
                target: GoogleSelectOptimized_compute_0.in_2
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_1.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_5.out_0
                target: SwapUp_compute_0.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: out_2
              - source: split_7.out_1
                target: out_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - qubits_alloc_1.M_r
                - merge_0.M_r
                - split_1.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - SwapUp_compute_0.M_r
                - merge_6.M_r
                - split_7.M_r
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - qubits_alloc_1.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - SwapUp_compute_0.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - qubits_alloc_1.R
                - merge_0.R
                - split_1.R
                - GoogleSelectOptimized_compute_0.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - SwapUp_compute_0.R
                - merge_6.R
                - split_7.R
                - had_0.R
                - read_0.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - qubits_alloc_1.b_as
                - merge_0.b_as
                - split_1.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - SwapUp_compute_0.b_as
                - merge_6.b_as
                - split_7.b_as
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - qubits_alloc_1.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - SwapUp_compute_0.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - qubits_alloc_1.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - SwapUp_compute_0.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - qubits_alloc_1.idx
                - merge_0.idx
                - split_1.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - SwapUp_compute_0.idx
                - merge_6.idx
                - split_7.idx
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens*(N_spatial - 1)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: N_spatial
                  - direction: output
                    name: out_0
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  repetition: null
                  resources: []
                  type: split
                - children:
                  - children:
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: qubits_alloc_0
                        ports:
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        repetition: null
                        resources: []
                        type: qubits_alloc
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: had_0
                        ports:
                        - direction: through
                          name: thru_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 3*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - name: gidney_lelbows
                          type: additive
                          value: '0'
                        - name: gidney_relbows
                          type: additive
                          value: '0'
                        - name: measurements
                          type: additive
                          value: '0'
                        - name: ppm_x_weight
                          type: other
                          value: '0'
                        - name: ppm_z_weight
                          type: other
                          value: '0'
                        - name: ppms
                          type: additive
                          value: '0'
                        - name: ppr_x_weight
                          type: other
                          value: '0'
                        - name: ppr_z_weight
                          type: other
                          value: '0'
                        - name: pprs
                          type: additive
                          value: '0'
                        - name: rotations
                          type: additive
                          value: '0'
                        - name: t_gates
                          type: additive
                          value: '0'
                        - name: toffs
                          type: additive
                          value: '0'
                        type: had
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_0
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_2
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_1
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: s_inv_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '5'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '0'
                            - name: t_gates
                              type: additive
                              value: '0'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: s_inv
                          connections:
                          - source: in_0
                            target: s_inv_0.thru_0
                          - source: s_inv_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - s_inv_0.M_r
                          - source: N_spatial
                            targets:
                            - s_inv_0.N_spatial
                          - source: R
                            targets:
                            - s_inv_0.R
                          - source: b_as
                            targets:
                            - s_inv_0.b_as
                          - source: b_givens
                            targets:
                            - s_inv_0.b_givens
                          - source: b_mas
                            targets:
                            - s_inv_0.b_mas
                          - source: idx
                            targets:
                            - s_inv_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_s_inv_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_s_inv_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_s_inv_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_s_inv_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_s_inv_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_s_inv_0.R
                        - source: b_as
                          targets:
                          - Repeated_s_inv_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_s_inv_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_s_inv_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_s_inv_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_s_inv_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas) + 1.5, 0)*Heaviside(Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1.5,
                            0)
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_2
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_3
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_2
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_4
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_2
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_5
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: t_inv_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '28.5'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '0'
                            - name: t_gates
                              type: additive
                              value: '1'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: t_inv
                          connections:
                          - source: in_0
                            target: t_inv_0.thru_0
                          - source: t_inv_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - t_inv_0.M_r
                          - source: N_spatial
                            targets:
                            - t_inv_0.N_spatial
                          - source: R
                            targets:
                            - t_inv_0.R
                          - source: b_as
                            targets:
                            - t_inv_0.b_as
                          - source: b_givens
                            targets:
                            - t_inv_0.b_givens
                          - source: b_mas
                            targets:
                            - t_inv_0.b_mas
                          - source: idx
                            targets:
                            - t_inv_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_t_inv_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_t_inv_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_t_inv_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_t_inv_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_t_inv_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_t_inv_0.R
                        - source: b_as
                          targets:
                          - Repeated_t_inv_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_t_inv_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_t_inv_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_t_inv_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_t_inv_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 2.5,
                            0)
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_6
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_7
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_2
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_8
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_2
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_9
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: phase_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '1397'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '1'
                            - name: t_gates
                              type: additive
                              value: '0'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: phase
                          connections:
                          - source: in_0
                            target: phase_0.thru_0
                          - source: phase_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - phase_0.M_r
                          - source: N_spatial
                            targets:
                            - phase_0.N_spatial
                          - source: R
                            targets:
                            - phase_0.R
                          - source: b_as
                            targets:
                            - phase_0.b_as
                          - source: b_givens
                            targets:
                            - phase_0.b_givens
                          - source: b_mas
                            targets:
                            - phase_0.b_mas
                          - source: idx
                            targets:
                            - phase_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_phase_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_phase_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_phase_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_phase_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_phase_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_phase_0.R
                        - source: b_as
                          targets:
                          - Repeated_phase_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_phase_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_phase_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_phase_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_phase_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Max(0, -Heaviside(-Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas) + 1.5, 0)*Heaviside(Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1.5,
                            0) - Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 2.5,
                            0) + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)))
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_10
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_11
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_2
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      connections:
                      - source: Repeated_phase_0_repetition.out_0
                        target: merge_10.in_0
                      - source: Repeated_s_inv_0_repetition.out_0
                        target: merge_2.in_0
                      - source: Repeated_t_inv_0_repetition.out_0
                        target: merge_6.in_0
                      - source: had_0.thru_0
                        target: merge_0.in_0
                      - source: in_0
                        target: merge_0.in_1
                      - source: in_1
                        target: merge_0.in_2
                      - source: merge_0.out_0
                        target: split_1.in_0
                      - source: merge_10.out_0
                        target: split_11.in_0
                      - source: merge_2.out_0
                        target: split_3.in_0
                      - source: merge_4.out_0
                        target: split_5.in_0
                      - source: merge_6.out_0
                        target: split_7.in_0
                      - source: merge_8.out_0
                        target: split_9.in_0
                      - source: qubits_alloc_0.out_0
                        target: had_0.thru_0
                      - source: split_1.out_0
                        target: Repeated_s_inv_0_repetition.in_0
                      - source: split_1.out_remainder
                        target: merge_2.in_remainder
                      - source: split_11.out_0
                        target: out_0
                      - source: split_11.out_1
                        target: out_1
                      - source: split_11.out_2
                        target: out_2
                      - source: split_3.out_0
                        target: merge_4.in_0
                      - source: split_3.out_1
                        target: merge_4.in_1
                      - source: split_3.out_2
                        target: merge_4.in_2
                      - source: split_5.out_0
                        target: Repeated_t_inv_0_repetition.in_0
                      - source: split_5.out_remainder
                        target: merge_6.in_remainder
                      - source: split_7.out_0
                        target: merge_8.in_0
                      - source: split_7.out_1
                        target: merge_8.in_1
                      - source: split_7.out_2
                        target: merge_8.in_2
                      - source: split_9.out_0
                        target: Repeated_phase_0_repetition.in_0
                      - source: split_9.out_remainder
                        target: merge_10.in_remainder
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - qubits_alloc_0.M_r
                        - had_0.M_r
                        - merge_0.M_r
                        - split_1.M_r
                        - Repeated_s_inv_0_repetition.M_r
                        - merge_2.M_r
                        - split_3.M_r
                        - merge_4.M_r
                        - split_5.M_r
                        - Repeated_t_inv_0_repetition.M_r
                        - merge_6.M_r
                        - split_7.M_r
                        - merge_8.M_r
                        - split_9.M_r
                        - Repeated_phase_0_repetition.M_r
                        - merge_10.M_r
                        - split_11.M_r
                      - source: N_spatial
                        targets:
                        - qubits_alloc_0.N_spatial
                        - had_0.N_spatial
                        - merge_0.N_spatial
                        - split_1.N_spatial
                        - Repeated_s_inv_0_repetition.N_spatial
                        - merge_2.N_spatial
                        - split_3.N_spatial
                        - merge_4.N_spatial
                        - split_5.N_spatial
                        - Repeated_t_inv_0_repetition.N_spatial
                        - merge_6.N_spatial
                        - split_7.N_spatial
                        - merge_8.N_spatial
                        - split_9.N_spatial
                        - Repeated_phase_0_repetition.N_spatial
                        - merge_10.N_spatial
                        - split_11.N_spatial
                      - source: R
                        targets:
                        - qubits_alloc_0.R
                        - had_0.R
                        - merge_0.R
                        - split_1.R
                        - Repeated_s_inv_0_repetition.R
                        - merge_2.R
                        - split_3.R
                        - merge_4.R
                        - split_5.R
                        - Repeated_t_inv_0_repetition.R
                        - merge_6.R
                        - split_7.R
                        - merge_8.R
                        - split_9.R
                        - Repeated_phase_0_repetition.R
                        - merge_10.R
                        - split_11.R
                      - source: b_as
                        targets:
                        - qubits_alloc_0.b_as
                        - had_0.b_as
                        - merge_0.b_as
                        - split_1.b_as
                        - Repeated_s_inv_0_repetition.b_as
                        - merge_2.b_as
                        - split_3.b_as
                        - merge_4.b_as
                        - split_5.b_as
                        - Repeated_t_inv_0_repetition.b_as
                        - merge_6.b_as
                        - split_7.b_as
                        - merge_8.b_as
                        - split_9.b_as
                        - Repeated_phase_0_repetition.b_as
                        - merge_10.b_as
                        - split_11.b_as
                      - source: b_givens
                        targets:
                        - qubits_alloc_0.b_givens
                        - had_0.b_givens
                        - merge_0.b_givens
                        - split_1.b_givens
                        - Repeated_s_inv_0_repetition.b_givens
                        - merge_2.b_givens
                        - split_3.b_givens
                        - merge_4.b_givens
                        - split_5.b_givens
                        - Repeated_t_inv_0_repetition.b_givens
                        - merge_6.b_givens
                        - split_7.b_givens
                        - merge_8.b_givens
                        - split_9.b_givens
                        - Repeated_phase_0_repetition.b_givens
                        - merge_10.b_givens
                        - split_11.b_givens
                      - source: b_mas
                        targets:
                        - qubits_alloc_0.b_mas
                        - had_0.b_mas
                        - merge_0.b_mas
                        - split_1.b_mas
                        - Repeated_s_inv_0_repetition.b_mas
                        - merge_2.b_mas
                        - split_3.b_mas
                        - merge_4.b_mas
                        - split_5.b_mas
                        - Repeated_t_inv_0_repetition.b_mas
                        - merge_6.b_mas
                        - split_7.b_mas
                        - merge_8.b_mas
                        - split_9.b_mas
                        - Repeated_phase_0_repetition.b_mas
                        - merge_10.b_mas
                        - split_11.b_mas
                      - source: idx
                        targets:
                        - qubits_alloc_0.idx
                        - had_0.idx
                        - merge_0.idx
                        - split_1.idx
                        - Repeated_s_inv_0_repetition.idx
                        - merge_2.idx
                        - split_3.idx
                        - merge_4.idx
                        - split_5.idx
                        - Repeated_t_inv_0_repetition.idx
                        - merge_6.idx
                        - split_7.idx
                        - merge_8.idx
                        - split_9.idx
                        - Repeated_phase_0_repetition.idx
                        - merge_10.idx
                        - split_11.idx
                      local_variables: {}
                      meta: {}
                      name: RotationCatalystStatePrep_compute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_0
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_1
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(b_as, b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_2
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_3
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_4
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_5
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_6
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: cost_event
                        ports: []
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 100*Max(0, b_mas - Max(b_as, b_givens, b_mas)) +
                            100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) + 100*Max(b_as,
                            b_givens, b_mas) - 56
                        - name: gidney_lelbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: gidney_relbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: local_ancillae
                          type: qubits
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: toffs
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        type: intrinsic_cost
                      connections:
                      - source: in_0
                        target: out_0
                      - source: in_1
                        target: out_1
                      - source: in_2
                        target: out_2
                      - source: in_3
                        target: out_3
                      - source: in_4
                        target: out_4
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - cost_event.M_r
                      - source: N_spatial
                        targets:
                        - cost_event.N_spatial
                      - source: R
                        targets:
                        - cost_event.R
                      - source: b_as
                        targets:
                        - cost_event.b_as
                      - source: b_givens
                        targets:
                        - cost_event.b_givens
                      - source: b_mas
                        targets:
                        - cost_event.b_mas
                      - source: idx
                        targets:
                        - cost_event.idx
                      local_variables: {}
                      meta: {}
                      name: GidneyAdd_compute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: input
                        name: in_2
                        size: null
                      - direction: input
                        name: in_3
                        size: null
                      - direction: input
                        name: in_4
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      - direction: output
                        name: out_3
                        size: null
                      - direction: output
                        name: out_4
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_7
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_8
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_2
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_9
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_10
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_11
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_3
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(b_as, b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_12
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_13
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    connections:
                    - source: GidneyAdd_compute_0.out_0
                      target: out_0
                    - source: GidneyAdd_compute_0.out_1
                      target: merge_11.in_1
                    - source: GidneyAdd_compute_0.out_2
                      target: merge_11.in_0
                    - source: GidneyAdd_compute_0.out_3
                      target: x_3.thru_1
                    - source: GidneyAdd_compute_0.out_4
                      target: merge_7.in_0
                    - source: RotationCatalystStatePrep_compute_0.out_0
                      target: x_0.thru_1
                    - source: RotationCatalystStatePrep_compute_0.out_1
                      target: merge_1.in_0
                    - source: RotationCatalystStatePrep_compute_0.out_2
                      target: merge_1.in_1
                    - source: in_0
                      target: GidneyAdd_compute_0.in_0
                    - source: in_1
                      target: RotationCatalystStatePrep_compute_0.in_0
                    - source: in_2
                      target: RotationCatalystStatePrep_compute_0.in_1
                    - source: in_3
                      target: ppr_0.thru_0
                    - source: merge_1.out_0
                      target: x_0.thru_0
                    - source: merge_11.out_0
                      target: x_3.thru_0
                    - source: merge_13.out_0
                      target: ppr_1.thru_0
                    - source: merge_3.out_0
                      target: split_4.in_0
                    - source: merge_5.out_0
                      target: split_6.in_0
                    - source: merge_7.out_0
                      target: split_8.in_0
                    - source: merge_9.out_0
                      target: split_10.in_0
                    - source: ppr_0.thru_0
                      target: split_0.in_0
                    - source: ppr_1.thru_0
                      target: out_4
                    - source: split_0.out_0
                      target: x_0.thru_2
                    - source: split_0.out_remainder
                      target: merge_3.in_remainder
                    - source: split_10.out_0
                      target: x_3.thru_2
                    - source: split_10.out_remainder
                      target: merge_13.in_remainder
                    - source: split_12.out_0
                      target: out_2
                    - source: split_12.out_1
                      target: out_1
                    - source: split_2.out_0
                      target: GidneyAdd_compute_0.in_2
                    - source: split_2.out_1
                      target: GidneyAdd_compute_0.in_1
                    - source: split_4.out_0
                      target: x_1.thru_0
                    - source: split_4.out_1
                      target: x_1.thru_1
                    - source: split_4.out_remainder
                      target: merge_5.in_remainder
                    - source: split_6.out_0
                      target: GidneyAdd_compute_0.in_4
                    - source: split_6.out_remainder
                      target: merge_7.in_remainder
                    - source: split_8.out_0
                      target: x_2.thru_0
                    - source: split_8.out_1
                      target: x_2.thru_1
                    - source: split_8.out_remainder
                      target: merge_9.in_remainder
                    - source: x_0.thru_0
                      target: split_2.in_0
                    - source: x_0.thru_1
                      target: GidneyAdd_compute_0.in_3
                    - source: x_0.thru_2
                      target: merge_3.in_0
                    - source: x_1.thru_0
                      target: merge_5.in_0
                    - source: x_1.thru_1
                      target: merge_5.in_1
                    - source: x_2.thru_0
                      target: merge_9.in_0
                    - source: x_2.thru_1
                      target: merge_9.in_1
                    - source: x_3.thru_0
                      target: split_12.in_0
                    - source: x_3.thru_1
                      target: out_3
                    - source: x_3.thru_2
                      target: merge_13.in_0
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params:
                    - source: M_r
                      targets:
                      - RotationCatalystStatePrep_compute_0.M_r
                      - ppr_0.M_r
                      - split_0.M_r
                      - merge_1.M_r
                      - x_0.M_r
                      - split_2.M_r
                      - merge_3.M_r
                      - split_4.M_r
                      - x_1.M_r
                      - merge_5.M_r
                      - split_6.M_r
                      - GidneyAdd_compute_0.M_r
                      - merge_7.M_r
                      - split_8.M_r
                      - x_2.M_r
                      - merge_9.M_r
                      - split_10.M_r
                      - merge_11.M_r
                      - x_3.M_r
                      - split_12.M_r
                      - merge_13.M_r
                      - ppr_1.M_r
                    - source: N_spatial
                      targets:
                      - RotationCatalystStatePrep_compute_0.N_spatial
                      - ppr_0.N_spatial
                      - split_0.N_spatial
                      - merge_1.N_spatial
                      - x_0.N_spatial
                      - split_2.N_spatial
                      - merge_3.N_spatial
                      - split_4.N_spatial
                      - x_1.N_spatial
                      - merge_5.N_spatial
                      - split_6.N_spatial
                      - GidneyAdd_compute_0.N_spatial
                      - merge_7.N_spatial
                      - split_8.N_spatial
                      - x_2.N_spatial
                      - merge_9.N_spatial
                      - split_10.N_spatial
                      - merge_11.N_spatial
                      - x_3.N_spatial
                      - split_12.N_spatial
                      - merge_13.N_spatial
                      - ppr_1.N_spatial
                    - source: R
                      targets:
                      - RotationCatalystStatePrep_compute_0.R
                      - ppr_0.R
                      - split_0.R
                      - merge_1.R
                      - x_0.R
                      - split_2.R
                      - merge_3.R
                      - split_4.R
                      - x_1.R
                      - merge_5.R
                      - split_6.R
                      - GidneyAdd_compute_0.R
                      - merge_7.R
                      - split_8.R
                      - x_2.R
                      - merge_9.R
                      - split_10.R
                      - merge_11.R
                      - x_3.R
                      - split_12.R
                      - merge_13.R
                      - ppr_1.R
                    - source: b_as
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_as
                      - ppr_0.b_as
                      - split_0.b_as
                      - merge_1.b_as
                      - x_0.b_as
                      - split_2.b_as
                      - merge_3.b_as
                      - split_4.b_as
                      - x_1.b_as
                      - merge_5.b_as
                      - split_6.b_as
                      - GidneyAdd_compute_0.b_as
                      - merge_7.b_as
                      - split_8.b_as
                      - x_2.b_as
                      - merge_9.b_as
                      - split_10.b_as
                      - merge_11.b_as
                      - x_3.b_as
                      - split_12.b_as
                      - merge_13.b_as
                      - ppr_1.b_as
                    - source: b_givens
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_givens
                      - ppr_0.b_givens
                      - split_0.b_givens
                      - merge_1.b_givens
                      - x_0.b_givens
                      - split_2.b_givens
                      - merge_3.b_givens
                      - split_4.b_givens
                      - x_1.b_givens
                      - merge_5.b_givens
                      - split_6.b_givens
                      - GidneyAdd_compute_0.b_givens
                      - merge_7.b_givens
                      - split_8.b_givens
                      - x_2.b_givens
                      - merge_9.b_givens
                      - split_10.b_givens
                      - merge_11.b_givens
                      - x_3.b_givens
                      - split_12.b_givens
                      - merge_13.b_givens
                      - ppr_1.b_givens
                    - source: b_mas
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_mas
                      - ppr_0.b_mas
                      - split_0.b_mas
                      - merge_1.b_mas
                      - x_0.b_mas
                      - split_2.b_mas
                      - merge_3.b_mas
                      - split_4.b_mas
                      - x_1.b_mas
                      - merge_5.b_mas
                      - split_6.b_mas
                      - GidneyAdd_compute_0.b_mas
                      - merge_7.b_mas
                      - split_8.b_mas
                      - x_2.b_mas
                      - merge_9.b_mas
                      - split_10.b_mas
                      - merge_11.b_mas
                      - x_3.b_mas
                      - split_12.b_mas
                      - merge_13.b_mas
                      - ppr_1.b_mas
                    - source: idx
                      targets:
                      - RotationCatalystStatePrep_compute_0.idx
                      - ppr_0.idx
                      - split_0.idx
                      - merge_1.idx
                      - x_0.idx
                      - split_2.idx
                      - merge_3.idx
                      - split_4.idx
                      - x_1.idx
                      - merge_5.idx
                      - split_6.idx
                      - GidneyAdd_compute_0.idx
                      - merge_7.idx
                      - split_8.idx
                      - x_2.idx
                      - merge_9.idx
                      - split_10.idx
                      - merge_11.idx
                      - x_3.idx
                      - split_12.idx
                      - merge_13.idx
                      - ppr_1.idx
                    local_variables: {}
                    meta: {}
                    name: GivensRotationFusedAdder_compute_0
                    ports:
                    - direction: input
                      name: in_0
                      size: null
                    - direction: input
                      name: in_1
                      size: null
                    - direction: input
                      name: in_2
                      size: null
                    - direction: input
                      name: in_3
                      size: null
                    - direction: output
                      name: out_0
                      size: null
                    - direction: output
                      name: out_1
                      size: null
                    - direction: output
                      name: out_2
                      size: null
                    - direction: output
                      name: out_3
                      size: null
                    - direction: output
                      name: out_4
                      size: null
                    repetition: null
                    resources: []
                    type: qubrick
                  connections:
                  - source: GivensRotationFusedAdder_compute_0.out_0
                    target: out_0
                  - source: GivensRotationFusedAdder_compute_0.out_1
                    target: out_1
                  - source: GivensRotationFusedAdder_compute_0.out_2
                    target: out_2
                  - source: GivensRotationFusedAdder_compute_0.out_3
                    target: out_3
                  - source: GivensRotationFusedAdder_compute_0.out_4
                    target: out_4
                  - source: in_0
                    target: GivensRotationFusedAdder_compute_0.in_0
                  - source: in_1
                    target: GivensRotationFusedAdder_compute_0.in_1
                  - source: in_2
                    target: GivensRotationFusedAdder_compute_0.in_2
                  - source: in_3
                    target: GivensRotationFusedAdder_compute_0.in_3
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - GivensRotationFusedAdder_compute_0.M_r
                  - source: N_spatial
                    targets:
                    - GivensRotationFusedAdder_compute_0.N_spatial
                  - source: R
                    targets:
                    - GivensRotationFusedAdder_compute_0.R
                  - source: b_as
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_as
                  - source: b_givens
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_givens
                  - source: b_mas
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_mas
                  - source: idx
                    targets:
                    - GivensRotationFusedAdder_compute_0.idx
                  local_variables: {}
                  meta: {}
                  name: GivensRotationFusedAdder_compute_0_repetition
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_1
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_2
                    size: Max(b_as, b_givens, b_mas)
                  - direction: input
                    name: in_3
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: output
                    name: out_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_3
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_4
                    size: Mod(2, N_spatial)
                  repetition:
                    count: N_spatial - 1
                    sequence:
                      multiplier: 1
                      type: constant
                  resources: []
                  type: qubrick
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: Mod(2, N_spatial)
                  - direction: input
                    name: in_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  - direction: output
                    name: out_0
                    size: N_spatial
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  - direction: output
                    name: out_0
                    size: b_givens*(N_spatial - 1)
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: GivensRotationFusedAdder_compute_0_repetition.out_0
                  target: merge_3.in_0
                - source: GivensRotationFusedAdder_compute_0_repetition.out_1
                  target: out_1
                - source: GivensRotationFusedAdder_compute_0_repetition.out_2
                  target: out_2
                - source: GivensRotationFusedAdder_compute_0_repetition.out_3
                  target: out_3
                - source: GivensRotationFusedAdder_compute_0_repetition.out_4
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: GivensRotationFusedAdder_compute_0_repetition.in_1
                - source: in_2
                  target: GivensRotationFusedAdder_compute_0_repetition.in_2
                - source: in_3
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_4
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: GivensRotationFusedAdder_compute_0_repetition.in_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: GivensRotationFusedAdder_compute_0_repetition.in_3
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - GivensRotationFusedAdder_compute_0_repetition.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - GivensRotationFusedAdder_compute_0_repetition.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - GivensRotationFusedAdder_compute_0_repetition.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - GivensRotationFusedAdder_compute_0_repetition.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - GivensRotationFusedAdder_compute_0_repetition.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - GivensRotationFusedAdder_compute_0_repetition.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - GivensRotationFusedAdder_compute_0_repetition.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: GivensRotationBasisChangeDF_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: input
                  name: in_3
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                - direction: output
                  name: out_3
                  size: null
                - direction: output
                  name: out_4
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: N_spatial
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: N_spatial-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: z_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: z
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: N_spatial-(1)
                - direction: output
                  name: out_0
                  size: N_spatial
                repetition: null
                resources: []
                type: merge
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens*(N_spatial - 1)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: N_spatial
                  - direction: output
                    name: out_0
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  repetition: null
                  resources: []
                  type: split
                - children:
                  - children:
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_0
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_1
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(b_as, b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_2
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_3
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_4
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_5
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_6
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: cost_event
                        ports: []
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 100*Max(0, b_mas - Max(b_as, b_givens, b_mas)) +
                            100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) + 100*Max(b_as,
                            b_givens, b_mas) - 56
                        - name: gidney_lelbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: gidney_relbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: local_ancillae
                          type: qubits
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                            - 1
                        - name: toffs
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        type: intrinsic_cost
                      connections:
                      - source: in_0
                        target: out_0
                      - source: in_1
                        target: out_1
                      - source: in_2
                        target: out_2
                      - source: in_3
                        target: out_3
                      - source: in_4
                        target: out_4
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - cost_event.M_r
                      - source: N_spatial
                        targets:
                        - cost_event.N_spatial
                      - source: R
                        targets:
                        - cost_event.R
                      - source: b_as
                        targets:
                        - cost_event.b_as
                      - source: b_givens
                        targets:
                        - cost_event.b_givens
                      - source: b_mas
                        targets:
                        - cost_event.b_mas
                      - source: idx
                        targets:
                        - cost_event.idx
                      local_variables: {}
                      meta: {}
                      name: GidneyAdd_uncompute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: input
                        name: in_2
                        size: null
                      - direction: input
                        name: in_3
                        size: null
                      - direction: input
                        name: in_4
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      - direction: output
                        name: out_3
                        size: null
                      - direction: output
                        name: out_4
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_7
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_8
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_2
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_9
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_10
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_11
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_3
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(b_as, b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_12
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as,
                          b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_13
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: RotationCatalystStatePrep_uncompute_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_1
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: qubrick
                    connections:
                    - source: GidneyAdd_uncompute_0.out_0
                      target: out_0
                    - source: GidneyAdd_uncompute_0.out_1
                      target: merge_11.in_1
                    - source: GidneyAdd_uncompute_0.out_2
                      target: merge_11.in_0
                    - source: GidneyAdd_uncompute_0.out_3
                      target: x_3.thru_1
                    - source: GidneyAdd_uncompute_0.out_4
                      target: merge_7.in_0
                    - source: RotationCatalystStatePrep_uncompute_0.thru_0
                      target: out_3
                    - source: RotationCatalystStatePrep_uncompute_0.thru_1
                      target: out_2
                    - source: RotationCatalystStatePrep_uncompute_0.thru_2
                      target: out_1
                    - source: in_0
                      target: GidneyAdd_uncompute_0.in_0
                    - source: in_1
                      target: merge_1.in_1
                    - source: in_2
                      target: merge_1.in_0
                    - source: in_3
                      target: x_0.thru_1
                    - source: in_4
                      target: ppr_0.thru_0
                    - source: merge_1.out_0
                      target: x_0.thru_0
                    - source: merge_11.out_0
                      target: x_3.thru_0
                    - source: merge_13.out_0
                      target: ppr_1.thru_0
                    - source: merge_3.out_0
                      target: split_4.in_0
                    - source: merge_5.out_0
                      target: split_6.in_0
                    - source: merge_7.out_0
                      target: split_8.in_0
                    - source: merge_9.out_0
                      target: split_10.in_0
                    - source: ppr_0.thru_0
                      target: split_0.in_0
                    - source: ppr_1.thru_0
                      target: out_4
                    - source: split_0.out_0
                      target: x_0.thru_2
                    - source: split_0.out_remainder
                      target: merge_3.in_remainder
                    - source: split_10.out_0
                      target: x_3.thru_2
                    - source: split_10.out_remainder
                      target: merge_13.in_remainder
                    - source: split_12.out_0
                      target: RotationCatalystStatePrep_uncompute_0.thru_1
                    - source: split_12.out_1
                      target: RotationCatalystStatePrep_uncompute_0.thru_2
                    - source: split_2.out_0
                      target: GidneyAdd_uncompute_0.in_2
                    - source: split_2.out_1
                      target: GidneyAdd_uncompute_0.in_1
                    - source: split_4.out_0
                      target: x_1.thru_0
                    - source: split_4.out_1
                      target: x_1.thru_1
                    - source: split_4.out_remainder
                      target: merge_5.in_remainder
                    - source: split_6.out_0
                      target: GidneyAdd_uncompute_0.in_4
                    - source: split_6.out_remainder
                      target: merge_7.in_remainder
                    - source: split_8.out_0
                      target: x_2.thru_0
                    - source: split_8.out_1
                      target: x_2.thru_1
                    - source: split_8.out_remainder
                      target: merge_9.in_remainder
                    - source: x_0.thru_0
                      target: split_2.in_0
                    - source: x_0.thru_1
                      target: GidneyAdd_uncompute_0.in_3
                    - source: x_0.thru_2
                      target: merge_3.in_0
                    - source: x_1.thru_0
                      target: merge_5.in_0
                    - source: x_1.thru_1
                      target: merge_5.in_1
                    - source: x_2.thru_0
                      target: merge_9.in_0
                    - source: x_2.thru_1
                      target: merge_9.in_1
                    - source: x_3.thru_0
                      target: split_12.in_0
                    - source: x_3.thru_1
                      target: RotationCatalystStatePrep_uncompute_0.thru_0
                    - source: x_3.thru_2
                      target: merge_13.in_0
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params:
                    - source: M_r
                      targets:
                      - ppr_0.M_r
                      - split_0.M_r
                      - merge_1.M_r
                      - x_0.M_r
                      - split_2.M_r
                      - merge_3.M_r
                      - split_4.M_r
                      - x_1.M_r
                      - merge_5.M_r
                      - split_6.M_r
                      - GidneyAdd_uncompute_0.M_r
                      - merge_7.M_r
                      - split_8.M_r
                      - x_2.M_r
                      - merge_9.M_r
                      - split_10.M_r
                      - merge_11.M_r
                      - x_3.M_r
                      - split_12.M_r
                      - merge_13.M_r
                      - ppr_1.M_r
                      - RotationCatalystStatePrep_uncompute_0.M_r
                    - source: N_spatial
                      targets:
                      - ppr_0.N_spatial
                      - split_0.N_spatial
                      - merge_1.N_spatial
                      - x_0.N_spatial
                      - split_2.N_spatial
                      - merge_3.N_spatial
                      - split_4.N_spatial
                      - x_1.N_spatial
                      - merge_5.N_spatial
                      - split_6.N_spatial
                      - GidneyAdd_uncompute_0.N_spatial
                      - merge_7.N_spatial
                      - split_8.N_spatial
                      - x_2.N_spatial
                      - merge_9.N_spatial
                      - split_10.N_spatial
                      - merge_11.N_spatial
                      - x_3.N_spatial
                      - split_12.N_spatial
                      - merge_13.N_spatial
                      - ppr_1.N_spatial
                      - RotationCatalystStatePrep_uncompute_0.N_spatial
                    - source: R
                      targets:
                      - ppr_0.R
                      - split_0.R
                      - merge_1.R
                      - x_0.R
                      - split_2.R
                      - merge_3.R
                      - split_4.R
                      - x_1.R
                      - merge_5.R
                      - split_6.R
                      - GidneyAdd_uncompute_0.R
                      - merge_7.R
                      - split_8.R
                      - x_2.R
                      - merge_9.R
                      - split_10.R
                      - merge_11.R
                      - x_3.R
                      - split_12.R
                      - merge_13.R
                      - ppr_1.R
                      - RotationCatalystStatePrep_uncompute_0.R
                    - source: b_as
                      targets:
                      - ppr_0.b_as
                      - split_0.b_as
                      - merge_1.b_as
                      - x_0.b_as
                      - split_2.b_as
                      - merge_3.b_as
                      - split_4.b_as
                      - x_1.b_as
                      - merge_5.b_as
                      - split_6.b_as
                      - GidneyAdd_uncompute_0.b_as
                      - merge_7.b_as
                      - split_8.b_as
                      - x_2.b_as
                      - merge_9.b_as
                      - split_10.b_as
                      - merge_11.b_as
                      - x_3.b_as
                      - split_12.b_as
                      - merge_13.b_as
                      - ppr_1.b_as
                      - RotationCatalystStatePrep_uncompute_0.b_as
                    - source: b_givens
                      targets:
                      - ppr_0.b_givens
                      - split_0.b_givens
                      - merge_1.b_givens
                      - x_0.b_givens
                      - split_2.b_givens
                      - merge_3.b_givens
                      - split_4.b_givens
                      - x_1.b_givens
                      - merge_5.b_givens
                      - split_6.b_givens
                      - GidneyAdd_uncompute_0.b_givens
                      - merge_7.b_givens
                      - split_8.b_givens
                      - x_2.b_givens
                      - merge_9.b_givens
                      - split_10.b_givens
                      - merge_11.b_givens
                      - x_3.b_givens
                      - split_12.b_givens
                      - merge_13.b_givens
                      - ppr_1.b_givens
                      - RotationCatalystStatePrep_uncompute_0.b_givens
                    - source: b_mas
                      targets:
                      - ppr_0.b_mas
                      - split_0.b_mas
                      - merge_1.b_mas
                      - x_0.b_mas
                      - split_2.b_mas
                      - merge_3.b_mas
                      - split_4.b_mas
                      - x_1.b_mas
                      - merge_5.b_mas
                      - split_6.b_mas
                      - GidneyAdd_uncompute_0.b_mas
                      - merge_7.b_mas
                      - split_8.b_mas
                      - x_2.b_mas
                      - merge_9.b_mas
                      - split_10.b_mas
                      - merge_11.b_mas
                      - x_3.b_mas
                      - split_12.b_mas
                      - merge_13.b_mas
                      - ppr_1.b_mas
                      - RotationCatalystStatePrep_uncompute_0.b_mas
                    - source: idx
                      targets:
                      - ppr_0.idx
                      - split_0.idx
                      - merge_1.idx
                      - x_0.idx
                      - split_2.idx
                      - merge_3.idx
                      - split_4.idx
                      - x_1.idx
                      - merge_5.idx
                      - split_6.idx
                      - GidneyAdd_uncompute_0.idx
                      - merge_7.idx
                      - split_8.idx
                      - x_2.idx
                      - merge_9.idx
                      - split_10.idx
                      - merge_11.idx
                      - x_3.idx
                      - split_12.idx
                      - merge_13.idx
                      - ppr_1.idx
                      - RotationCatalystStatePrep_uncompute_0.idx
                    local_variables: {}
                    meta: {}
                    name: GivensRotationFusedAdder_uncompute_0
                    ports:
                    - direction: input
                      name: in_0
                      size: null
                    - direction: input
                      name: in_1
                      size: null
                    - direction: input
                      name: in_2
                      size: null
                    - direction: input
                      name: in_3
                      size: null
                    - direction: input
                      name: in_4
                      size: null
                    - direction: output
                      name: out_0
                      size: null
                    - direction: output
                      name: out_1
                      size: null
                    - direction: output
                      name: out_2
                      size: null
                    - direction: output
                      name: out_3
                      size: null
                    - direction: output
                      name: out_4
                      size: null
                    repetition: null
                    resources: []
                    type: qubrick
                  connections:
                  - source: GivensRotationFusedAdder_uncompute_0.out_0
                    target: out_0
                  - source: GivensRotationFusedAdder_uncompute_0.out_1
                    target: out_1
                  - source: GivensRotationFusedAdder_uncompute_0.out_2
                    target: out_2
                  - source: GivensRotationFusedAdder_uncompute_0.out_3
                    target: out_3
                  - source: GivensRotationFusedAdder_uncompute_0.out_4
                    target: out_4
                  - source: in_0
                    target: GivensRotationFusedAdder_uncompute_0.in_0
                  - source: in_1
                    target: GivensRotationFusedAdder_uncompute_0.in_1
                  - source: in_2
                    target: GivensRotationFusedAdder_uncompute_0.in_2
                  - source: in_3
                    target: GivensRotationFusedAdder_uncompute_0.in_3
                  - source: in_4
                    target: GivensRotationFusedAdder_uncompute_0.in_4
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.M_r
                  - source: N_spatial
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.N_spatial
                  - source: R
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.R
                  - source: b_as
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_as
                  - source: b_givens
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_givens
                  - source: b_mas
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_mas
                  - source: idx
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.idx
                  local_variables: {}
                  meta: {}
                  name: GivensRotationFusedAdder_uncompute_0_repetition
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: input
                    name: in_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_3
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_4
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: output
                    name: out_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_3
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_4
                    size: Mod(2, N_spatial)
                  repetition:
                    count: N_spatial - 1
                    sequence:
                      multiplier: 1
                      type: constant
                  resources: []
                  type: qubrick
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: Mod(2, N_spatial)
                  - direction: input
                    name: in_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  - direction: output
                    name: out_0
                    size: N_spatial
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  - direction: output
                    name: out_0
                    size: b_givens*(N_spatial - 1)
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_0
                  target: merge_3.in_0
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_1
                  target: out_1
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_2
                  target: out_2
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_3
                  target: out_3
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_4
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_1
                - source: in_2
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_2
                - source: in_3
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_3
                - source: in_4
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_4
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_4
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - GivensRotationFusedAdder_uncompute_0_repetition.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - GivensRotationFusedAdder_uncompute_0_repetition.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - GivensRotationFusedAdder_uncompute_0_repetition.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - GivensRotationFusedAdder_uncompute_0_repetition.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: GivensRotationBasisChangeDF_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: input
                  name: in_3
                  size: null
                - direction: input
                  name: in_4
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                - direction: output
                  name: out_3
                  size: null
                - direction: output
                  name: out_4
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: GivensRotationBasisChangeDF_compute_0.out_0
                target: GivensRotationBasisChangeDF_uncompute_0.in_0
              - source: GivensRotationBasisChangeDF_compute_0.out_1
                target: GivensRotationBasisChangeDF_uncompute_0.in_1
              - source: GivensRotationBasisChangeDF_compute_0.out_2
                target: GivensRotationBasisChangeDF_uncompute_0.in_2
              - source: GivensRotationBasisChangeDF_compute_0.out_3
                target: GivensRotationBasisChangeDF_uncompute_0.in_3
              - source: GivensRotationBasisChangeDF_compute_0.out_4
                target: split_0.in_0
              - source: GivensRotationBasisChangeDF_uncompute_0.out_0
                target: out_0
              - source: GivensRotationBasisChangeDF_uncompute_0.out_1
                target: out_1
              - source: GivensRotationBasisChangeDF_uncompute_0.out_2
                target: out_2
              - source: GivensRotationBasisChangeDF_uncompute_0.out_3
                target: out_3
              - source: GivensRotationBasisChangeDF_uncompute_0.out_4
                target: out_4
              - source: in_0
                target: GivensRotationBasisChangeDF_compute_0.in_0
              - source: in_1
                target: GivensRotationBasisChangeDF_compute_0.in_2
              - source: in_2
                target: GivensRotationBasisChangeDF_compute_0.in_1
              - source: in_3
                target: GivensRotationBasisChangeDF_compute_0.in_3
              - source: in_4
                target: z_0.thru_1
              - source: merge_1.out_0
                target: GivensRotationBasisChangeDF_uncompute_0.in_4
              - source: split_0.out_0
                target: z_0.thru_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: z_0.thru_0
                target: merge_1.in_0
              - source: z_0.thru_1
                target: out_5
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - GivensRotationBasisChangeDF_compute_0.M_r
                - split_0.M_r
                - z_0.M_r
                - merge_1.M_r
                - GivensRotationBasisChangeDF_uncompute_0.M_r
              - source: N_spatial
                targets:
                - GivensRotationBasisChangeDF_compute_0.N_spatial
                - split_0.N_spatial
                - z_0.N_spatial
                - merge_1.N_spatial
                - GivensRotationBasisChangeDF_uncompute_0.N_spatial
              - source: R
                targets:
                - GivensRotationBasisChangeDF_compute_0.R
                - split_0.R
                - z_0.R
                - merge_1.R
                - GivensRotationBasisChangeDF_uncompute_0.R
              - source: b_as
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_as
                - split_0.b_as
                - z_0.b_as
                - merge_1.b_as
                - GivensRotationBasisChangeDF_uncompute_0.b_as
              - source: b_givens
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_givens
                - split_0.b_givens
                - z_0.b_givens
                - merge_1.b_givens
                - GivensRotationBasisChangeDF_uncompute_0.b_givens
              - source: b_mas
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_mas
                - split_0.b_mas
                - z_0.b_mas
                - merge_1.b_mas
                - GivensRotationBasisChangeDF_uncompute_0.b_mas
              - source: idx
                targets:
                - GivensRotationBasisChangeDF_compute_0.idx
                - split_0.idx
                - z_0.idx
                - merge_1.idx
                - GivensRotationBasisChangeDF_uncompute_0.idx
              local_variables: {}
              meta: {}
              name: ApplyMajoranaFermionOperatorDF_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: input
                name: in_3
                size: null
              - direction: input
                name: in_4
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              - direction: output
                name: out_3
                size: null
              - direction: output
                name: out_4
                size: null
              - direction: output
                name: out_5
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_givens*(N_spatial - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_givens*(N_spatial - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_lelbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_1
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*calc_lambda(M_r*R, 1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_2
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_relbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_12
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_13
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_14
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_1
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_15
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_1
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: BinaryToUnaryUncomputation_compute_0.out_0
                target: merge_4.in_0
              - source: BinaryToUnaryUncomputation_compute_0.out_1
                target: had_1.thru_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_0
                target: merge_12.in_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_1
                target: split_14.in_0
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_8.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: had_2.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: had_1.thru_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: had_2.thru_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_1
              - source: in_0
                target: merge_2.in_1
              - source: in_1
                target: had_0.thru_0
              - source: in_2
                target: merge_2.in_0
              - source: merge_1.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_1
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_12.out_0
                target: split_13.in_0
              - source: merge_15.out_0
                target: qubits_free_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: split_0.in_0
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_0.out_0
                target: x_0.thru_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_11.out_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_0
              - source: split_11.out_remainder
                target: merge_12.in_remainder
              - source: split_13.out_0
                target: out_1
              - source: split_13.out_1
                target: out_0
              - source: split_14.out_0
                target: x_1.thru_0
              - source: split_14.out_remainder
                target: merge_15.in_remainder
              - source: split_3.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_0
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_5.out_0
                target: merge_6.in_0
              - source: split_5.out_1
                target: merge_6.in_1
              - source: split_7.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: split_9.out_0
                target: merge_10.in_0
              - source: split_9.out_1
                target: merge_10.in_1
              - source: x_0.thru_0
                target: merge_1.in_0
              - source: x_1.thru_0
                target: merge_15.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
                - qubits_alloc_0.M_r
                - split_0.M_r
                - x_0.M_r
                - merge_1.M_r
                - merge_2.M_r
                - split_3.M_r
                - BinaryToUnaryUncomputation_compute_0.M_r
                - merge_4.M_r
                - split_5.M_r
                - had_1.M_r
                - merge_6.M_r
                - split_7.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_8.M_r
                - split_9.M_r
                - had_2.M_r
                - merge_10.M_r
                - split_11.M_r
                - BinaryToUnaryUncomputation_uncompute_0.M_r
                - merge_12.M_r
                - split_13.M_r
                - split_14.M_r
                - x_1.M_r
                - merge_15.M_r
                - qubits_free_1.M_r
              - source: N_spatial
                targets:
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - x_0.N_spatial
                - merge_1.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - BinaryToUnaryUncomputation_compute_0.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - had_1.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - had_2.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
                - BinaryToUnaryUncomputation_uncompute_0.N_spatial
                - merge_12.N_spatial
                - split_13.N_spatial
                - split_14.N_spatial
                - x_1.N_spatial
                - merge_15.N_spatial
                - qubits_free_1.N_spatial
              - source: R
                targets:
                - had_0.R
                - read_0.R
                - qubits_free_0.R
                - qubits_alloc_0.R
                - split_0.R
                - x_0.R
                - merge_1.R
                - merge_2.R
                - split_3.R
                - BinaryToUnaryUncomputation_compute_0.R
                - merge_4.R
                - split_5.R
                - had_1.R
                - merge_6.R
                - split_7.R
                - GoogleSelectOptimized_compute_0.R
                - merge_8.R
                - split_9.R
                - had_2.R
                - merge_10.R
                - split_11.R
                - BinaryToUnaryUncomputation_uncompute_0.R
                - merge_12.R
                - split_13.R
                - split_14.R
                - x_1.R
                - merge_15.R
                - qubits_free_1.R
              - source: b_as
                targets:
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
                - qubits_alloc_0.b_as
                - split_0.b_as
                - x_0.b_as
                - merge_1.b_as
                - merge_2.b_as
                - split_3.b_as
                - BinaryToUnaryUncomputation_compute_0.b_as
                - merge_4.b_as
                - split_5.b_as
                - had_1.b_as
                - merge_6.b_as
                - split_7.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_8.b_as
                - split_9.b_as
                - had_2.b_as
                - merge_10.b_as
                - split_11.b_as
                - BinaryToUnaryUncomputation_uncompute_0.b_as
                - merge_12.b_as
                - split_13.b_as
                - split_14.b_as
                - x_1.b_as
                - merge_15.b_as
                - qubits_free_1.b_as
              - source: b_givens
                targets:
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - x_0.b_givens
                - merge_1.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - BinaryToUnaryUncomputation_compute_0.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - had_1.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - had_2.b_givens
                - merge_10.b_givens
                - split_11.b_givens
                - BinaryToUnaryUncomputation_uncompute_0.b_givens
                - merge_12.b_givens
                - split_13.b_givens
                - split_14.b_givens
                - x_1.b_givens
                - merge_15.b_givens
                - qubits_free_1.b_givens
              - source: b_mas
                targets:
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - x_0.b_mas
                - merge_1.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - BinaryToUnaryUncomputation_compute_0.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - had_1.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - had_2.b_mas
                - merge_10.b_mas
                - split_11.b_mas
                - BinaryToUnaryUncomputation_uncompute_0.b_mas
                - merge_12.b_mas
                - split_13.b_mas
                - split_14.b_mas
                - x_1.b_mas
                - merge_15.b_mas
                - qubits_free_1.b_mas
              - source: idx
                targets:
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
                - qubits_alloc_0.idx
                - split_0.idx
                - x_0.idx
                - merge_1.idx
                - merge_2.idx
                - split_3.idx
                - BinaryToUnaryUncomputation_compute_0.idx
                - merge_4.idx
                - split_5.idx
                - had_1.idx
                - merge_6.idx
                - split_7.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_8.idx
                - split_9.idx
                - had_2.idx
                - merge_10.idx
                - split_11.idx
                - BinaryToUnaryUncomputation_uncompute_0.idx
                - merge_12.idx
                - split_13.idx
                - split_14.idx
                - x_1.idx
                - merge_15.idx
                - qubits_free_1.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            connections:
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_1
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_1
              target: out_1
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_2
              target: out_2
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_3
              target: out_3
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_4
              target: out_5
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_5
              target: out_6
            - source: DataLookupClean_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_0
            - source: DataLookupClean_compute_0.out_1
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_0
            - source: DataLookupClean_compute_0.out_2
              target: DataLookupClean_uncompute_0.in_2
            - source: DataLookupClean_uncompute_0.out_0
              target: out_0
            - source: DataLookupClean_uncompute_0.out_1
              target: out_4
            - source: in_0
              target: DataLookupClean_compute_0.in_0
            - source: in_1
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_1
            - source: in_2
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_2
            - source: in_3
              target: DataLookupClean_compute_0.in_1
            - source: in_4
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_3
            - source: in_5
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_4
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - DataLookupClean_compute_0.M_r
              - ApplyMajoranaFermionOperatorDF_compute_0.M_r
              - DataLookupClean_uncompute_0.M_r
            - source: N_spatial
              targets:
              - DataLookupClean_compute_0.N_spatial
              - ApplyMajoranaFermionOperatorDF_compute_0.N_spatial
              - DataLookupClean_uncompute_0.N_spatial
            - source: R
              targets:
              - DataLookupClean_compute_0.R
              - ApplyMajoranaFermionOperatorDF_compute_0.R
              - DataLookupClean_uncompute_0.R
            - source: b_as
              targets:
              - DataLookupClean_compute_0.b_as
              - ApplyMajoranaFermionOperatorDF_compute_0.b_as
              - DataLookupClean_uncompute_0.b_as
            - source: b_givens
              targets:
              - DataLookupClean_compute_0.b_givens
              - ApplyMajoranaFermionOperatorDF_compute_0.b_givens
              - DataLookupClean_uncompute_0.b_givens
            - source: b_mas
              targets:
              - DataLookupClean_compute_0.b_mas
              - ApplyMajoranaFermionOperatorDF_compute_0.b_mas
              - DataLookupClean_uncompute_0.b_mas
            - source: idx
              targets:
              - DataLookupClean_compute_0.idx
              - ApplyMajoranaFermionOperatorDF_compute_0.idx
              - DataLookupClean_uncompute_0.idx
            local_variables: {}
            meta: {}
            name: BasisRotatedMajoranaOperatorDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: input
              name: in_4
              size: null
            - direction: input
              name: in_5
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            - direction: output
              name: out_5
              size: null
            - direction: output
              name: out_6
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 60
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: toffs
                type: additive
                value: '0'
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
            - source: R
              targets:
              - cost_event.R
            - source: b_as
              targets:
              - cost_event.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
            - source: idx
              targets:
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: GidneyAdd_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_1
            ports:
            - direction: through
              name: thru_0
              size: N_spatial
            - direction: through
              name: thru_1
              size: N_spatial
            - direction: through
              name: thru_2
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*N_spatial
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: N_spatial
            type: swap
          connections:
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_0
            target: GidneyAdd_uncompute_0.in_0
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_1
            target: out_4
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_2
            target: out_6
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_3
            target: out_5
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_4
            target: GidneyAdd_uncompute_0.in_2
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_5
            target: swap_1.thru_0
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_6
            target: out_11
          - source: GidneyAdd_compute_0.out_0
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_0
          - source: GidneyAdd_compute_0.out_1
            target: GidneyAdd_uncompute_0.in_1
          - source: GidneyAdd_compute_0.out_2
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_3
          - source: GidneyAdd_uncompute_0.out_0
            target: qubits_free_0.in_0
          - source: GidneyAdd_uncompute_0.out_1
            target: out_2
          - source: GidneyAdd_uncompute_0.out_2
            target: out_7
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_10
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_5
          - source: in_2
            target: GidneyAdd_compute_0.in_1
          - source: in_3
            target: out_3
          - source: in_4
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_1
          - source: in_5
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_2
          - source: in_6
            target: GidneyAdd_compute_0.in_2
          - source: in_7
            target: swap_0.thru_0
          - source: in_8
            target: swap_0.thru_1
          - source: in_9
            target: swap_0.thru_2
          - source: qubits_alloc_0.out_0
            target: GidneyAdd_compute_0.in_0
          - source: swap_0.thru_0
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_4
          - source: swap_0.thru_1
            target: swap_1.thru_1
          - source: swap_0.thru_2
            target: swap_1.thru_2
          - source: swap_1.thru_0
            target: out_8
          - source: swap_1.thru_1
            target: out_9
          - source: swap_1.thru_2
            target: out_10
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - swap_0.M_r
            - qubits_alloc_0.M_r
            - GidneyAdd_compute_0.M_r
            - BasisRotatedMajoranaOperatorDF_compute_0.M_r
            - GidneyAdd_uncompute_0.M_r
            - qubits_free_0.M_r
            - swap_1.M_r
          - source: N_spatial
            targets:
            - swap_0.N_spatial
            - qubits_alloc_0.N_spatial
            - GidneyAdd_compute_0.N_spatial
            - BasisRotatedMajoranaOperatorDF_compute_0.N_spatial
            - GidneyAdd_uncompute_0.N_spatial
            - qubits_free_0.N_spatial
            - swap_1.N_spatial
          - source: R
            targets:
            - swap_0.R
            - qubits_alloc_0.R
            - GidneyAdd_compute_0.R
            - BasisRotatedMajoranaOperatorDF_compute_0.R
            - GidneyAdd_uncompute_0.R
            - qubits_free_0.R
            - swap_1.R
          - source: b_as
            targets:
            - swap_0.b_as
            - qubits_alloc_0.b_as
            - GidneyAdd_compute_0.b_as
            - BasisRotatedMajoranaOperatorDF_compute_0.b_as
            - GidneyAdd_uncompute_0.b_as
            - qubits_free_0.b_as
            - swap_1.b_as
          - source: b_givens
            targets:
            - swap_0.b_givens
            - qubits_alloc_0.b_givens
            - GidneyAdd_compute_0.b_givens
            - BasisRotatedMajoranaOperatorDF_compute_0.b_givens
            - GidneyAdd_uncompute_0.b_givens
            - qubits_free_0.b_givens
            - swap_1.b_givens
          - source: b_mas
            targets:
            - swap_0.b_mas
            - qubits_alloc_0.b_mas
            - GidneyAdd_compute_0.b_mas
            - BasisRotatedMajoranaOperatorDF_compute_0.b_mas
            - GidneyAdd_uncompute_0.b_mas
            - qubits_free_0.b_mas
            - swap_1.b_mas
          - source: idx
            targets:
            - swap_0.idx
            - qubits_alloc_0.idx
            - GidneyAdd_compute_0.idx
            - BasisRotatedMajoranaOperatorDF_compute_0.idx
            - GidneyAdd_uncompute_0.idx
            - qubits_free_0.idx
            - swap_1.idx
          local_variables: {}
          meta: {}
          name: OneElectronTermSelect_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_10
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: input
            name: in_7
            size: null
          - direction: input
            name: in_8
            size: null
          - direction: input
            name: in_9
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_10
            size: null
          - direction: output
            name: out_11
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          - direction: output
            name: out_8
            size: null
          - direction: output
            name: out_9
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_0
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: ceiling(log2(R))
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: ceiling(log2(R))
            - direction: through
              name: thru_1
              size: '1'
            - direction: through
              name: thru_2
              size: ceiling(log2(R))
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*ceiling(log2(R))
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: ceiling(log2(R))
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_1
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R))
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_2
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: b_mas
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            repetition: null
            resources: []
            type: split
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_lelbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: qubits_alloc_0.out_0
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - cost_event.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - cost_event.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - cost_event.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - cost_event.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - cost_event.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - cost_event.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: CompareLT_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_4
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: output
              name: out_0
              size: '1'
            - direction: output
              name: out_remainder
              size: b_mas-(1)
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: x_0
            ports:
            - direction: through
              name: thru_0
              size: '1'
            - direction: through
              name: thru_1
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: '4'
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: x
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_5
            ports:
            - direction: input
              name: in_0
              size: '1'
            - direction: input
              name: in_remainder
              size: b_mas-(1)
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: merge
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_relbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: qubits_free_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - cost_event.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - cost_event.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - cost_event.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: CompareLT_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_7
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: '1'
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: had_0
            ports:
            - direction: through
              name: thru_0
              size: b_mas
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 3*b_mas
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: had
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_1
            ports:
            - direction: input
              name: in_0
              size: b_mas
            repetition: null
            resources: []
            type: qubits_alloc
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_mas + 3*ceiling(log2(R))
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_mas + ceiling(log2(R))
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_lelbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_1
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*calc_lambda(M_r*R, 1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_2
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_relbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_12
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_13
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_14
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_1
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_15
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_1
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: BinaryToUnaryUncomputation_compute_0.out_0
                target: merge_4.in_0
              - source: BinaryToUnaryUncomputation_compute_0.out_1
                target: had_1.thru_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_0
                target: merge_12.in_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_1
                target: split_14.in_0
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_8.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: had_2.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: had_1.thru_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: had_2.thru_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_1
              - source: in_0
                target: merge_2.in_1
              - source: in_1
                target: had_0.thru_0
              - source: in_2
                target: merge_2.in_0
              - source: merge_1.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_1
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_12.out_0
                target: split_13.in_0
              - source: merge_15.out_0
                target: qubits_free_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: split_0.in_0
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_0.out_0
                target: x_0.thru_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_11.out_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_0
              - source: split_11.out_remainder
                target: merge_12.in_remainder
              - source: split_13.out_0
                target: out_1
              - source: split_13.out_1
                target: out_0
              - source: split_14.out_0
                target: x_1.thru_0
              - source: split_14.out_remainder
                target: merge_15.in_remainder
              - source: split_3.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_0
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_5.out_0
                target: merge_6.in_0
              - source: split_5.out_1
                target: merge_6.in_1
              - source: split_7.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: split_9.out_0
                target: merge_10.in_0
              - source: split_9.out_1
                target: merge_10.in_1
              - source: x_0.thru_0
                target: merge_1.in_0
              - source: x_1.thru_0
                target: merge_15.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
                - qubits_alloc_0.M_r
                - split_0.M_r
                - x_0.M_r
                - merge_1.M_r
                - merge_2.M_r
                - split_3.M_r
                - BinaryToUnaryUncomputation_compute_0.M_r
                - merge_4.M_r
                - split_5.M_r
                - had_1.M_r
                - merge_6.M_r
                - split_7.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_8.M_r
                - split_9.M_r
                - had_2.M_r
                - merge_10.M_r
                - split_11.M_r
                - BinaryToUnaryUncomputation_uncompute_0.M_r
                - merge_12.M_r
                - split_13.M_r
                - split_14.M_r
                - x_1.M_r
                - merge_15.M_r
                - qubits_free_1.M_r
              - source: N_spatial
                targets:
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - x_0.N_spatial
                - merge_1.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - BinaryToUnaryUncomputation_compute_0.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - had_1.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - had_2.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
                - BinaryToUnaryUncomputation_uncompute_0.N_spatial
                - merge_12.N_spatial
                - split_13.N_spatial
                - split_14.N_spatial
                - x_1.N_spatial
                - merge_15.N_spatial
                - qubits_free_1.N_spatial
              - source: R
                targets:
                - had_0.R
                - read_0.R
                - qubits_free_0.R
                - qubits_alloc_0.R
                - split_0.R
                - x_0.R
                - merge_1.R
                - merge_2.R
                - split_3.R
                - BinaryToUnaryUncomputation_compute_0.R
                - merge_4.R
                - split_5.R
                - had_1.R
                - merge_6.R
                - split_7.R
                - GoogleSelectOptimized_compute_0.R
                - merge_8.R
                - split_9.R
                - had_2.R
                - merge_10.R
                - split_11.R
                - BinaryToUnaryUncomputation_uncompute_0.R
                - merge_12.R
                - split_13.R
                - split_14.R
                - x_1.R
                - merge_15.R
                - qubits_free_1.R
              - source: b_as
                targets:
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
                - qubits_alloc_0.b_as
                - split_0.b_as
                - x_0.b_as
                - merge_1.b_as
                - merge_2.b_as
                - split_3.b_as
                - BinaryToUnaryUncomputation_compute_0.b_as
                - merge_4.b_as
                - split_5.b_as
                - had_1.b_as
                - merge_6.b_as
                - split_7.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_8.b_as
                - split_9.b_as
                - had_2.b_as
                - merge_10.b_as
                - split_11.b_as
                - BinaryToUnaryUncomputation_uncompute_0.b_as
                - merge_12.b_as
                - split_13.b_as
                - split_14.b_as
                - x_1.b_as
                - merge_15.b_as
                - qubits_free_1.b_as
              - source: b_givens
                targets:
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - x_0.b_givens
                - merge_1.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - BinaryToUnaryUncomputation_compute_0.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - had_1.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - had_2.b_givens
                - merge_10.b_givens
                - split_11.b_givens
                - BinaryToUnaryUncomputation_uncompute_0.b_givens
                - merge_12.b_givens
                - split_13.b_givens
                - split_14.b_givens
                - x_1.b_givens
                - merge_15.b_givens
                - qubits_free_1.b_givens
              - source: b_mas
                targets:
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - x_0.b_mas
                - merge_1.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - BinaryToUnaryUncomputation_compute_0.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - had_1.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - had_2.b_mas
                - merge_10.b_mas
                - split_11.b_mas
                - BinaryToUnaryUncomputation_uncompute_0.b_mas
                - merge_12.b_mas
                - split_13.b_mas
                - split_14.b_mas
                - x_1.b_mas
                - merge_15.b_mas
                - qubits_free_1.b_mas
              - source: idx
                targets:
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
                - qubits_alloc_0.idx
                - split_0.idx
                - x_0.idx
                - merge_1.idx
                - merge_2.idx
                - split_3.idx
                - BinaryToUnaryUncomputation_compute_0.idx
                - merge_4.idx
                - split_5.idx
                - had_1.idx
                - merge_6.idx
                - split_7.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_8.idx
                - split_9.idx
                - had_2.idx
                - merge_10.idx
                - split_11.idx
                - BinaryToUnaryUncomputation_uncompute_0.idx
                - merge_12.idx
                - split_13.idx
                - split_14.idx
                - x_1.idx
                - merge_15.idx
                - qubits_free_1.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: DataLookupClean_uncompute_0.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: DataLookupClean_uncompute_0.out_1
              target: GidneyAdd_uncompute_0.in_2
            - source: GidneyAdd_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_compute_0.out_2
              target: DataLookupClean_uncompute_0.in_2
            - source: GidneyAdd_uncompute_0.out_0
              target: qubits_free_0.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_0
            - source: GidneyAdd_uncompute_0.out_2
              target: out_1
            - source: in_0
              target: DataLookupClean_uncompute_0.in_1
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: GidneyAdd_compute_0.in_2
            - source: qubits_alloc_0.out_0
              target: GidneyAdd_compute_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - GidneyAdd_compute_0.M_r
              - DataLookupClean_uncompute_0.M_r
              - GidneyAdd_uncompute_0.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - DataLookupClean_uncompute_0.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - GidneyAdd_compute_0.R
              - DataLookupClean_uncompute_0.R
              - GidneyAdd_uncompute_0.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - GidneyAdd_compute_0.b_as
              - DataLookupClean_uncompute_0.b_as
              - GidneyAdd_uncompute_0.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - GidneyAdd_compute_0.b_givens
              - DataLookupClean_uncompute_0.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - GidneyAdd_compute_0.b_mas
              - DataLookupClean_uncompute_0.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - GidneyAdd_compute_0.idx
              - DataLookupClean_uncompute_0.idx
              - GidneyAdd_uncompute_0.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: MultiplexedSparseDataLookupDF_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_0
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: relbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: relbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_1
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: lelbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: lelbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_3
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: lelbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '44'
                    - name: gidney_lelbows
                      type: additive
                      value: '1'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: lelbow
                  connections:
                  - source: in_0
                    target: lelbow_0.thru_0
                  - source: in_1
                    target: lelbow_0.thru_1
                  - source: in_2
                    target: lelbow_0.thru_2
                  - source: lelbow_0.thru_0
                    target: out_0
                  - source: lelbow_0.thru_1
                    target: out_1
                  - source: lelbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - lelbow_0.M_r
                  - source: N_spatial
                    targets:
                    - lelbow_0.N_spatial
                  - source: R
                    targets:
                    - lelbow_0.R
                  - source: b_as
                    targets:
                    - lelbow_0.b_as
                  - source: b_givens
                    targets:
                    - lelbow_0.b_givens
                  - source: b_mas
                    targets:
                    - lelbow_0.b_mas
                  - source: idx
                    targets:
                    - lelbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_9
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_10
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_9.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_8.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_8.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_11.in_0
              - source: in_0
                target: split_0.in_0
              - source: lelbow_0.thru_0
                target: merge_3.in_0
              - source: lelbow_0.thru_1
                target: x_0.thru_0
              - source: merge_11.out_0
                target: out_1
              - source: merge_3.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_10.in_0
              - source: merge_9.out_0
                target: out_0
              - source: qubits_alloc_0.out_0
                target: split_1.in_0
              - source: split_0.out_0
                target: lelbow_0.thru_0
              - source: split_0.out_remainder
                target: merge_3.in_remainder
              - source: split_1.out_0
                target: lelbow_0.thru_1
              - source: split_1.out_remainder
                target: merge_5.in_remainder
              - source: split_10.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_10.out_remainder
                target: merge_11.in_remainder
              - source: split_6.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_6.out_remainder
                target: merge_9.in_remainder
              - source: split_7.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_7.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: x_0.thru_0
                target: merge_5.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - split_0.M_r
                - split_1.M_r
                - lelbow_0.M_r
                - merge_3.M_r
                - x_0.M_r
                - merge_5.M_r
                - split_6.M_r
                - split_7.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_8.M_r
                - merge_9.M_r
                - split_10.M_r
                - Repeated_x_0_repetition.M_r
                - merge_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - split_1.N_spatial
                - lelbow_0.N_spatial
                - merge_3.N_spatial
                - x_0.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - split_7.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_8.N_spatial
                - merge_9.N_spatial
                - split_10.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - split_0.R
                - split_1.R
                - lelbow_0.R
                - merge_3.R
                - x_0.R
                - merge_5.R
                - split_6.R
                - split_7.R
                - Repeated_lelbow_0_repetition.R
                - merge_8.R
                - merge_9.R
                - split_10.R
                - Repeated_x_0_repetition.R
                - merge_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - split_0.b_as
                - split_1.b_as
                - lelbow_0.b_as
                - merge_3.b_as
                - x_0.b_as
                - merge_5.b_as
                - split_6.b_as
                - split_7.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_8.b_as
                - merge_9.b_as
                - split_10.b_as
                - Repeated_x_0_repetition.b_as
                - merge_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - split_1.b_givens
                - lelbow_0.b_givens
                - merge_3.b_givens
                - x_0.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - split_7.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_8.b_givens
                - merge_9.b_givens
                - split_10.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - split_1.b_mas
                - lelbow_0.b_mas
                - merge_3.b_mas
                - x_0.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - split_7.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_8.b_mas
                - merge_9.b_mas
                - split_10.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - split_0.idx
                - split_1.idx
                - lelbow_0.idx
                - merge_3.idx
                - x_0.idx
                - merge_5.idx
                - split_6.idx
                - split_7.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_8.idx
                - merge_9.idx
                - split_10.idx
                - Repeated_x_0_repetition.idx
                - merge_11.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_0.out_0
                target: out_0
              - source: Repeated_had_0.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_0.in_0
              - source: in_1
                target: Repeated_had_0.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_0.M_r
              - source: N_spatial
                targets:
                - Repeated_had_0.N_spatial
              - source: R
                targets:
                - Repeated_had_0.R
              - source: b_as
                targets:
                - Repeated_had_0.b_as
              - source: b_givens
                targets:
                - Repeated_had_0.b_givens
              - source: b_mas
                targets:
                - Repeated_had_0.b_mas
              - source: idx
                targets:
                - Repeated_had_0.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_0_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_0
              ports:
              - direction: through
                name: thru_0
                size: ceiling(log2(R))
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 47*Heaviside(ceiling(log2(R)) - 1.5, 0) + 49*ceiling(log2(R))
                  - 49*Min(2, ceiling(log2(R)))
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: Heaviside(ceiling(log2(R)) - 1.5, 0)
              type: z
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_1
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_1.out_0
                target: out_0
              - source: Repeated_had_1.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_1.in_0
              - source: in_1
                target: Repeated_had_1.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_1.M_r
              - source: N_spatial
                targets:
                - Repeated_had_1.N_spatial
              - source: R
                targets:
                - Repeated_had_1.R
              - source: b_as
                targets:
                - Repeated_had_1.b_as
              - source: b_givens
                targets:
                - Repeated_had_1.b_givens
              - source: b_mas
                targets:
                - Repeated_had_1.b_mas
              - source: idx
                targets:
                - Repeated_had_1.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_1_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_2
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_3
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_0
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_4
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_5
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_6
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_7
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_8
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_9
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_10
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_11
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_1
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_12
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_13
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_14
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: z
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_15
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_2
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_16
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_17
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_2
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_18
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_19
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_20
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_21
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_22
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_23
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_24
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_25
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_3
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_26
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_27
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                  b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_3
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_2
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_2.out_0
                target: out_0
              - source: Repeated_had_2.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_2.in_0
              - source: in_1
                target: Repeated_had_2.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_2.M_r
              - source: N_spatial
                targets:
                - Repeated_had_2.N_spatial
              - source: R
                targets:
                - Repeated_had_2.R
              - source: b_as
                targets:
                - Repeated_had_2.b_as
              - source: b_givens
                targets:
                - Repeated_had_2.b_givens
              - source: b_mas
                targets:
                - Repeated_had_2.b_mas
              - source: idx
                targets:
                - Repeated_had_2.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_2_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_2
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: relbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '1'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: relbow
                  connections:
                  - source: in_0
                    target: relbow_0.thru_0
                  - source: in_1
                    target: relbow_0.thru_1
                  - source: in_2
                    target: relbow_0.thru_2
                  - source: relbow_0.thru_0
                    target: out_0
                  - source: relbow_0.thru_1
                    target: out_1
                  - source: relbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - relbow_0.M_r
                  - source: N_spatial
                    targets:
                    - relbow_0.N_spatial
                  - source: R
                    targets:
                    - relbow_0.R
                  - source: b_as
                    targets:
                    - relbow_0.b_as
                  - source: b_givens
                    targets:
                    - relbow_0.b_givens
                  - source: b_mas
                    targets:
                    - relbow_0.b_mas
                  - source: idx
                    targets:
                    - relbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_8
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: relbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: relbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_5.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_4.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_4.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_1.in_0
              - source: in_0
                target: split_2.in_0
              - source: in_1
                target: split_0.in_0
              - source: merge_1.out_0
                target: split_3.in_0
              - source: merge_10.out_0
                target: qubits_free_0.in_0
              - source: merge_11.out_0
                target: out_0
              - source: merge_4.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_8.in_0
              - source: relbow_0.thru_0
                target: merge_11.in_0
              - source: relbow_0.thru_1
                target: merge_10.in_0
              - source: split_0.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_2.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_2.out_remainder
                target: merge_5.in_remainder
              - source: split_3.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_3.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_6.out_0
                target: x_0.thru_0
              - source: split_6.out_remainder
                target: merge_10.in_remainder
              - source: split_8.out_0
                target: relbow_0.thru_0
              - source: split_8.out_remainder
                target: merge_11.in_remainder
              - source: x_0.thru_0
                target: relbow_0.thru_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - split_0.M_r
                - Repeated_x_0_repetition.M_r
                - merge_1.M_r
                - split_2.M_r
                - split_3.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_4.M_r
                - merge_5.M_r
                - split_6.M_r
                - x_0.M_r
                - split_8.M_r
                - relbow_0.M_r
                - merge_10.M_r
                - merge_11.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - split_0.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_1.N_spatial
                - split_2.N_spatial
                - split_3.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_4.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - x_0.N_spatial
                - split_8.N_spatial
                - relbow_0.N_spatial
                - merge_10.N_spatial
                - merge_11.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - split_0.R
                - Repeated_x_0_repetition.R
                - merge_1.R
                - split_2.R
                - split_3.R
                - Repeated_lelbow_0_repetition.R
                - merge_4.R
                - merge_5.R
                - split_6.R
                - x_0.R
                - split_8.R
                - relbow_0.R
                - merge_10.R
                - merge_11.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - split_0.b_as
                - Repeated_x_0_repetition.b_as
                - merge_1.b_as
                - split_2.b_as
                - split_3.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_4.b_as
                - merge_5.b_as
                - split_6.b_as
                - x_0.b_as
                - split_8.b_as
                - relbow_0.b_as
                - merge_10.b_as
                - merge_11.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - split_0.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_1.b_givens
                - split_2.b_givens
                - split_3.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_4.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - x_0.b_givens
                - split_8.b_givens
                - relbow_0.b_givens
                - merge_10.b_givens
                - merge_11.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - split_0.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_1.b_mas
                - split_2.b_mas
                - split_3.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_4.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - x_0.b_mas
                - split_8.b_mas
                - relbow_0.b_mas
                - merge_10.b_mas
                - merge_11.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - split_0.idx
                - Repeated_x_0_repetition.idx
                - merge_1.idx
                - split_2.idx
                - split_3.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_4.idx
                - merge_5.idx
                - split_6.idx
                - x_0.idx
                - split_8.idx
                - relbow_0.idx
                - merge_10.idx
                - merge_11.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: RotationCatalystStatePrep_uncompute_0
              ports:
              - direction: through
                name: thru_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: through
                name: thru_1
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_4
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: relbow_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: relbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_1
              ports:
              - direction: input
                name: in_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: CompareLT_compute_0.out_0
              target: CompareLT_uncompute_0.in_0
            - source: CompareLT_compute_0.out_1
              target: CompareLT_uncompute_0.in_1
            - source: CompareLT_compute_0.out_2
              target: split_0.in_0
            - source: CompareLT_compute_1.out_0
              target: CompareLT_uncompute_1.in_0
            - source: CompareLT_compute_1.out_1
              target: CompareLT_uncompute_1.in_1
            - source: CompareLT_compute_1.out_2
              target: split_14.in_0
            - source: CompareLT_uncompute_0.out_0
              target: Contiguizer_compute_0.in_0
            - source: CompareLT_uncompute_0.out_1
              target: Repeated_had_0_repetition.in_1
            - source: CompareLT_uncompute_1.out_0
              target: Contiguizer_uncompute_0.in_0
            - source: CompareLT_uncompute_1.out_1
              target: Repeated_had_2_repetition.in_1
            - source: Contiguizer_compute_0.out_0
              target: CompareLT_compute_1.in_0
            - source: Contiguizer_compute_0.out_1
              target: Repeated_had_0_repetition.in_0
            - source: Contiguizer_uncompute_0.out_0
              target: out_0
            - source: GidneyAdd_compute_0.out_0
              target: merge_8.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: merge_22.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: Repeated_had_0_repetition.out_0
              target: Repeated_had_1_repetition.in_0
            - source: Repeated_had_0_repetition.out_1
              target: z_0.thru_0
            - source: Repeated_had_1_repetition.out_0
              target: Repeated_had_2_repetition.in_0
            - source: Repeated_had_1_repetition.out_1
              target: CompareLT_compute_1.in_1
            - source: Repeated_had_2_repetition.out_0
              target: Contiguizer_uncompute_0.in_1
            - source: Repeated_had_2_repetition.out_1
              target: out_4
            - source: RotationCatalystStatePrep_uncompute_0.thru_0
              target: out_3
            - source: RotationCatalystStatePrep_uncompute_0.thru_1
              target: out_2
            - source: had_0.thru_0
              target: x_0.thru_1
            - source: had_1.thru_0
              target: s_0.thru_0
            - source: had_2.thru_0
              target: x_2.thru_1
            - source: had_3.thru_0
              target: s_1.thru_0
            - source: in_0
              target: CompareLT_compute_0.in_0
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: merge_2.in_1
            - source: in_3
              target: merge_2.in_0
            - source: in_4
              target: CompareLT_compute_0.in_1
            - source: in_5
              target: z_0.thru_1
            - source: in_6
              target: relbow_0.thru_1
            - source: merge_1.out_0
              target: CompareLT_uncompute_0.in_2
            - source: merge_10.out_0
              target: split_11.in_0
            - source: merge_12.out_0
              target: split_13.in_0
            - source: merge_15.out_0
              target: CompareLT_uncompute_1.in_2
            - source: merge_16.out_0
              target: split_17.in_0
            - source: merge_18.out_0
              target: split_19.in_0
            - source: merge_2.out_0
              target: split_3.in_0
            - source: merge_20.out_0
              target: split_21.in_0
            - source: merge_22.out_0
              target: split_23.in_0
            - source: merge_24.out_0
              target: split_25.in_0
            - source: merge_26.out_0
              target: split_27.in_0
            - source: merge_4.out_0
              target: split_5.in_0
            - source: merge_6.out_0
              target: split_7.in_0
            - source: merge_8.out_0
              target: split_9.in_0
            - source: relbow_0.thru_0
              target: merge_1.in_0
            - source: relbow_0.thru_1
              target: qubits_free_0.in_0
            - source: relbow_1.thru_0
              target: qubits_free_1.in_0
            - source: s_0.thru_0
              target: z_1.thru_1
            - source: s_1.thru_0
              target: x_4.thru_0
            - source: s_inv_0.thru_0
              target: had_0.thru_0
            - source: s_inv_1.thru_0
              target: had_2.thru_0
            - source: split_0.out_0
              target: relbow_0.thru_0
            - source: split_0.out_remainder
              target: merge_1.in_remainder
            - source: split_11.out_0
              target: x_1.thru_0
            - source: split_11.out_remainder
              target: merge_12.in_remainder
            - source: split_13.out_0
              target: merge_16.in_0
            - source: split_13.out_1
              target: merge_16.in_1
            - source: split_14.out_0
              target: z_1.thru_0
            - source: split_14.out_remainder
              target: merge_15.in_remainder
            - source: split_17.out_0
              target: x_2.thru_0
            - source: split_17.out_remainder
              target: merge_18.in_remainder
            - source: split_19.out_0
              target: merge_20.in_0
            - source: split_19.out_1
              target: merge_20.in_1
            - source: split_21.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: split_21.out_remainder
              target: merge_22.in_remainder
            - source: split_23.out_0
              target: merge_24.in_0
            - source: split_23.out_1
              target: merge_24.in_1
            - source: split_25.out_0
              target: x_3.thru_0
            - source: split_25.out_remainder
              target: merge_26.in_remainder
            - source: split_27.out_0
              target: RotationCatalystStatePrep_uncompute_0.thru_0
            - source: split_27.out_1
              target: RotationCatalystStatePrep_uncompute_0.thru_1
            - source: split_3.out_0
              target: x_0.thru_0
            - source: split_3.out_remainder
              target: merge_4.in_remainder
            - source: split_5.out_0
              target: merge_6.in_0
            - source: split_5.out_1
              target: merge_6.in_1
            - source: split_7.out_0
              target: GidneyAdd_compute_0.in_0
            - source: split_7.out_remainder
              target: merge_8.in_remainder
            - source: split_9.out_0
              target: merge_10.in_0
            - source: split_9.out_1
              target: merge_10.in_1
            - source: x_0.thru_0
              target: merge_4.in_0
            - source: x_0.thru_1
              target: x_1.thru_1
            - source: x_1.thru_0
              target: merge_12.in_0
            - source: x_1.thru_1
              target: had_1.thru_0
            - source: x_2.thru_0
              target: merge_18.in_0
            - source: x_2.thru_1
              target: x_3.thru_1
            - source: x_3.thru_0
              target: merge_26.in_0
            - source: x_3.thru_1
              target: had_3.thru_0
            - source: x_4.thru_0
              target: relbow_1.thru_0
            - source: z_0.thru_0
              target: Repeated_had_1_repetition.in_1
            - source: z_0.thru_1
              target: s_inv_0.thru_0
            - source: z_1.thru_0
              target: merge_15.in_0
            - source: z_1.thru_1
              target: s_inv_1.thru_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - CompareLT_compute_0.M_r
              - split_0.M_r
              - relbow_0.M_r
              - merge_1.M_r
              - CompareLT_uncompute_0.M_r
              - qubits_free_0.M_r
              - Contiguizer_compute_0.M_r
              - Repeated_had_0_repetition.M_r
              - z_0.M_r
              - Repeated_had_1_repetition.M_r
              - CompareLT_compute_1.M_r
              - s_inv_0.M_r
              - had_0.M_r
              - merge_2.M_r
              - split_3.M_r
              - x_0.M_r
              - merge_4.M_r
              - split_5.M_r
              - merge_6.M_r
              - split_7.M_r
              - GidneyAdd_compute_0.M_r
              - merge_8.M_r
              - split_9.M_r
              - merge_10.M_r
              - split_11.M_r
              - x_1.M_r
              - merge_12.M_r
              - split_13.M_r
              - had_1.M_r
              - s_0.M_r
              - split_14.M_r
              - z_1.M_r
              - merge_15.M_r
              - s_inv_1.M_r
              - had_2.M_r
              - merge_16.M_r
              - split_17.M_r
              - x_2.M_r
              - merge_18.M_r
              - split_19.M_r
              - merge_20.M_r
              - split_21.M_r
              - GidneyAdd_uncompute_0.M_r
              - merge_22.M_r
              - split_23.M_r
              - merge_24.M_r
              - split_25.M_r
              - x_3.M_r
              - merge_26.M_r
              - split_27.M_r
              - had_3.M_r
              - s_1.M_r
              - CompareLT_uncompute_1.M_r
              - Repeated_had_2_repetition.M_r
              - Contiguizer_uncompute_0.M_r
              - RotationCatalystStatePrep_uncompute_0.M_r
              - x_4.M_r
              - relbow_1.M_r
              - qubits_free_1.M_r
            - source: N_spatial
              targets:
              - CompareLT_compute_0.N_spatial
              - split_0.N_spatial
              - relbow_0.N_spatial
              - merge_1.N_spatial
              - CompareLT_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
              - Contiguizer_compute_0.N_spatial
              - Repeated_had_0_repetition.N_spatial
              - z_0.N_spatial
              - Repeated_had_1_repetition.N_spatial
              - CompareLT_compute_1.N_spatial
              - s_inv_0.N_spatial
              - had_0.N_spatial
              - merge_2.N_spatial
              - split_3.N_spatial
              - x_0.N_spatial
              - merge_4.N_spatial
              - split_5.N_spatial
              - merge_6.N_spatial
              - split_7.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - merge_8.N_spatial
              - split_9.N_spatial
              - merge_10.N_spatial
              - split_11.N_spatial
              - x_1.N_spatial
              - merge_12.N_spatial
              - split_13.N_spatial
              - had_1.N_spatial
              - s_0.N_spatial
              - split_14.N_spatial
              - z_1.N_spatial
              - merge_15.N_spatial
              - s_inv_1.N_spatial
              - had_2.N_spatial
              - merge_16.N_spatial
              - split_17.N_spatial
              - x_2.N_spatial
              - merge_18.N_spatial
              - split_19.N_spatial
              - merge_20.N_spatial
              - split_21.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - merge_22.N_spatial
              - split_23.N_spatial
              - merge_24.N_spatial
              - split_25.N_spatial
              - x_3.N_spatial
              - merge_26.N_spatial
              - split_27.N_spatial
              - had_3.N_spatial
              - s_1.N_spatial
              - CompareLT_uncompute_1.N_spatial
              - Repeated_had_2_repetition.N_spatial
              - Contiguizer_uncompute_0.N_spatial
              - RotationCatalystStatePrep_uncompute_0.N_spatial
              - x_4.N_spatial
              - relbow_1.N_spatial
              - qubits_free_1.N_spatial
            - source: R
              targets:
              - CompareLT_compute_0.R
              - split_0.R
              - relbow_0.R
              - merge_1.R
              - CompareLT_uncompute_0.R
              - qubits_free_0.R
              - Contiguizer_compute_0.R
              - Repeated_had_0_repetition.R
              - z_0.R
              - Repeated_had_1_repetition.R
              - CompareLT_compute_1.R
              - s_inv_0.R
              - had_0.R
              - merge_2.R
              - split_3.R
              - x_0.R
              - merge_4.R
              - split_5.R
              - merge_6.R
              - split_7.R
              - GidneyAdd_compute_0.R
              - merge_8.R
              - split_9.R
              - merge_10.R
              - split_11.R
              - x_1.R
              - merge_12.R
              - split_13.R
              - had_1.R
              - s_0.R
              - split_14.R
              - z_1.R
              - merge_15.R
              - s_inv_1.R
              - had_2.R
              - merge_16.R
              - split_17.R
              - x_2.R
              - merge_18.R
              - split_19.R
              - merge_20.R
              - split_21.R
              - GidneyAdd_uncompute_0.R
              - merge_22.R
              - split_23.R
              - merge_24.R
              - split_25.R
              - x_3.R
              - merge_26.R
              - split_27.R
              - had_3.R
              - s_1.R
              - CompareLT_uncompute_1.R
              - Repeated_had_2_repetition.R
              - Contiguizer_uncompute_0.R
              - RotationCatalystStatePrep_uncompute_0.R
              - x_4.R
              - relbow_1.R
              - qubits_free_1.R
            - source: b_as
              targets:
              - CompareLT_compute_0.b_as
              - split_0.b_as
              - relbow_0.b_as
              - merge_1.b_as
              - CompareLT_uncompute_0.b_as
              - qubits_free_0.b_as
              - Contiguizer_compute_0.b_as
              - Repeated_had_0_repetition.b_as
              - z_0.b_as
              - Repeated_had_1_repetition.b_as
              - CompareLT_compute_1.b_as
              - s_inv_0.b_as
              - had_0.b_as
              - merge_2.b_as
              - split_3.b_as
              - x_0.b_as
              - merge_4.b_as
              - split_5.b_as
              - merge_6.b_as
              - split_7.b_as
              - GidneyAdd_compute_0.b_as
              - merge_8.b_as
              - split_9.b_as
              - merge_10.b_as
              - split_11.b_as
              - x_1.b_as
              - merge_12.b_as
              - split_13.b_as
              - had_1.b_as
              - s_0.b_as
              - split_14.b_as
              - z_1.b_as
              - merge_15.b_as
              - s_inv_1.b_as
              - had_2.b_as
              - merge_16.b_as
              - split_17.b_as
              - x_2.b_as
              - merge_18.b_as
              - split_19.b_as
              - merge_20.b_as
              - split_21.b_as
              - GidneyAdd_uncompute_0.b_as
              - merge_22.b_as
              - split_23.b_as
              - merge_24.b_as
              - split_25.b_as
              - x_3.b_as
              - merge_26.b_as
              - split_27.b_as
              - had_3.b_as
              - s_1.b_as
              - CompareLT_uncompute_1.b_as
              - Repeated_had_2_repetition.b_as
              - Contiguizer_uncompute_0.b_as
              - RotationCatalystStatePrep_uncompute_0.b_as
              - x_4.b_as
              - relbow_1.b_as
              - qubits_free_1.b_as
            - source: b_givens
              targets:
              - CompareLT_compute_0.b_givens
              - split_0.b_givens
              - relbow_0.b_givens
              - merge_1.b_givens
              - CompareLT_uncompute_0.b_givens
              - qubits_free_0.b_givens
              - Contiguizer_compute_0.b_givens
              - Repeated_had_0_repetition.b_givens
              - z_0.b_givens
              - Repeated_had_1_repetition.b_givens
              - CompareLT_compute_1.b_givens
              - s_inv_0.b_givens
              - had_0.b_givens
              - merge_2.b_givens
              - split_3.b_givens
              - x_0.b_givens
              - merge_4.b_givens
              - split_5.b_givens
              - merge_6.b_givens
              - split_7.b_givens
              - GidneyAdd_compute_0.b_givens
              - merge_8.b_givens
              - split_9.b_givens
              - merge_10.b_givens
              - split_11.b_givens
              - x_1.b_givens
              - merge_12.b_givens
              - split_13.b_givens
              - had_1.b_givens
              - s_0.b_givens
              - split_14.b_givens
              - z_1.b_givens
              - merge_15.b_givens
              - s_inv_1.b_givens
              - had_2.b_givens
              - merge_16.b_givens
              - split_17.b_givens
              - x_2.b_givens
              - merge_18.b_givens
              - split_19.b_givens
              - merge_20.b_givens
              - split_21.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - merge_22.b_givens
              - split_23.b_givens
              - merge_24.b_givens
              - split_25.b_givens
              - x_3.b_givens
              - merge_26.b_givens
              - split_27.b_givens
              - had_3.b_givens
              - s_1.b_givens
              - CompareLT_uncompute_1.b_givens
              - Repeated_had_2_repetition.b_givens
              - Contiguizer_uncompute_0.b_givens
              - RotationCatalystStatePrep_uncompute_0.b_givens
              - x_4.b_givens
              - relbow_1.b_givens
              - qubits_free_1.b_givens
            - source: b_mas
              targets:
              - CompareLT_compute_0.b_mas
              - split_0.b_mas
              - relbow_0.b_mas
              - merge_1.b_mas
              - CompareLT_uncompute_0.b_mas
              - qubits_free_0.b_mas
              - Contiguizer_compute_0.b_mas
              - Repeated_had_0_repetition.b_mas
              - z_0.b_mas
              - Repeated_had_1_repetition.b_mas
              - CompareLT_compute_1.b_mas
              - s_inv_0.b_mas
              - had_0.b_mas
              - merge_2.b_mas
              - split_3.b_mas
              - x_0.b_mas
              - merge_4.b_mas
              - split_5.b_mas
              - merge_6.b_mas
              - split_7.b_mas
              - GidneyAdd_compute_0.b_mas
              - merge_8.b_mas
              - split_9.b_mas
              - merge_10.b_mas
              - split_11.b_mas
              - x_1.b_mas
              - merge_12.b_mas
              - split_13.b_mas
              - had_1.b_mas
              - s_0.b_mas
              - split_14.b_mas
              - z_1.b_mas
              - merge_15.b_mas
              - s_inv_1.b_mas
              - had_2.b_mas
              - merge_16.b_mas
              - split_17.b_mas
              - x_2.b_mas
              - merge_18.b_mas
              - split_19.b_mas
              - merge_20.b_mas
              - split_21.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - merge_22.b_mas
              - split_23.b_mas
              - merge_24.b_mas
              - split_25.b_mas
              - x_3.b_mas
              - merge_26.b_mas
              - split_27.b_mas
              - had_3.b_mas
              - s_1.b_mas
              - CompareLT_uncompute_1.b_mas
              - Repeated_had_2_repetition.b_mas
              - Contiguizer_uncompute_0.b_mas
              - RotationCatalystStatePrep_uncompute_0.b_mas
              - x_4.b_mas
              - relbow_1.b_mas
              - qubits_free_1.b_mas
            - source: idx
              targets:
              - CompareLT_compute_0.idx
              - split_0.idx
              - relbow_0.idx
              - merge_1.idx
              - CompareLT_uncompute_0.idx
              - qubits_free_0.idx
              - Contiguizer_compute_0.idx
              - Repeated_had_0_repetition.idx
              - z_0.idx
              - Repeated_had_1_repetition.idx
              - CompareLT_compute_1.idx
              - s_inv_0.idx
              - had_0.idx
              - merge_2.idx
              - split_3.idx
              - x_0.idx
              - merge_4.idx
              - split_5.idx
              - merge_6.idx
              - split_7.idx
              - GidneyAdd_compute_0.idx
              - merge_8.idx
              - split_9.idx
              - merge_10.idx
              - split_11.idx
              - x_1.idx
              - merge_12.idx
              - split_13.idx
              - had_1.idx
              - s_0.idx
              - split_14.idx
              - z_1.idx
              - merge_15.idx
              - s_inv_1.idx
              - had_2.idx
              - merge_16.idx
              - split_17.idx
              - x_2.idx
              - merge_18.idx
              - split_19.idx
              - merge_20.idx
              - split_21.idx
              - GidneyAdd_uncompute_0.idx
              - merge_22.idx
              - split_23.idx
              - merge_24.idx
              - split_25.idx
              - x_3.idx
              - merge_26.idx
              - split_27.idx
              - had_3.idx
              - s_1.idx
              - CompareLT_uncompute_1.idx
              - Repeated_had_2_repetition.idx
              - Contiguizer_uncompute_0.idx
              - RotationCatalystStatePrep_uncompute_0.idx
              - x_4.idx
              - relbow_1.idx
              - qubits_free_1.idx
            local_variables: {}
            meta: {}
            name: MultiplexedRealUSPDF_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: input
              name: in_4
              size: null
            - direction: input
              name: in_5
              size: null
            - direction: input
              name: in_6
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            repetition: null
            resources: []
            type: qubrick
          connections:
          - source: CompareLT_compute_0.out_0
            target: CompareLT_uncompute_0.in_0
          - source: CompareLT_compute_0.out_1
            target: CompareLT_uncompute_0.in_1
          - source: CompareLT_compute_0.out_2
            target: split_4.in_0
          - source: CompareLT_uncompute_0.out_0
            target: merge_7.in_0
          - source: CompareLT_uncompute_0.out_1
            target: had_0.thru_0
          - source: MultiplexedRealUSPDF_uncompute_0.out_0
            target: out_1
          - source: MultiplexedRealUSPDF_uncompute_0.out_1
            target: out_3
          - source: MultiplexedRealUSPDF_uncompute_0.out_2
            target: out_4
          - source: MultiplexedRealUSPDF_uncompute_0.out_3
            target: out_5
          - source: MultiplexedRealUSPDF_uncompute_0.out_4
            target: out_6
          - source: MultiplexedSparseDataLookupDF_uncompute_0.out_0
            target: out_2
          - source: MultiplexedSparseDataLookupDF_uncompute_0.out_1
            target: MultiplexedRealUSPDF_uncompute_0.in_4
          - source: had_0.thru_0
            target: qubits_free_1.in_0
          - source: in_0
            target: out_0
          - source: in_1
            target: split_0.in_0
          - source: in_10
            target: MultiplexedRealUSPDF_uncompute_0.in_5
          - source: in_11
            target: out_7
          - source: in_12
            target: MultiplexedRealUSPDF_uncompute_0.in_6
          - source: in_2
            target: MultiplexedRealUSPDF_uncompute_0.in_0
          - source: in_3
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_1
          - source: in_4
            target: MultiplexedRealUSPDF_uncompute_0.in_1
          - source: in_5
            target: CompareLT_compute_0.in_1
          - source: in_6
            target: swap_0.thru_1
          - source: in_7
            target: MultiplexedRealUSPDF_uncompute_0.in_2
          - source: in_8
            target: MultiplexedRealUSPDF_uncompute_0.in_3
          - source: in_9
            target: swap_0.thru_2
          - source: merge_1.out_0
            target: split_2.in_0
          - source: merge_5.out_0
            target: CompareLT_uncompute_0.in_2
          - source: merge_7.out_0
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_0
          - source: split_0.out_0
            target: swap_0.thru_0
          - source: split_0.out_remainder
            target: merge_1.in_remainder
          - source: split_2.out_0
            target: CompareLT_compute_0.in_0
          - source: split_2.out_remainder
            target: merge_7.in_remainder
          - source: split_4.out_0
            target: x_0.thru_1
          - source: split_4.out_remainder
            target: merge_5.in_remainder
          - source: swap_0.thru_0
            target: merge_1.in_0
          - source: swap_0.thru_1
            target: x_0.thru_0
          - source: swap_0.thru_2
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_2
          - source: x_0.thru_0
            target: qubits_free_0.in_0
          - source: x_0.thru_1
            target: merge_5.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - split_0.M_r
            - swap_0.M_r
            - merge_1.M_r
            - split_2.M_r
            - CompareLT_compute_0.M_r
            - split_4.M_r
            - x_0.M_r
            - merge_5.M_r
            - CompareLT_uncompute_0.M_r
            - merge_7.M_r
            - qubits_free_0.M_r
            - had_0.M_r
            - qubits_free_1.M_r
            - MultiplexedSparseDataLookupDF_uncompute_0.M_r
            - MultiplexedRealUSPDF_uncompute_0.M_r
          - source: N_spatial
            targets:
            - split_0.N_spatial
            - swap_0.N_spatial
            - merge_1.N_spatial
            - split_2.N_spatial
            - CompareLT_compute_0.N_spatial
            - split_4.N_spatial
            - x_0.N_spatial
            - merge_5.N_spatial
            - CompareLT_uncompute_0.N_spatial
            - merge_7.N_spatial
            - qubits_free_0.N_spatial
            - had_0.N_spatial
            - qubits_free_1.N_spatial
            - MultiplexedSparseDataLookupDF_uncompute_0.N_spatial
            - MultiplexedRealUSPDF_uncompute_0.N_spatial
          - source: R
            targets:
            - split_0.R
            - swap_0.R
            - merge_1.R
            - split_2.R
            - CompareLT_compute_0.R
            - split_4.R
            - x_0.R
            - merge_5.R
            - CompareLT_uncompute_0.R
            - merge_7.R
            - qubits_free_0.R
            - had_0.R
            - qubits_free_1.R
            - MultiplexedSparseDataLookupDF_uncompute_0.R
            - MultiplexedRealUSPDF_uncompute_0.R
          - source: b_as
            targets:
            - split_0.b_as
            - swap_0.b_as
            - merge_1.b_as
            - split_2.b_as
            - CompareLT_compute_0.b_as
            - split_4.b_as
            - x_0.b_as
            - merge_5.b_as
            - CompareLT_uncompute_0.b_as
            - merge_7.b_as
            - qubits_free_0.b_as
            - had_0.b_as
            - qubits_free_1.b_as
            - MultiplexedSparseDataLookupDF_uncompute_0.b_as
            - MultiplexedRealUSPDF_uncompute_0.b_as
          - source: b_givens
            targets:
            - split_0.b_givens
            - swap_0.b_givens
            - merge_1.b_givens
            - split_2.b_givens
            - CompareLT_compute_0.b_givens
            - split_4.b_givens
            - x_0.b_givens
            - merge_5.b_givens
            - CompareLT_uncompute_0.b_givens
            - merge_7.b_givens
            - qubits_free_0.b_givens
            - had_0.b_givens
            - qubits_free_1.b_givens
            - MultiplexedSparseDataLookupDF_uncompute_0.b_givens
            - MultiplexedRealUSPDF_uncompute_0.b_givens
          - source: b_mas
            targets:
            - split_0.b_mas
            - swap_0.b_mas
            - merge_1.b_mas
            - split_2.b_mas
            - CompareLT_compute_0.b_mas
            - split_4.b_mas
            - x_0.b_mas
            - merge_5.b_mas
            - CompareLT_uncompute_0.b_mas
            - merge_7.b_mas
            - qubits_free_0.b_mas
            - had_0.b_mas
            - qubits_free_1.b_mas
            - MultiplexedSparseDataLookupDF_uncompute_0.b_mas
            - MultiplexedRealUSPDF_uncompute_0.b_mas
          - source: idx
            targets:
            - split_0.idx
            - swap_0.idx
            - merge_1.idx
            - split_2.idx
            - CompareLT_compute_0.idx
            - split_4.idx
            - x_0.idx
            - merge_5.idx
            - CompareLT_uncompute_0.idx
            - merge_7.idx
            - qubits_free_0.idx
            - had_0.idx
            - qubits_free_1.idx
            - MultiplexedSparseDataLookupDF_uncompute_0.idx
            - MultiplexedRealUSPDF_uncompute_0.idx
          local_variables: {}
          meta: {}
          name: MultiplexedAliasSamplingDF_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_10
            size: null
          - direction: input
            name: in_11
            size: null
          - direction: input
            name: in_12
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: input
            name: in_7
            size: null
          - direction: input
            name: in_8
            size: null
          - direction: input
            name: in_9
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '3'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        connections:
        - source: MultiplexedAliasSamplingDF_compute_0.out_0
          target: OneElectronTermSelect_compute_0.in_0
        - source: MultiplexedAliasSamplingDF_compute_0.out_1
          target: MultiplexedAliasSamplingDF_uncompute_0.in_1
        - source: MultiplexedAliasSamplingDF_compute_0.out_10
          target: MultiplexedAliasSamplingDF_uncompute_0.in_10
        - source: MultiplexedAliasSamplingDF_compute_0.out_11
          target: OneElectronTermSelect_compute_0.in_9
        - source: MultiplexedAliasSamplingDF_compute_0.out_12
          target: OneElectronTermSelect_compute_0.in_10
        - source: MultiplexedAliasSamplingDF_compute_0.out_2
          target: OneElectronTermSelect_compute_0.in_1
        - source: MultiplexedAliasSamplingDF_compute_0.out_3
          target: OneElectronTermSelect_compute_0.in_2
        - source: MultiplexedAliasSamplingDF_compute_0.out_4
          target: OneElectronTermSelect_compute_0.in_3
        - source: MultiplexedAliasSamplingDF_compute_0.out_5
          target: MultiplexedAliasSamplingDF_uncompute_0.in_5
        - source: MultiplexedAliasSamplingDF_compute_0.out_6
          target: MultiplexedAliasSamplingDF_uncompute_0.in_6
        - source: MultiplexedAliasSamplingDF_compute_0.out_7
          target: OneElectronTermSelect_compute_0.in_4
        - source: MultiplexedAliasSamplingDF_compute_0.out_8
          target: OneElectronTermSelect_compute_0.in_5
        - source: MultiplexedAliasSamplingDF_compute_0.out_9
          target: OneElectronTermSelect_compute_0.in_6
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_0
          target: out_0
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_1
          target: out_1
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_2
          target: out_2
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_3
          target: out_3
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_4
          target: out_4
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_5
          target: out_5
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_6
          target: out_7
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_7
          target: had_1.thru_0
        - source: OneElectronTermSelect_compute_0.out_0
          target: MultiplexedAliasSamplingDF_uncompute_0.in_0
        - source: OneElectronTermSelect_compute_0.out_1
          target: MultiplexedAliasSamplingDF_uncompute_0.in_2
        - source: OneElectronTermSelect_compute_0.out_10
          target: MultiplexedAliasSamplingDF_uncompute_0.in_11
        - source: OneElectronTermSelect_compute_0.out_11
          target: MultiplexedAliasSamplingDF_uncompute_0.in_12
        - source: OneElectronTermSelect_compute_0.out_2
          target: MultiplexedAliasSamplingDF_uncompute_0.in_3
        - source: OneElectronTermSelect_compute_0.out_3
          target: MultiplexedAliasSamplingDF_uncompute_0.in_4
        - source: OneElectronTermSelect_compute_0.out_4
          target: MultiplexedAliasSamplingDF_uncompute_0.in_7
        - source: OneElectronTermSelect_compute_0.out_5
          target: out_6
        - source: OneElectronTermSelect_compute_0.out_6
          target: MultiplexedAliasSamplingDF_uncompute_0.in_8
        - source: OneElectronTermSelect_compute_0.out_7
          target: MultiplexedAliasSamplingDF_uncompute_0.in_9
        - source: OneElectronTermSelect_compute_0.out_8
          target: out_8
        - source: OneElectronTermSelect_compute_0.out_9
          target: out_9
        - source: had_0.thru_0
          target: MultiplexedAliasSamplingDF_compute_0.in_6
        - source: had_1.thru_0
          target: out_10
        - source: in_0
          target: MultiplexedAliasSamplingDF_compute_0.in_0
        - source: in_1
          target: MultiplexedAliasSamplingDF_compute_0.in_1
        - source: in_2
          target: MultiplexedAliasSamplingDF_compute_0.in_2
        - source: in_3
          target: MultiplexedAliasSamplingDF_compute_0.in_3
        - source: in_4
          target: MultiplexedAliasSamplingDF_compute_0.in_4
        - source: in_5
          target: MultiplexedAliasSamplingDF_compute_0.in_5
        - source: in_6
          target: OneElectronTermSelect_compute_0.in_7
        - source: in_7
          target: OneElectronTermSelect_compute_0.in_8
        - source: in_8
          target: had_0.thru_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - had_0.M_r
          - MultiplexedAliasSamplingDF_compute_0.M_r
          - OneElectronTermSelect_compute_0.M_r
          - MultiplexedAliasSamplingDF_uncompute_0.M_r
          - had_1.M_r
        - source: N_spatial
          targets:
          - had_0.N_spatial
          - MultiplexedAliasSamplingDF_compute_0.N_spatial
          - OneElectronTermSelect_compute_0.N_spatial
          - MultiplexedAliasSamplingDF_uncompute_0.N_spatial
          - had_1.N_spatial
        - source: R
          targets:
          - had_0.R
          - MultiplexedAliasSamplingDF_compute_0.R
          - OneElectronTermSelect_compute_0.R
          - MultiplexedAliasSamplingDF_uncompute_0.R
          - had_1.R
        - source: b_as
          targets:
          - had_0.b_as
          - MultiplexedAliasSamplingDF_compute_0.b_as
          - OneElectronTermSelect_compute_0.b_as
          - MultiplexedAliasSamplingDF_uncompute_0.b_as
          - had_1.b_as
        - source: b_givens
          targets:
          - had_0.b_givens
          - MultiplexedAliasSamplingDF_compute_0.b_givens
          - OneElectronTermSelect_compute_0.b_givens
          - MultiplexedAliasSamplingDF_uncompute_0.b_givens
          - had_1.b_givens
        - source: b_mas
          targets:
          - had_0.b_mas
          - MultiplexedAliasSamplingDF_compute_0.b_mas
          - OneElectronTermSelect_compute_0.b_mas
          - MultiplexedAliasSamplingDF_uncompute_0.b_mas
          - had_1.b_mas
        - source: idx
          targets:
          - had_0.idx
          - MultiplexedAliasSamplingDF_compute_0.idx
          - OneElectronTermSelect_compute_0.idx
          - MultiplexedAliasSamplingDF_uncompute_0.idx
          - had_1.idx
        local_variables: {}
        meta: {}
        name: OneElectronTermBlockEncoding_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: input
          name: in_2
          size: null
        - direction: input
          name: in_3
          size: null
        - direction: input
          name: in_4
          size: null
        - direction: input
          name: in_5
          size: null
        - direction: input
          name: in_6
          size: null
        - direction: input
          name: in_7
          size: null
        - direction: input
          name: in_8
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        - direction: output
          name: out_10
          size: null
        - direction: output
          name: out_2
          size: null
        - direction: output
          name: out_3
          size: null
        - direction: output
          name: out_4
          size: null
        - direction: output
          name: out_5
          size: null
        - direction: output
          name: out_6
          size: null
        - direction: output
          name: out_7
          size: null
        - direction: output
          name: out_8
          size: null
        - direction: output
          name: out_9
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_1
        ports:
        - direction: input
          name: in_0
          size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
            + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + 1
        - direction: input
          name: in_1
          size: M_r*(R - 1)
        - direction: input
          name: in_2
          size: b_mas
        - direction: input
          name: in_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(M_r
            - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + 1)-(M_r*(R - 1))-(b_mas)
        - direction: output
          name: out_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_2
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        - direction: output
          name: out_0
          size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
        - direction: output
          name: out_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(Mod(1,
            ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_3
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(R))
        - direction: input
          name: in_1
          size: '1'
        - direction: output
          name: out_0
          size: ceiling(log2(R)) + 1
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: z_0
        ports:
        - direction: through
          name: thru_0
          size: ceiling(log2(R)) + 1
        - direction: through
          name: thru_1
          size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: 47*Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
            - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + ceiling(log2(R)) - 1.5, 0) + 49*(Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
            + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
            + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))) + 49*ceiling(log2(R)) - 49*Min(2,
            Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + ceiling(log2(R)))
        - name: gidney_lelbows
          type: additive
          value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + ceiling(log2(R)) - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
            + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
            + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + ceiling(log2(R)))
        - name: gidney_relbows
          type: additive
          value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + ceiling(log2(R)) - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
            + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
            + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + ceiling(log2(R)))
        - name: local_ancillae
          type: qubits
          value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + ceiling(log2(R)) - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
            + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
            + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + ceiling(log2(R)))
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
            - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + ceiling(log2(R)) - 1.5, 0)
        type: z
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_4
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(R)) + 1
        - direction: output
          name: out_0
          size: ceiling(log2(R))
        - direction: output
          name: out_1
          size: '1'
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_5
        ports:
        - direction: input
          name: in_0
          size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
        - direction: input
          name: in_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(Mod(1,
            ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
        - direction: output
          name: out_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_6
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        - direction: output
          name: out_0
          size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
        - direction: output
          name: out_1
          size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
            + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + 1
        - direction: output
          name: out_2
          size: M_r*(R - 1)
        - direction: output
          name: out_3
          size: b_mas
        - direction: output
          name: out_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(Mod(1,
            ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))-(M_r
            - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + 1)-(M_r*(R - 1))-(b_mas)
        repetition: null
        resources: []
        type: split
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: lelbow_0
          ports:
          - direction: through
            name: thru_0
            size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 44*Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1.5, 0) + 49*(Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))) - 49*Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
          - name: gidney_lelbows
            type: additive
            value: Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1.5, 0) + Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
          - name: gidney_relbows
            type: additive
            value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
              - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
              + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))))
          - name: local_ancillae
            type: qubits
            value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
              - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
              + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))))
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: lelbow
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '3'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children:
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: lelbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: lelbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_3
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: s_inv_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: s_inv
                  connections:
                  - source: in_0
                    target: s_inv_0.thru_0
                  - source: s_inv_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - s_inv_0.M_r
                  - source: N_spatial
                    targets:
                    - s_inv_0.N_spatial
                  - source: R
                    targets:
                    - s_inv_0.R
                  - source: b_as
                    targets:
                    - s_inv_0.b_as
                  - source: b_givens
                    targets:
                    - s_inv_0.b_givens
                  - source: b_mas
                    targets:
                    - s_inv_0.b_mas
                  - source: idx
                    targets:
                    - s_inv_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_s_inv_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_s_inv_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_s_inv_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_s_inv_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_s_inv_0.N_spatial
                - source: R
                  targets:
                  - Repeated_s_inv_0.R
                - source: b_as
                  targets:
                  - Repeated_s_inv_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_s_inv_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_s_inv_0.b_mas
                - source: idx
                  targets:
                  - Repeated_s_inv_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_s_inv_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                    b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                    b_givens, b_mas)) - Max(b_as, b_givens, b_mas) + 1.5, 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens - Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                    + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                    Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                    Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                    b_givens, b_mas) - 1.5, 0)
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_3
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_3
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: t_inv_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '28.5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '1'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: t_inv
                  connections:
                  - source: in_0
                    target: t_inv_0.thru_0
                  - source: t_inv_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - t_inv_0.M_r
                  - source: N_spatial
                    targets:
                    - t_inv_0.N_spatial
                  - source: R
                    targets:
                    - t_inv_0.R
                  - source: b_as
                    targets:
                    - t_inv_0.b_as
                  - source: b_givens
                    targets:
                    - t_inv_0.b_givens
                  - source: b_mas
                    targets:
                    - t_inv_0.b_mas
                  - source: idx
                    targets:
                    - t_inv_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_t_inv_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_t_inv_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_t_inv_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_t_inv_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_t_inv_0.N_spatial
                - source: R
                  targets:
                  - Repeated_t_inv_0.R
                - source: b_as
                  targets:
                  - Repeated_t_inv_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_t_inv_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_t_inv_0.b_mas
                - source: idx
                  targets:
                  - Repeated_t_inv_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_t_inv_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                    b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                    b_givens, b_mas)) - Max(b_as, b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens - Max(0,
                    b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                    + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                    Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                    Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                    b_givens, b_mas) - 2.5, 0)
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_3
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: input
                  name: in_3
                  size: Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: phase_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '1397'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '1'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: phase
                  connections:
                  - source: in_0
                    target: phase_0.thru_0
                  - source: phase_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - phase_0.M_r
                  - source: N_spatial
                    targets:
                    - phase_0.N_spatial
                  - source: R
                    targets:
                    - phase_0.R
                  - source: b_as
                    targets:
                    - phase_0.b_as
                  - source: b_givens
                    targets:
                    - phase_0.b_givens
                  - source: b_mas
                    targets:
                    - phase_0.b_mas
                  - source: idx
                    targets:
                    - phase_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_phase_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_phase_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_phase_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_phase_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_phase_0.N_spatial
                - source: R
                  targets:
                  - Repeated_phase_0.R
                - source: b_as
                  targets:
                  - Repeated_phase_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_phase_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_phase_0.b_mas
                - source: idx
                  targets:
                  - Repeated_phase_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_phase_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: Max(0, -Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas) + 1.5,
                    0)*Heaviside(Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                    b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                    b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                    b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                    b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                    + Max(b_as, b_givens, b_mas) - 1.5, 0) - Heaviside(-Max(0, b_mas
                    - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) -
                    Max(b_as, b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0, b_mas -
                    Max(b_as, b_givens, b_mas)) + Max(0, b_givens - Max(0, b_mas -
                    Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                    b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                    - 2.5, 0) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                    b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                    b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)-(1)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                    - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                    b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) +
                    Max(b_as, b_givens, b_mas)
                - direction: output
                  name: out_0
                  size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_1
                  size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                    - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_2
                  size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                - direction: output
                  name: out_3
                  size: Max(b_as, b_givens, b_mas)
                repetition: null
                resources: []
                type: split
              connections:
              - source: Repeated_phase_0_repetition.out_0
                target: merge_10.in_0
              - source: Repeated_s_inv_0_repetition.out_0
                target: merge_2.in_0
              - source: Repeated_t_inv_0_repetition.out_0
                target: merge_6.in_0
              - source: had_0.thru_0
                target: merge_0.in_0
              - source: in_0
                target: merge_0.in_1
              - source: in_1
                target: merge_0.in_2
              - source: in_2
                target: merge_0.in_3
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: had_0.thru_0
              - source: split_1.out_0
                target: Repeated_s_inv_0_repetition.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_11.out_0
                target: out_3
              - source: split_11.out_1
                target: out_1
              - source: split_11.out_2
                target: out_0
              - source: split_11.out_3
                target: out_2
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_3.out_2
                target: merge_4.in_2
              - source: split_3.out_3
                target: merge_4.in_3
              - source: split_5.out_0
                target: Repeated_t_inv_0_repetition.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: merge_8.in_0
              - source: split_7.out_1
                target: merge_8.in_1
              - source: split_7.out_2
                target: merge_8.in_2
              - source: split_7.out_3
                target: merge_8.in_3
              - source: split_9.out_0
                target: Repeated_phase_0_repetition.in_0
              - source: split_9.out_remainder
                target: merge_10.in_remainder
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - had_0.M_r
                - merge_0.M_r
                - split_1.M_r
                - Repeated_s_inv_0_repetition.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - Repeated_t_inv_0_repetition.M_r
                - merge_6.M_r
                - split_7.M_r
                - merge_8.M_r
                - split_9.M_r
                - Repeated_phase_0_repetition.M_r
                - merge_10.M_r
                - split_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - had_0.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - Repeated_s_inv_0_repetition.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - Repeated_t_inv_0_repetition.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - Repeated_phase_0_repetition.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - had_0.R
                - merge_0.R
                - split_1.R
                - Repeated_s_inv_0_repetition.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - Repeated_t_inv_0_repetition.R
                - merge_6.R
                - split_7.R
                - merge_8.R
                - split_9.R
                - Repeated_phase_0_repetition.R
                - merge_10.R
                - split_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - had_0.b_as
                - merge_0.b_as
                - split_1.b_as
                - Repeated_s_inv_0_repetition.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - Repeated_t_inv_0_repetition.b_as
                - merge_6.b_as
                - split_7.b_as
                - merge_8.b_as
                - split_9.b_as
                - Repeated_phase_0_repetition.b_as
                - merge_10.b_as
                - split_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - had_0.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - Repeated_s_inv_0_repetition.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - Repeated_t_inv_0_repetition.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - Repeated_phase_0_repetition.b_givens
                - merge_10.b_givens
                - split_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - had_0.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - Repeated_s_inv_0_repetition.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - Repeated_t_inv_0_repetition.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - Repeated_phase_0_repetition.b_mas
                - merge_10.b_mas
                - split_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - had_0.idx
                - merge_0.idx
                - split_1.idx
                - Repeated_s_inv_0_repetition.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - Repeated_t_inv_0_repetition.idx
                - merge_6.idx
                - split_7.idx
                - merge_8.idx
                - split_9.idx
                - Repeated_phase_0_repetition.idx
                - merge_10.idx
                - split_11.idx
              local_variables: {}
              meta: {}
              name: RotationCatalystStatePrep_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              - direction: output
                name: out_3
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: lelbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: lelbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_3
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: lelbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '44'
                    - name: gidney_lelbows
                      type: additive
                      value: '1'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: lelbow
                  connections:
                  - source: in_0
                    target: lelbow_0.thru_0
                  - source: in_1
                    target: lelbow_0.thru_1
                  - source: in_2
                    target: lelbow_0.thru_2
                  - source: lelbow_0.thru_0
                    target: out_0
                  - source: lelbow_0.thru_1
                    target: out_1
                  - source: lelbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - lelbow_0.M_r
                  - source: N_spatial
                    targets:
                    - lelbow_0.N_spatial
                  - source: R
                    targets:
                    - lelbow_0.R
                  - source: b_as
                    targets:
                    - lelbow_0.b_as
                  - source: b_givens
                    targets:
                    - lelbow_0.b_givens
                  - source: b_mas
                    targets:
                    - lelbow_0.b_mas
                  - source: idx
                    targets:
                    - lelbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_9
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_10
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_9.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_8.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_8.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_11.in_0
              - source: in_0
                target: split_0.in_0
              - source: lelbow_0.thru_0
                target: merge_3.in_0
              - source: lelbow_0.thru_1
                target: x_0.thru_0
              - source: merge_11.out_0
                target: out_1
              - source: merge_3.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_10.in_0
              - source: merge_9.out_0
                target: out_0
              - source: qubits_alloc_0.out_0
                target: split_1.in_0
              - source: split_0.out_0
                target: lelbow_0.thru_0
              - source: split_0.out_remainder
                target: merge_3.in_remainder
              - source: split_1.out_0
                target: lelbow_0.thru_1
              - source: split_1.out_remainder
                target: merge_5.in_remainder
              - source: split_10.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_10.out_remainder
                target: merge_11.in_remainder
              - source: split_6.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_6.out_remainder
                target: merge_9.in_remainder
              - source: split_7.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_7.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: x_0.thru_0
                target: merge_5.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - split_0.M_r
                - split_1.M_r
                - lelbow_0.M_r
                - merge_3.M_r
                - x_0.M_r
                - merge_5.M_r
                - split_6.M_r
                - split_7.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_8.M_r
                - merge_9.M_r
                - split_10.M_r
                - Repeated_x_0_repetition.M_r
                - merge_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - split_1.N_spatial
                - lelbow_0.N_spatial
                - merge_3.N_spatial
                - x_0.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - split_7.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_8.N_spatial
                - merge_9.N_spatial
                - split_10.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - split_0.R
                - split_1.R
                - lelbow_0.R
                - merge_3.R
                - x_0.R
                - merge_5.R
                - split_6.R
                - split_7.R
                - Repeated_lelbow_0_repetition.R
                - merge_8.R
                - merge_9.R
                - split_10.R
                - Repeated_x_0_repetition.R
                - merge_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - split_0.b_as
                - split_1.b_as
                - lelbow_0.b_as
                - merge_3.b_as
                - x_0.b_as
                - merge_5.b_as
                - split_6.b_as
                - split_7.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_8.b_as
                - merge_9.b_as
                - split_10.b_as
                - Repeated_x_0_repetition.b_as
                - merge_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - split_1.b_givens
                - lelbow_0.b_givens
                - merge_3.b_givens
                - x_0.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - split_7.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_8.b_givens
                - merge_9.b_givens
                - split_10.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - split_1.b_mas
                - lelbow_0.b_mas
                - merge_3.b_mas
                - x_0.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - split_7.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_8.b_mas
                - merge_9.b_mas
                - split_10.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - split_0.idx
                - split_1.idx
                - lelbow_0.idx
                - merge_3.idx
                - x_0.idx
                - merge_5.idx
                - split_6.idx
                - split_7.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_8.idx
                - merge_9.idx
                - split_10.idx
                - Repeated_x_0_repetition.idx
                - merge_11.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_0.out_0
                target: out_0
              - source: Repeated_had_0.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_0.in_0
              - source: in_1
                target: Repeated_had_0.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_0.M_r
              - source: N_spatial
                targets:
                - Repeated_had_0.N_spatial
              - source: R
                targets:
                - Repeated_had_0.R
              - source: b_as
                targets:
                - Repeated_had_0.b_as
              - source: b_givens
                targets:
                - Repeated_had_0.b_givens
              - source: b_mas
                targets:
                - Repeated_had_0.b_mas
              - source: idx
                targets:
                - Repeated_had_0.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_0_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_1
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_1
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_2
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_3
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_4
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_5
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_6
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_7
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_8
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_9
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_2
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_10
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_11
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_12
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: z
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_13
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_2
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_14
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_15
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_3
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_16
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_17
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_18
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_19
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_20
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_21
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_22
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_23
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_4
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_24
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_25
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_3
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_1
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_1.out_0
                target: out_0
              - source: Repeated_had_1.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_1.in_0
              - source: in_1
                target: Repeated_had_1.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_1.M_r
              - source: N_spatial
                targets:
                - Repeated_had_1.N_spatial
              - source: R
                targets:
                - Repeated_had_1.R
              - source: b_as
                targets:
                - Repeated_had_1.b_as
              - source: b_givens
                targets:
                - Repeated_had_1.b_givens
              - source: b_mas
                targets:
                - Repeated_had_1.b_mas
              - source: idx
                targets:
                - Repeated_had_1.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_1_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_1
              ports:
              - direction: through
                name: thru_0
                size: ceiling(log2(R))
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 47*Heaviside(ceiling(log2(R)) - 1.5, 0) + 49*ceiling(log2(R))
                  - 49*Min(2, ceiling(log2(R)))
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: Heaviside(ceiling(log2(R)) - 1.5, 0)
              type: z
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_2
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_2.out_0
                target: out_0
              - source: Repeated_had_2.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_2.in_0
              - source: in_1
                target: Repeated_had_2.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_2.M_r
              - source: N_spatial
                targets:
                - Repeated_had_2.N_spatial
              - source: R
                targets:
                - Repeated_had_2.R
              - source: b_as
                targets:
                - Repeated_had_2.b_as
              - source: b_givens
                targets:
                - Repeated_had_2.b_givens
              - source: b_mas
                targets:
                - Repeated_had_2.b_mas
              - source: idx
                targets:
                - Repeated_had_2.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_2_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_2
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: relbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '1'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: relbow
                  connections:
                  - source: in_0
                    target: relbow_0.thru_0
                  - source: in_1
                    target: relbow_0.thru_1
                  - source: in_2
                    target: relbow_0.thru_2
                  - source: relbow_0.thru_0
                    target: out_0
                  - source: relbow_0.thru_1
                    target: out_1
                  - source: relbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - relbow_0.M_r
                  - source: N_spatial
                    targets:
                    - relbow_0.N_spatial
                  - source: R
                    targets:
                    - relbow_0.R
                  - source: b_as
                    targets:
                    - relbow_0.b_as
                  - source: b_givens
                    targets:
                    - relbow_0.b_givens
                  - source: b_mas
                    targets:
                    - relbow_0.b_mas
                  - source: idx
                    targets:
                    - relbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_8
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: relbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: relbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_5.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_4.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_4.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_1.in_0
              - source: in_0
                target: split_2.in_0
              - source: in_1
                target: split_0.in_0
              - source: merge_1.out_0
                target: split_3.in_0
              - source: merge_10.out_0
                target: qubits_free_0.in_0
              - source: merge_11.out_0
                target: out_0
              - source: merge_4.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_8.in_0
              - source: relbow_0.thru_0
                target: merge_11.in_0
              - source: relbow_0.thru_1
                target: merge_10.in_0
              - source: split_0.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_2.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_2.out_remainder
                target: merge_5.in_remainder
              - source: split_3.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_3.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_6.out_0
                target: x_0.thru_0
              - source: split_6.out_remainder
                target: merge_10.in_remainder
              - source: split_8.out_0
                target: relbow_0.thru_0
              - source: split_8.out_remainder
                target: merge_11.in_remainder
              - source: x_0.thru_0
                target: relbow_0.thru_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - split_0.M_r
                - Repeated_x_0_repetition.M_r
                - merge_1.M_r
                - split_2.M_r
                - split_3.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_4.M_r
                - merge_5.M_r
                - split_6.M_r
                - x_0.M_r
                - split_8.M_r
                - relbow_0.M_r
                - merge_10.M_r
                - merge_11.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - split_0.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_1.N_spatial
                - split_2.N_spatial
                - split_3.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_4.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - x_0.N_spatial
                - split_8.N_spatial
                - relbow_0.N_spatial
                - merge_10.N_spatial
                - merge_11.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - split_0.R
                - Repeated_x_0_repetition.R
                - merge_1.R
                - split_2.R
                - split_3.R
                - Repeated_lelbow_0_repetition.R
                - merge_4.R
                - merge_5.R
                - split_6.R
                - x_0.R
                - split_8.R
                - relbow_0.R
                - merge_10.R
                - merge_11.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - split_0.b_as
                - Repeated_x_0_repetition.b_as
                - merge_1.b_as
                - split_2.b_as
                - split_3.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_4.b_as
                - merge_5.b_as
                - split_6.b_as
                - x_0.b_as
                - split_8.b_as
                - relbow_0.b_as
                - merge_10.b_as
                - merge_11.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - split_0.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_1.b_givens
                - split_2.b_givens
                - split_3.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_4.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - x_0.b_givens
                - split_8.b_givens
                - relbow_0.b_givens
                - merge_10.b_givens
                - merge_11.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - split_0.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_1.b_mas
                - split_2.b_mas
                - split_3.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_4.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - x_0.b_mas
                - split_8.b_mas
                - relbow_0.b_mas
                - merge_10.b_mas
                - merge_11.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - split_0.idx
                - Repeated_x_0_repetition.idx
                - merge_1.idx
                - split_2.idx
                - split_3.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_4.idx
                - merge_5.idx
                - split_6.idx
                - x_0.idx
                - split_8.idx
                - relbow_0.idx
                - merge_10.idx
                - merge_11.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_1
              ports:
              - direction: output
                name: out_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_26
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: lelbow_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: lelbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_27
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            connections:
            - source: CompareLT_compute_0.out_0
              target: CompareLT_uncompute_0.in_0
            - source: CompareLT_compute_0.out_1
              target: CompareLT_uncompute_0.in_1
            - source: CompareLT_compute_0.out_2
              target: split_12.in_0
            - source: CompareLT_compute_1.out_0
              target: CompareLT_uncompute_1.in_0
            - source: CompareLT_compute_1.out_1
              target: CompareLT_uncompute_1.in_1
            - source: CompareLT_compute_1.out_2
              target: split_26.in_0
            - source: CompareLT_uncompute_0.out_0
              target: Contiguizer_uncompute_0.in_0
            - source: CompareLT_uncompute_0.out_1
              target: Repeated_had_1_repetition.in_1
            - source: CompareLT_uncompute_1.out_0
              target: out_0
            - source: CompareLT_uncompute_1.out_1
              target: out_6
            - source: Contiguizer_compute_0.out_0
              target: CompareLT_compute_0.in_0
            - source: Contiguizer_compute_0.out_1
              target: Repeated_had_0_repetition.in_0
            - source: Contiguizer_uncompute_0.out_0
              target: CompareLT_compute_1.in_0
            - source: GidneyAdd_compute_0.out_0
              target: merge_6.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: merge_20.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: Repeated_had_0_repetition.out_0
              target: Repeated_had_1_repetition.in_0
            - source: Repeated_had_0_repetition.out_1
              target: CompareLT_compute_0.in_1
            - source: Repeated_had_1_repetition.out_0
              target: Repeated_had_2_repetition.in_0
            - source: Repeated_had_1_repetition.out_1
              target: z_1.thru_0
            - source: Repeated_had_2_repetition.out_0
              target: Contiguizer_uncompute_0.in_1
            - source: Repeated_had_2_repetition.out_1
              target: CompareLT_compute_1.in_1
            - source: RotationCatalystStatePrep_compute_0.out_0
              target: merge_0.in_2
            - source: RotationCatalystStatePrep_compute_0.out_1
              target: merge_0.in_1
            - source: RotationCatalystStatePrep_compute_0.out_2
              target: merge_0.in_3
            - source: RotationCatalystStatePrep_compute_0.out_3
              target: merge_0.in_0
            - source: had_0.thru_0
              target: x_1.thru_1
            - source: had_1.thru_0
              target: s_0.thru_0
            - source: had_2.thru_0
              target: x_3.thru_1
            - source: had_3.thru_0
              target: s_1.thru_0
            - source: in_0
              target: Contiguizer_compute_0.in_0
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: RotationCatalystStatePrep_compute_0.in_2
            - source: in_3
              target: RotationCatalystStatePrep_compute_0.in_1
            - source: in_4
              target: RotationCatalystStatePrep_compute_0.in_0
            - source: in_5
              target: Repeated_had_0_repetition.in_1
            - source: lelbow_0.thru_0
              target: x_0.thru_0
            - source: lelbow_1.thru_0
              target: merge_27.in_0
            - source: lelbow_1.thru_1
              target: out_8
            - source: merge_0.out_0
              target: split_1.in_0
            - source: merge_10.out_0
              target: split_11.in_0
            - source: merge_13.out_0
              target: CompareLT_uncompute_0.in_2
            - source: merge_14.out_0
              target: split_15.in_0
            - source: merge_16.out_0
              target: split_17.in_0
            - source: merge_18.out_0
              target: split_19.in_0
            - source: merge_2.out_0
              target: split_3.in_0
            - source: merge_20.out_0
              target: split_21.in_0
            - source: merge_22.out_0
              target: split_23.in_0
            - source: merge_24.out_0
              target: split_25.in_0
            - source: merge_27.out_0
              target: CompareLT_uncompute_1.in_2
            - source: merge_4.out_0
              target: split_5.in_0
            - source: merge_6.out_0
              target: split_7.in_0
            - source: merge_8.out_0
              target: split_9.in_0
            - source: qubits_alloc_0.out_0
              target: lelbow_0.thru_0
            - source: qubits_alloc_1.out_0
              target: lelbow_1.thru_1
            - source: s_0.thru_0
              target: z_0.thru_1
            - source: s_1.thru_0
              target: z_1.thru_1
            - source: s_inv_0.thru_0
              target: had_0.thru_0
            - source: s_inv_1.thru_0
              target: had_2.thru_0
            - source: split_1.out_0
              target: x_1.thru_0
            - source: split_1.out_remainder
              target: merge_2.in_remainder
            - source: split_11.out_0
              target: merge_14.in_0
            - source: split_11.out_1
              target: merge_14.in_1
            - source: split_11.out_2
              target: merge_14.in_2
            - source: split_11.out_3
              target: merge_14.in_3
            - source: split_12.out_0
              target: z_0.thru_0
            - source: split_12.out_remainder
              target: merge_13.in_remainder
            - source: split_15.out_0
              target: x_3.thru_0
            - source: split_15.out_remainder
              target: merge_16.in_remainder
            - source: split_17.out_0
              target: merge_18.in_0
            - source: split_17.out_1
              target: merge_18.in_1
            - source: split_17.out_2
              target: merge_18.in_2
            - source: split_17.out_3
              target: merge_18.in_3
            - source: split_19.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: split_19.out_remainder
              target: merge_20.in_remainder
            - source: split_21.out_0
              target: merge_22.in_0
            - source: split_21.out_1
              target: merge_22.in_1
            - source: split_21.out_2
              target: merge_22.in_2
            - source: split_21.out_3
              target: merge_22.in_3
            - source: split_23.out_0
              target: x_4.thru_0
            - source: split_23.out_remainder
              target: merge_24.in_remainder
            - source: split_25.out_0
              target: out_4
            - source: split_25.out_1
              target: out_5
            - source: split_25.out_2
              target: out_3
            - source: split_25.out_3
              target: out_2
            - source: split_26.out_0
              target: lelbow_1.thru_0
            - source: split_26.out_remainder
              target: merge_27.in_remainder
            - source: split_3.out_0
              target: merge_4.in_0
            - source: split_3.out_1
              target: merge_4.in_1
            - source: split_3.out_2
              target: merge_4.in_2
            - source: split_3.out_3
              target: merge_4.in_3
            - source: split_5.out_0
              target: GidneyAdd_compute_0.in_0
            - source: split_5.out_remainder
              target: merge_6.in_remainder
            - source: split_7.out_0
              target: merge_8.in_0
            - source: split_7.out_1
              target: merge_8.in_1
            - source: split_7.out_2
              target: merge_8.in_2
            - source: split_7.out_3
              target: merge_8.in_3
            - source: split_9.out_0
              target: x_2.thru_0
            - source: split_9.out_remainder
              target: merge_10.in_remainder
            - source: x_0.thru_0
              target: s_inv_0.thru_0
            - source: x_1.thru_0
              target: merge_2.in_0
            - source: x_1.thru_1
              target: x_2.thru_1
            - source: x_2.thru_0
              target: merge_10.in_0
            - source: x_2.thru_1
              target: had_1.thru_0
            - source: x_3.thru_0
              target: merge_16.in_0
            - source: x_3.thru_1
              target: x_4.thru_1
            - source: x_4.thru_0
              target: merge_24.in_0
            - source: x_4.thru_1
              target: had_3.thru_0
            - source: z_0.thru_0
              target: merge_13.in_0
            - source: z_0.thru_1
              target: s_inv_1.thru_0
            - source: z_1.thru_0
              target: Repeated_had_2_repetition.in_1
            - source: z_1.thru_1
              target: out_7
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - lelbow_0.M_r
              - x_0.M_r
              - RotationCatalystStatePrep_compute_0.M_r
              - Contiguizer_compute_0.M_r
              - Repeated_had_0_repetition.M_r
              - CompareLT_compute_0.M_r
              - s_inv_0.M_r
              - had_0.M_r
              - merge_0.M_r
              - split_1.M_r
              - x_1.M_r
              - merge_2.M_r
              - split_3.M_r
              - merge_4.M_r
              - split_5.M_r
              - GidneyAdd_compute_0.M_r
              - merge_6.M_r
              - split_7.M_r
              - merge_8.M_r
              - split_9.M_r
              - x_2.M_r
              - merge_10.M_r
              - split_11.M_r
              - had_1.M_r
              - s_0.M_r
              - split_12.M_r
              - z_0.M_r
              - merge_13.M_r
              - s_inv_1.M_r
              - had_2.M_r
              - merge_14.M_r
              - split_15.M_r
              - x_3.M_r
              - merge_16.M_r
              - split_17.M_r
              - merge_18.M_r
              - split_19.M_r
              - GidneyAdd_uncompute_0.M_r
              - merge_20.M_r
              - split_21.M_r
              - merge_22.M_r
              - split_23.M_r
              - x_4.M_r
              - merge_24.M_r
              - split_25.M_r
              - had_3.M_r
              - s_1.M_r
              - CompareLT_uncompute_0.M_r
              - Repeated_had_1_repetition.M_r
              - z_1.M_r
              - Repeated_had_2_repetition.M_r
              - Contiguizer_uncompute_0.M_r
              - qubits_alloc_1.M_r
              - CompareLT_compute_1.M_r
              - split_26.M_r
              - lelbow_1.M_r
              - merge_27.M_r
              - CompareLT_uncompute_1.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - lelbow_0.N_spatial
              - x_0.N_spatial
              - RotationCatalystStatePrep_compute_0.N_spatial
              - Contiguizer_compute_0.N_spatial
              - Repeated_had_0_repetition.N_spatial
              - CompareLT_compute_0.N_spatial
              - s_inv_0.N_spatial
              - had_0.N_spatial
              - merge_0.N_spatial
              - split_1.N_spatial
              - x_1.N_spatial
              - merge_2.N_spatial
              - split_3.N_spatial
              - merge_4.N_spatial
              - split_5.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - merge_6.N_spatial
              - split_7.N_spatial
              - merge_8.N_spatial
              - split_9.N_spatial
              - x_2.N_spatial
              - merge_10.N_spatial
              - split_11.N_spatial
              - had_1.N_spatial
              - s_0.N_spatial
              - split_12.N_spatial
              - z_0.N_spatial
              - merge_13.N_spatial
              - s_inv_1.N_spatial
              - had_2.N_spatial
              - merge_14.N_spatial
              - split_15.N_spatial
              - x_3.N_spatial
              - merge_16.N_spatial
              - split_17.N_spatial
              - merge_18.N_spatial
              - split_19.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - merge_20.N_spatial
              - split_21.N_spatial
              - merge_22.N_spatial
              - split_23.N_spatial
              - x_4.N_spatial
              - merge_24.N_spatial
              - split_25.N_spatial
              - had_3.N_spatial
              - s_1.N_spatial
              - CompareLT_uncompute_0.N_spatial
              - Repeated_had_1_repetition.N_spatial
              - z_1.N_spatial
              - Repeated_had_2_repetition.N_spatial
              - Contiguizer_uncompute_0.N_spatial
              - qubits_alloc_1.N_spatial
              - CompareLT_compute_1.N_spatial
              - split_26.N_spatial
              - lelbow_1.N_spatial
              - merge_27.N_spatial
              - CompareLT_uncompute_1.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - lelbow_0.R
              - x_0.R
              - RotationCatalystStatePrep_compute_0.R
              - Contiguizer_compute_0.R
              - Repeated_had_0_repetition.R
              - CompareLT_compute_0.R
              - s_inv_0.R
              - had_0.R
              - merge_0.R
              - split_1.R
              - x_1.R
              - merge_2.R
              - split_3.R
              - merge_4.R
              - split_5.R
              - GidneyAdd_compute_0.R
              - merge_6.R
              - split_7.R
              - merge_8.R
              - split_9.R
              - x_2.R
              - merge_10.R
              - split_11.R
              - had_1.R
              - s_0.R
              - split_12.R
              - z_0.R
              - merge_13.R
              - s_inv_1.R
              - had_2.R
              - merge_14.R
              - split_15.R
              - x_3.R
              - merge_16.R
              - split_17.R
              - merge_18.R
              - split_19.R
              - GidneyAdd_uncompute_0.R
              - merge_20.R
              - split_21.R
              - merge_22.R
              - split_23.R
              - x_4.R
              - merge_24.R
              - split_25.R
              - had_3.R
              - s_1.R
              - CompareLT_uncompute_0.R
              - Repeated_had_1_repetition.R
              - z_1.R
              - Repeated_had_2_repetition.R
              - Contiguizer_uncompute_0.R
              - qubits_alloc_1.R
              - CompareLT_compute_1.R
              - split_26.R
              - lelbow_1.R
              - merge_27.R
              - CompareLT_uncompute_1.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - lelbow_0.b_as
              - x_0.b_as
              - RotationCatalystStatePrep_compute_0.b_as
              - Contiguizer_compute_0.b_as
              - Repeated_had_0_repetition.b_as
              - CompareLT_compute_0.b_as
              - s_inv_0.b_as
              - had_0.b_as
              - merge_0.b_as
              - split_1.b_as
              - x_1.b_as
              - merge_2.b_as
              - split_3.b_as
              - merge_4.b_as
              - split_5.b_as
              - GidneyAdd_compute_0.b_as
              - merge_6.b_as
              - split_7.b_as
              - merge_8.b_as
              - split_9.b_as
              - x_2.b_as
              - merge_10.b_as
              - split_11.b_as
              - had_1.b_as
              - s_0.b_as
              - split_12.b_as
              - z_0.b_as
              - merge_13.b_as
              - s_inv_1.b_as
              - had_2.b_as
              - merge_14.b_as
              - split_15.b_as
              - x_3.b_as
              - merge_16.b_as
              - split_17.b_as
              - merge_18.b_as
              - split_19.b_as
              - GidneyAdd_uncompute_0.b_as
              - merge_20.b_as
              - split_21.b_as
              - merge_22.b_as
              - split_23.b_as
              - x_4.b_as
              - merge_24.b_as
              - split_25.b_as
              - had_3.b_as
              - s_1.b_as
              - CompareLT_uncompute_0.b_as
              - Repeated_had_1_repetition.b_as
              - z_1.b_as
              - Repeated_had_2_repetition.b_as
              - Contiguizer_uncompute_0.b_as
              - qubits_alloc_1.b_as
              - CompareLT_compute_1.b_as
              - split_26.b_as
              - lelbow_1.b_as
              - merge_27.b_as
              - CompareLT_uncompute_1.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - lelbow_0.b_givens
              - x_0.b_givens
              - RotationCatalystStatePrep_compute_0.b_givens
              - Contiguizer_compute_0.b_givens
              - Repeated_had_0_repetition.b_givens
              - CompareLT_compute_0.b_givens
              - s_inv_0.b_givens
              - had_0.b_givens
              - merge_0.b_givens
              - split_1.b_givens
              - x_1.b_givens
              - merge_2.b_givens
              - split_3.b_givens
              - merge_4.b_givens
              - split_5.b_givens
              - GidneyAdd_compute_0.b_givens
              - merge_6.b_givens
              - split_7.b_givens
              - merge_8.b_givens
              - split_9.b_givens
              - x_2.b_givens
              - merge_10.b_givens
              - split_11.b_givens
              - had_1.b_givens
              - s_0.b_givens
              - split_12.b_givens
              - z_0.b_givens
              - merge_13.b_givens
              - s_inv_1.b_givens
              - had_2.b_givens
              - merge_14.b_givens
              - split_15.b_givens
              - x_3.b_givens
              - merge_16.b_givens
              - split_17.b_givens
              - merge_18.b_givens
              - split_19.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - merge_20.b_givens
              - split_21.b_givens
              - merge_22.b_givens
              - split_23.b_givens
              - x_4.b_givens
              - merge_24.b_givens
              - split_25.b_givens
              - had_3.b_givens
              - s_1.b_givens
              - CompareLT_uncompute_0.b_givens
              - Repeated_had_1_repetition.b_givens
              - z_1.b_givens
              - Repeated_had_2_repetition.b_givens
              - Contiguizer_uncompute_0.b_givens
              - qubits_alloc_1.b_givens
              - CompareLT_compute_1.b_givens
              - split_26.b_givens
              - lelbow_1.b_givens
              - merge_27.b_givens
              - CompareLT_uncompute_1.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - lelbow_0.b_mas
              - x_0.b_mas
              - RotationCatalystStatePrep_compute_0.b_mas
              - Contiguizer_compute_0.b_mas
              - Repeated_had_0_repetition.b_mas
              - CompareLT_compute_0.b_mas
              - s_inv_0.b_mas
              - had_0.b_mas
              - merge_0.b_mas
              - split_1.b_mas
              - x_1.b_mas
              - merge_2.b_mas
              - split_3.b_mas
              - merge_4.b_mas
              - split_5.b_mas
              - GidneyAdd_compute_0.b_mas
              - merge_6.b_mas
              - split_7.b_mas
              - merge_8.b_mas
              - split_9.b_mas
              - x_2.b_mas
              - merge_10.b_mas
              - split_11.b_mas
              - had_1.b_mas
              - s_0.b_mas
              - split_12.b_mas
              - z_0.b_mas
              - merge_13.b_mas
              - s_inv_1.b_mas
              - had_2.b_mas
              - merge_14.b_mas
              - split_15.b_mas
              - x_3.b_mas
              - merge_16.b_mas
              - split_17.b_mas
              - merge_18.b_mas
              - split_19.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - merge_20.b_mas
              - split_21.b_mas
              - merge_22.b_mas
              - split_23.b_mas
              - x_4.b_mas
              - merge_24.b_mas
              - split_25.b_mas
              - had_3.b_mas
              - s_1.b_mas
              - CompareLT_uncompute_0.b_mas
              - Repeated_had_1_repetition.b_mas
              - z_1.b_mas
              - Repeated_had_2_repetition.b_mas
              - Contiguizer_uncompute_0.b_mas
              - qubits_alloc_1.b_mas
              - CompareLT_compute_1.b_mas
              - split_26.b_mas
              - lelbow_1.b_mas
              - merge_27.b_mas
              - CompareLT_uncompute_1.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - lelbow_0.idx
              - x_0.idx
              - RotationCatalystStatePrep_compute_0.idx
              - Contiguizer_compute_0.idx
              - Repeated_had_0_repetition.idx
              - CompareLT_compute_0.idx
              - s_inv_0.idx
              - had_0.idx
              - merge_0.idx
              - split_1.idx
              - x_1.idx
              - merge_2.idx
              - split_3.idx
              - merge_4.idx
              - split_5.idx
              - GidneyAdd_compute_0.idx
              - merge_6.idx
              - split_7.idx
              - merge_8.idx
              - split_9.idx
              - x_2.idx
              - merge_10.idx
              - split_11.idx
              - had_1.idx
              - s_0.idx
              - split_12.idx
              - z_0.idx
              - merge_13.idx
              - s_inv_1.idx
              - had_2.idx
              - merge_14.idx
              - split_15.idx
              - x_3.idx
              - merge_16.idx
              - split_17.idx
              - merge_18.idx
              - split_19.idx
              - GidneyAdd_uncompute_0.idx
              - merge_20.idx
              - split_21.idx
              - merge_22.idx
              - split_23.idx
              - x_4.idx
              - merge_24.idx
              - split_25.idx
              - had_3.idx
              - s_1.idx
              - CompareLT_uncompute_0.idx
              - Repeated_had_1_repetition.idx
              - z_1.idx
              - Repeated_had_2_repetition.idx
              - Contiguizer_uncompute_0.idx
              - qubits_alloc_1.idx
              - CompareLT_compute_1.idx
              - split_26.idx
              - lelbow_1.idx
              - merge_27.idx
              - CompareLT_uncompute_1.idx
            local_variables: {}
            meta: {}
            name: MultiplexedRealUSPDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: input
              name: in_4
              size: null
            - direction: input
              name: in_5
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            - direction: output
              name: out_5
              size: null
            - direction: output
              name: out_6
              size: null
            - direction: output
              name: out_7
              size: null
            - direction: output
              name: out_8
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_1
                ports:
                - direction: output
                  name: out_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                      - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                      - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*b_mas + 0.75*(b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + 0.75*ceiling(log2(R))) + 49)*Max(0,
                      -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R, b_mas +
                      ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R, b_mas
                      + ceiling(log2(R)))))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R)))))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_mas + ceiling(log2(R))))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (-1 + (b_mas + (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + ceiling(log2(R)))/(b_mas +
                      ceiling(log2(R))))*(55*b_mas + 55*ceiling(log2(R)))
                  - name: toffs
                    type: additive
                    value: (-1 + (b_mas + (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R,
                      b_mas + ceiling(log2(R))) - 1) + ceiling(log2(R)))/(b_mas +
                      ceiling(log2(R))))*(b_mas + ceiling(log2(R)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: SwapUp_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_mas + ceiling(log2(R))))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*(b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas +
                    ceiling(log2(R))) - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: (b_mas + ceiling(log2(R)))*(calc_lambda(M_r*R, b_mas + ceiling(log2(R)))
                    - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_2.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: SwapUp_compute_0.in_1
              - source: GoogleSelectOptimized_compute_0.out_2
                target: SwapUp_compute_0.in_2
              - source: SwapUp_compute_0.out_0
                target: merge_6.in_0
              - source: SwapUp_compute_0.out_1
                target: out_1
              - source: SwapUp_compute_0.out_2
                target: had_0.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: in_0
                target: merge_0.in_1
              - source: in_1
                target: merge_0.in_0
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: qubits_alloc_0.out_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: qubits_alloc_1.out_0
                target: GoogleSelectOptimized_compute_0.in_2
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_1.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_5.out_0
                target: SwapUp_compute_0.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: out_2
              - source: split_7.out_1
                target: out_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - qubits_alloc_1.M_r
                - merge_0.M_r
                - split_1.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - SwapUp_compute_0.M_r
                - merge_6.M_r
                - split_7.M_r
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - qubits_alloc_1.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - SwapUp_compute_0.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - qubits_alloc_1.R
                - merge_0.R
                - split_1.R
                - GoogleSelectOptimized_compute_0.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - SwapUp_compute_0.R
                - merge_6.R
                - split_7.R
                - had_0.R
                - read_0.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - qubits_alloc_1.b_as
                - merge_0.b_as
                - split_1.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - SwapUp_compute_0.b_as
                - merge_6.b_as
                - split_7.b_as
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - qubits_alloc_1.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - SwapUp_compute_0.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - qubits_alloc_1.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - SwapUp_compute_0.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - qubits_alloc_1.idx
                - merge_0.idx
                - split_1.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - SwapUp_compute_0.idx
                - merge_6.idx
                - split_7.idx
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: DataLookupClean_compute_0.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: DataLookupClean_compute_0.out_1
              target: out_0
            - source: DataLookupClean_compute_0.out_2
              target: GidneyAdd_uncompute_0.in_2
            - source: GidneyAdd_compute_0.out_0
              target: DataLookupClean_compute_0.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_compute_0.out_2
              target: DataLookupClean_compute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: qubits_free_0.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: GidneyAdd_uncompute_0.out_2
              target: out_2
            - source: in_0
              target: GidneyAdd_compute_0.in_1
            - source: in_1
              target: GidneyAdd_compute_0.in_2
            - source: qubits_alloc_0.out_0
              target: GidneyAdd_compute_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - GidneyAdd_compute_0.M_r
              - DataLookupClean_compute_0.M_r
              - GidneyAdd_uncompute_0.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - DataLookupClean_compute_0.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - GidneyAdd_compute_0.R
              - DataLookupClean_compute_0.R
              - GidneyAdd_uncompute_0.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - GidneyAdd_compute_0.b_as
              - DataLookupClean_compute_0.b_as
              - GidneyAdd_uncompute_0.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - GidneyAdd_compute_0.b_givens
              - DataLookupClean_compute_0.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - GidneyAdd_compute_0.b_mas
              - DataLookupClean_compute_0.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - GidneyAdd_compute_0.idx
              - DataLookupClean_compute_0.idx
              - GidneyAdd_uncompute_0.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: MultiplexedSparseDataLookupDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: had_0
            ports:
            - direction: through
              name: thru_0
              size: b_mas
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 3*b_mas
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: had
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_1
            ports:
            - direction: output
              name: out_0
              size: '1'
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_0
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: b_mas
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            repetition: null
            resources: []
            type: split
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_lelbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: qubits_alloc_0.out_0
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - cost_event.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - cost_event.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - cost_event.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - cost_event.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - cost_event.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - cost_event.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: CompareLT_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_2
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: output
              name: out_0
              size: '1'
            - direction: output
              name: out_remainder
              size: b_mas-(1)
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: x_0
            ports:
            - direction: through
              name: thru_0
              size: '1'
            - direction: through
              name: thru_1
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: '4'
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: x
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_3
            ports:
            - direction: input
              name: in_0
              size: '1'
            - direction: input
              name: in_remainder
              size: b_mas-(1)
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: merge
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_relbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: qubits_free_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - cost_event.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - cost_event.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - cost_event.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: CompareLT_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_5
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_6
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: ceiling(log2(R))
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: ceiling(log2(R))
            - direction: through
              name: thru_1
              size: '1'
            - direction: through
              name: thru_2
              size: ceiling(log2(R))
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*ceiling(log2(R))
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: ceiling(log2(R))
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_7
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R))
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          connections:
          - source: CompareLT_compute_0.out_0
            target: CompareLT_uncompute_0.in_0
          - source: CompareLT_compute_0.out_1
            target: CompareLT_uncompute_0.in_1
          - source: CompareLT_compute_0.out_2
            target: split_2.in_0
          - source: CompareLT_uncompute_0.out_0
            target: merge_5.in_0
          - source: CompareLT_uncompute_0.out_1
            target: out_5
          - source: MultiplexedRealUSPDF_compute_0.out_0
            target: out_2
          - source: MultiplexedRealUSPDF_compute_0.out_1
            target: out_4
          - source: MultiplexedRealUSPDF_compute_0.out_2
            target: out_7
          - source: MultiplexedRealUSPDF_compute_0.out_3
            target: out_8
          - source: MultiplexedRealUSPDF_compute_0.out_4
            target: out_9
          - source: MultiplexedRealUSPDF_compute_0.out_5
            target: out_10
          - source: MultiplexedRealUSPDF_compute_0.out_6
            target: MultiplexedSparseDataLookupDF_compute_0.in_1
          - source: MultiplexedRealUSPDF_compute_0.out_7
            target: out_12
          - source: MultiplexedRealUSPDF_compute_0.out_8
            target: out_14
          - source: MultiplexedSparseDataLookupDF_compute_0.out_0
            target: split_0.in_0
          - source: MultiplexedSparseDataLookupDF_compute_0.out_1
            target: out_3
          - source: MultiplexedSparseDataLookupDF_compute_0.out_2
            target: swap_0.thru_2
          - source: had_0.thru_0
            target: CompareLT_compute_0.in_1
          - source: in_0
            target: out_0
          - source: in_1
            target: MultiplexedRealUSPDF_compute_0.in_0
          - source: in_2
            target: MultiplexedSparseDataLookupDF_compute_0.in_0
          - source: in_3
            target: MultiplexedRealUSPDF_compute_0.in_1
          - source: in_4
            target: MultiplexedRealUSPDF_compute_0.in_2
          - source: in_5
            target: MultiplexedRealUSPDF_compute_0.in_3
          - source: in_6
            target: MultiplexedRealUSPDF_compute_0.in_4
          - source: in_7
            target: MultiplexedRealUSPDF_compute_0.in_5
          - source: in_8
            target: out_13
          - source: merge_3.out_0
            target: CompareLT_uncompute_0.in_2
          - source: merge_5.out_0
            target: split_6.in_0
          - source: merge_7.out_0
            target: out_1
          - source: qubits_alloc_0.out_0
            target: had_0.thru_0
          - source: qubits_alloc_1.out_0
            target: x_0.thru_0
          - source: split_0.out_0
            target: CompareLT_compute_0.in_0
          - source: split_0.out_remainder
            target: merge_5.in_remainder
          - source: split_2.out_0
            target: x_0.thru_1
          - source: split_2.out_remainder
            target: merge_3.in_remainder
          - source: split_6.out_0
            target: swap_0.thru_0
          - source: split_6.out_remainder
            target: merge_7.in_remainder
          - source: swap_0.thru_0
            target: merge_7.in_0
          - source: swap_0.thru_1
            target: out_6
          - source: swap_0.thru_2
            target: out_11
          - source: x_0.thru_0
            target: swap_0.thru_1
          - source: x_0.thru_1
            target: merge_3.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - MultiplexedRealUSPDF_compute_0.M_r
            - MultiplexedSparseDataLookupDF_compute_0.M_r
            - qubits_alloc_0.M_r
            - had_0.M_r
            - qubits_alloc_1.M_r
            - split_0.M_r
            - CompareLT_compute_0.M_r
            - split_2.M_r
            - x_0.M_r
            - merge_3.M_r
            - CompareLT_uncompute_0.M_r
            - merge_5.M_r
            - split_6.M_r
            - swap_0.M_r
            - merge_7.M_r
          - source: N_spatial
            targets:
            - MultiplexedRealUSPDF_compute_0.N_spatial
            - MultiplexedSparseDataLookupDF_compute_0.N_spatial
            - qubits_alloc_0.N_spatial
            - had_0.N_spatial
            - qubits_alloc_1.N_spatial
            - split_0.N_spatial
            - CompareLT_compute_0.N_spatial
            - split_2.N_spatial
            - x_0.N_spatial
            - merge_3.N_spatial
            - CompareLT_uncompute_0.N_spatial
            - merge_5.N_spatial
            - split_6.N_spatial
            - swap_0.N_spatial
            - merge_7.N_spatial
          - source: R
            targets:
            - MultiplexedRealUSPDF_compute_0.R
            - MultiplexedSparseDataLookupDF_compute_0.R
            - qubits_alloc_0.R
            - had_0.R
            - qubits_alloc_1.R
            - split_0.R
            - CompareLT_compute_0.R
            - split_2.R
            - x_0.R
            - merge_3.R
            - CompareLT_uncompute_0.R
            - merge_5.R
            - split_6.R
            - swap_0.R
            - merge_7.R
          - source: b_as
            targets:
            - MultiplexedRealUSPDF_compute_0.b_as
            - MultiplexedSparseDataLookupDF_compute_0.b_as
            - qubits_alloc_0.b_as
            - had_0.b_as
            - qubits_alloc_1.b_as
            - split_0.b_as
            - CompareLT_compute_0.b_as
            - split_2.b_as
            - x_0.b_as
            - merge_3.b_as
            - CompareLT_uncompute_0.b_as
            - merge_5.b_as
            - split_6.b_as
            - swap_0.b_as
            - merge_7.b_as
          - source: b_givens
            targets:
            - MultiplexedRealUSPDF_compute_0.b_givens
            - MultiplexedSparseDataLookupDF_compute_0.b_givens
            - qubits_alloc_0.b_givens
            - had_0.b_givens
            - qubits_alloc_1.b_givens
            - split_0.b_givens
            - CompareLT_compute_0.b_givens
            - split_2.b_givens
            - x_0.b_givens
            - merge_3.b_givens
            - CompareLT_uncompute_0.b_givens
            - merge_5.b_givens
            - split_6.b_givens
            - swap_0.b_givens
            - merge_7.b_givens
          - source: b_mas
            targets:
            - MultiplexedRealUSPDF_compute_0.b_mas
            - MultiplexedSparseDataLookupDF_compute_0.b_mas
            - qubits_alloc_0.b_mas
            - had_0.b_mas
            - qubits_alloc_1.b_mas
            - split_0.b_mas
            - CompareLT_compute_0.b_mas
            - split_2.b_mas
            - x_0.b_mas
            - merge_3.b_mas
            - CompareLT_uncompute_0.b_mas
            - merge_5.b_mas
            - split_6.b_mas
            - swap_0.b_mas
            - merge_7.b_mas
          - source: idx
            targets:
            - MultiplexedRealUSPDF_compute_0.idx
            - MultiplexedSparseDataLookupDF_compute_0.idx
            - qubits_alloc_0.idx
            - had_0.idx
            - qubits_alloc_1.idx
            - split_0.idx
            - CompareLT_compute_0.idx
            - split_2.idx
            - x_0.idx
            - merge_3.idx
            - CompareLT_uncompute_0.idx
            - merge_5.idx
            - split_6.idx
            - swap_0.idx
            - merge_7.idx
          local_variables: {}
          meta: {}
          name: MultiplexedAliasSamplingDF_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: input
            name: in_7
            size: null
          - direction: input
            name: in_8
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_10
            size: null
          - direction: output
            name: out_11
            size: null
          - direction: output
            name: out_12
            size: null
          - direction: output
            name: out_13
            size: null
          - direction: output
            name: out_14
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          - direction: output
            name: out_8
            size: null
          - direction: output
            name: out_9
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: N_spatial
            - direction: through
              name: thru_1
              size: N_spatial
            - direction: through
              name: thru_2
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*N_spatial
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: N_spatial
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
            repetition: null
            resources: []
            type: qubits_alloc
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 60
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: toffs
                type: additive
                value: '0'
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
            - source: R
              targets:
              - cost_event.R
            - source: b_as
              targets:
              - cost_event.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
            - source: idx
              targets:
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: GidneyAdd_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: lelbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              - direction: through
                name: thru_2
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '44'
              - name: gidney_lelbows
                type: additive
                value: '1'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: local_ancillae
                type: qubits
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: lelbow
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_1
                ports:
                - direction: output
                  name: out_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                      - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) -
                      1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                      - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) -
                      1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + 0.75*b_givens*(N_spatial -
                      1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))), 0) + ceiling(M_r*R/calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1))))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)))) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                    + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_givens*(N_spatial - 1)))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 55*b_givens*(-1 + (b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + b_givens*(N_spatial - 1))/(b_givens*(N_spatial
                      - 1)))*(N_spatial - 1)
                  - name: toffs
                    type: additive
                    value: b_givens*(-1 + (b_givens*(N_spatial - 1)*(calc_lambda(M_r*R,
                      b_givens*(N_spatial - 1)) - 1) + b_givens*(N_spatial - 1))/(b_givens*(N_spatial
                      - 1)))*(N_spatial - 1)
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: in_2
                  target: out_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: SwapUp_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, b_givens*(N_spatial - 1))))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    b_givens*(N_spatial - 1)))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_givens*(N_spatial - 1)*(calc_lambda(M_r*R, b_givens*(N_spatial
                    - 1)) - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_2.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: SwapUp_compute_0.in_1
              - source: GoogleSelectOptimized_compute_0.out_2
                target: SwapUp_compute_0.in_2
              - source: SwapUp_compute_0.out_0
                target: merge_6.in_0
              - source: SwapUp_compute_0.out_1
                target: out_1
              - source: SwapUp_compute_0.out_2
                target: had_0.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: in_0
                target: merge_0.in_1
              - source: in_1
                target: merge_0.in_0
              - source: merge_0.out_0
                target: split_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: qubits_alloc_0.out_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: qubits_alloc_1.out_0
                target: GoogleSelectOptimized_compute_0.in_2
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_1.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_1.out_remainder
                target: merge_2.in_remainder
              - source: split_3.out_0
                target: merge_4.in_0
              - source: split_3.out_1
                target: merge_4.in_1
              - source: split_5.out_0
                target: SwapUp_compute_0.in_0
              - source: split_5.out_remainder
                target: merge_6.in_remainder
              - source: split_7.out_0
                target: out_2
              - source: split_7.out_1
                target: out_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - qubits_alloc_1.M_r
                - merge_0.M_r
                - split_1.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_2.M_r
                - split_3.M_r
                - merge_4.M_r
                - split_5.M_r
                - SwapUp_compute_0.M_r
                - merge_6.M_r
                - split_7.M_r
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - qubits_alloc_1.N_spatial
                - merge_0.N_spatial
                - split_1.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - SwapUp_compute_0.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - qubits_alloc_1.R
                - merge_0.R
                - split_1.R
                - GoogleSelectOptimized_compute_0.R
                - merge_2.R
                - split_3.R
                - merge_4.R
                - split_5.R
                - SwapUp_compute_0.R
                - merge_6.R
                - split_7.R
                - had_0.R
                - read_0.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - qubits_alloc_1.b_as
                - merge_0.b_as
                - split_1.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_2.b_as
                - split_3.b_as
                - merge_4.b_as
                - split_5.b_as
                - SwapUp_compute_0.b_as
                - merge_6.b_as
                - split_7.b_as
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - qubits_alloc_1.b_givens
                - merge_0.b_givens
                - split_1.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - SwapUp_compute_0.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - qubits_alloc_1.b_mas
                - merge_0.b_mas
                - split_1.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - SwapUp_compute_0.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - qubits_alloc_1.idx
                - merge_0.idx
                - split_1.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_2.idx
                - split_3.idx
                - merge_4.idx
                - split_5.idx
                - SwapUp_compute_0.idx
                - merge_6.idx
                - split_7.idx
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens*(N_spatial - 1)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: N_spatial
                  - direction: output
                    name: out_0
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  repetition: null
                  resources: []
                  type: split
                - children:
                  - children:
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: qubits_alloc_0
                        ports:
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        repetition: null
                        resources: []
                        type: qubits_alloc
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: had_0
                        ports:
                        - direction: through
                          name: thru_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 3*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - name: gidney_lelbows
                          type: additive
                          value: '0'
                        - name: gidney_relbows
                          type: additive
                          value: '0'
                        - name: measurements
                          type: additive
                          value: '0'
                        - name: ppm_x_weight
                          type: other
                          value: '0'
                        - name: ppm_z_weight
                          type: other
                          value: '0'
                        - name: ppms
                          type: additive
                          value: '0'
                        - name: ppr_x_weight
                          type: other
                          value: '0'
                        - name: ppr_z_weight
                          type: other
                          value: '0'
                        - name: pprs
                          type: additive
                          value: '0'
                        - name: rotations
                          type: additive
                          value: '0'
                        - name: t_gates
                          type: additive
                          value: '0'
                        - name: toffs
                          type: additive
                          value: '0'
                        type: had
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_0
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: input
                          name: in_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_4
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_1
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: s_inv_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '5'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '0'
                            - name: t_gates
                              type: additive
                              value: '0'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: s_inv
                          connections:
                          - source: in_0
                            target: s_inv_0.thru_0
                          - source: s_inv_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - s_inv_0.M_r
                          - source: N_spatial
                            targets:
                            - s_inv_0.N_spatial
                          - source: R
                            targets:
                            - s_inv_0.R
                          - source: b_as
                            targets:
                            - s_inv_0.b_as
                          - source: b_givens
                            targets:
                            - s_inv_0.b_givens
                          - source: b_mas
                            targets:
                            - s_inv_0.b_mas
                          - source: idx
                            targets:
                            - s_inv_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_s_inv_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_s_inv_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_s_inv_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_s_inv_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_s_inv_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_s_inv_0.R
                        - source: b_as
                          targets:
                          - Repeated_s_inv_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_s_inv_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_s_inv_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_s_inv_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_s_inv_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas) + 1.5, 0)*Heaviside(Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) + Max(0, b_givens - Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1.5,
                            0)
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_2
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_3
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: output
                          name: out_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_4
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_4
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: input
                          name: in_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_4
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_5
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: t_inv_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '28.5'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '0'
                            - name: t_gates
                              type: additive
                              value: '1'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: t_inv
                          connections:
                          - source: in_0
                            target: t_inv_0.thru_0
                          - source: t_inv_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - t_inv_0.M_r
                          - source: N_spatial
                            targets:
                            - t_inv_0.N_spatial
                          - source: R
                            targets:
                            - t_inv_0.R
                          - source: b_as
                            targets:
                            - t_inv_0.b_as
                          - source: b_givens
                            targets:
                            - t_inv_0.b_givens
                          - source: b_mas
                            targets:
                            - t_inv_0.b_mas
                          - source: idx
                            targets:
                            - t_inv_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_t_inv_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_t_inv_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_t_inv_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_t_inv_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_t_inv_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_t_inv_0.R
                        - source: b_as
                          targets:
                          - Repeated_t_inv_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_t_inv_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_t_inv_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_t_inv_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_t_inv_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) + Max(0, b_givens - Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 2.5,
                            0)
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_6
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_7
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: output
                          name: out_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_4
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_8
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: input
                          name: in_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: input
                          name: in_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: input
                          name: in_4
                          size: Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_9
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: '1'
                        - direction: output
                          name: out_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        repetition: null
                        resources: []
                        type: split
                      - children:
                        - children:
                          - children: []
                            connections: []
                            input_params:
                            - b_mas
                            - M_r
                            - N_spatial
                            - idx
                            - R
                            - b_givens
                            - b_as
                            linked_params: []
                            local_variables: {}
                            meta: {}
                            name: phase_0
                            ports:
                            - direction: through
                              name: thru_0
                              size: '1'
                            repetition: null
                            resources:
                            - name: active_volume
                              type: additive
                              value: '1397'
                            - name: gidney_lelbows
                              type: additive
                              value: '0'
                            - name: gidney_relbows
                              type: additive
                              value: '0'
                            - name: measurements
                              type: additive
                              value: '0'
                            - name: ppm_x_weight
                              type: other
                              value: '0'
                            - name: ppm_z_weight
                              type: other
                              value: '0'
                            - name: ppms
                              type: additive
                              value: '0'
                            - name: ppr_x_weight
                              type: other
                              value: '0'
                            - name: ppr_z_weight
                              type: other
                              value: '0'
                            - name: pprs
                              type: additive
                              value: '0'
                            - name: rotations
                              type: additive
                              value: '1'
                            - name: t_gates
                              type: additive
                              value: '0'
                            - name: toffs
                              type: additive
                              value: '0'
                            type: phase
                          connections:
                          - source: in_0
                            target: phase_0.thru_0
                          - source: phase_0.thru_0
                            target: out_0
                          input_params:
                          - b_mas
                          - M_r
                          - N_spatial
                          - idx
                          - R
                          - b_givens
                          - b_as
                          linked_params:
                          - source: M_r
                            targets:
                            - phase_0.M_r
                          - source: N_spatial
                            targets:
                            - phase_0.N_spatial
                          - source: R
                            targets:
                            - phase_0.R
                          - source: b_as
                            targets:
                            - phase_0.b_as
                          - source: b_givens
                            targets:
                            - phase_0.b_givens
                          - source: b_mas
                            targets:
                            - phase_0.b_mas
                          - source: idx
                            targets:
                            - phase_0.idx
                          local_variables: {}
                          meta: {}
                          name: Repeated_phase_0
                          ports:
                          - direction: input
                            name: in_0
                            size: null
                          - direction: output
                            name: out_0
                            size: null
                          repetition: null
                          resources: []
                          type: qubrick
                        connections:
                        - source: Repeated_phase_0.out_0
                          target: out_0
                        - source: in_0
                          target: Repeated_phase_0.in_0
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params:
                        - source: M_r
                          targets:
                          - Repeated_phase_0.M_r
                        - source: N_spatial
                          targets:
                          - Repeated_phase_0.N_spatial
                        - source: R
                          targets:
                          - Repeated_phase_0.R
                        - source: b_as
                          targets:
                          - Repeated_phase_0.b_as
                        - source: b_givens
                          targets:
                          - Repeated_phase_0.b_givens
                        - source: b_mas
                          targets:
                          - Repeated_phase_0.b_mas
                        - source: idx
                          targets:
                          - Repeated_phase_0.idx
                        local_variables: {}
                        meta: {}
                        name: Repeated_phase_0_repetition
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: output
                          name: out_0
                          size: '1'
                        repetition:
                          count: Max(0, -Heaviside(-Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas) + 1.5, 0)*Heaviside(Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) + Max(0, b_givens - Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1.5,
                            0) - Heaviside(-Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas) + 2.5, 0)*Heaviside(Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) + Max(0, b_givens - Max(0, b_mas - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 2.5,
                            0) + Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)))
                          sequence:
                            multiplier: 1
                            type: constant
                        resources: []
                        type: qubrick
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: merge_10
                        ports:
                        - direction: input
                          name: in_0
                          size: '1'
                        - direction: input
                          name: in_remainder
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)-(1)
                        - direction: output
                          name: out_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: merge
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: split_11
                        ports:
                        - direction: input
                          name: in_0
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        - direction: output
                          name: out_0
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas))
                        - direction: output
                          name: out_1
                          size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                            b_mas))
                        - direction: output
                          name: out_2
                          size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_3
                          size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                        - direction: output
                          name: out_4
                          size: Max(b_as, b_givens, b_mas)
                        repetition: null
                        resources: []
                        type: split
                      connections:
                      - source: Repeated_phase_0_repetition.out_0
                        target: merge_10.in_0
                      - source: Repeated_s_inv_0_repetition.out_0
                        target: merge_2.in_0
                      - source: Repeated_t_inv_0_repetition.out_0
                        target: merge_6.in_0
                      - source: had_0.thru_0
                        target: merge_0.in_0
                      - source: in_0
                        target: merge_0.in_3
                      - source: in_1
                        target: merge_0.in_2
                      - source: in_2
                        target: merge_0.in_4
                      - source: in_3
                        target: merge_0.in_1
                      - source: merge_0.out_0
                        target: split_1.in_0
                      - source: merge_10.out_0
                        target: split_11.in_0
                      - source: merge_2.out_0
                        target: split_3.in_0
                      - source: merge_4.out_0
                        target: split_5.in_0
                      - source: merge_6.out_0
                        target: split_7.in_0
                      - source: merge_8.out_0
                        target: split_9.in_0
                      - source: qubits_alloc_0.out_0
                        target: had_0.thru_0
                      - source: split_1.out_0
                        target: Repeated_s_inv_0_repetition.in_0
                      - source: split_1.out_remainder
                        target: merge_2.in_remainder
                      - source: split_11.out_0
                        target: out_4
                      - source: split_11.out_1
                        target: out_2
                      - source: split_11.out_2
                        target: out_3
                      - source: split_11.out_3
                        target: out_1
                      - source: split_11.out_4
                        target: out_0
                      - source: split_3.out_0
                        target: merge_4.in_0
                      - source: split_3.out_1
                        target: merge_4.in_1
                      - source: split_3.out_2
                        target: merge_4.in_2
                      - source: split_3.out_3
                        target: merge_4.in_3
                      - source: split_3.out_4
                        target: merge_4.in_4
                      - source: split_5.out_0
                        target: Repeated_t_inv_0_repetition.in_0
                      - source: split_5.out_remainder
                        target: merge_6.in_remainder
                      - source: split_7.out_0
                        target: merge_8.in_0
                      - source: split_7.out_1
                        target: merge_8.in_1
                      - source: split_7.out_2
                        target: merge_8.in_2
                      - source: split_7.out_3
                        target: merge_8.in_3
                      - source: split_7.out_4
                        target: merge_8.in_4
                      - source: split_9.out_0
                        target: Repeated_phase_0_repetition.in_0
                      - source: split_9.out_remainder
                        target: merge_10.in_remainder
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - qubits_alloc_0.M_r
                        - had_0.M_r
                        - merge_0.M_r
                        - split_1.M_r
                        - Repeated_s_inv_0_repetition.M_r
                        - merge_2.M_r
                        - split_3.M_r
                        - merge_4.M_r
                        - split_5.M_r
                        - Repeated_t_inv_0_repetition.M_r
                        - merge_6.M_r
                        - split_7.M_r
                        - merge_8.M_r
                        - split_9.M_r
                        - Repeated_phase_0_repetition.M_r
                        - merge_10.M_r
                        - split_11.M_r
                      - source: N_spatial
                        targets:
                        - qubits_alloc_0.N_spatial
                        - had_0.N_spatial
                        - merge_0.N_spatial
                        - split_1.N_spatial
                        - Repeated_s_inv_0_repetition.N_spatial
                        - merge_2.N_spatial
                        - split_3.N_spatial
                        - merge_4.N_spatial
                        - split_5.N_spatial
                        - Repeated_t_inv_0_repetition.N_spatial
                        - merge_6.N_spatial
                        - split_7.N_spatial
                        - merge_8.N_spatial
                        - split_9.N_spatial
                        - Repeated_phase_0_repetition.N_spatial
                        - merge_10.N_spatial
                        - split_11.N_spatial
                      - source: R
                        targets:
                        - qubits_alloc_0.R
                        - had_0.R
                        - merge_0.R
                        - split_1.R
                        - Repeated_s_inv_0_repetition.R
                        - merge_2.R
                        - split_3.R
                        - merge_4.R
                        - split_5.R
                        - Repeated_t_inv_0_repetition.R
                        - merge_6.R
                        - split_7.R
                        - merge_8.R
                        - split_9.R
                        - Repeated_phase_0_repetition.R
                        - merge_10.R
                        - split_11.R
                      - source: b_as
                        targets:
                        - qubits_alloc_0.b_as
                        - had_0.b_as
                        - merge_0.b_as
                        - split_1.b_as
                        - Repeated_s_inv_0_repetition.b_as
                        - merge_2.b_as
                        - split_3.b_as
                        - merge_4.b_as
                        - split_5.b_as
                        - Repeated_t_inv_0_repetition.b_as
                        - merge_6.b_as
                        - split_7.b_as
                        - merge_8.b_as
                        - split_9.b_as
                        - Repeated_phase_0_repetition.b_as
                        - merge_10.b_as
                        - split_11.b_as
                      - source: b_givens
                        targets:
                        - qubits_alloc_0.b_givens
                        - had_0.b_givens
                        - merge_0.b_givens
                        - split_1.b_givens
                        - Repeated_s_inv_0_repetition.b_givens
                        - merge_2.b_givens
                        - split_3.b_givens
                        - merge_4.b_givens
                        - split_5.b_givens
                        - Repeated_t_inv_0_repetition.b_givens
                        - merge_6.b_givens
                        - split_7.b_givens
                        - merge_8.b_givens
                        - split_9.b_givens
                        - Repeated_phase_0_repetition.b_givens
                        - merge_10.b_givens
                        - split_11.b_givens
                      - source: b_mas
                        targets:
                        - qubits_alloc_0.b_mas
                        - had_0.b_mas
                        - merge_0.b_mas
                        - split_1.b_mas
                        - Repeated_s_inv_0_repetition.b_mas
                        - merge_2.b_mas
                        - split_3.b_mas
                        - merge_4.b_mas
                        - split_5.b_mas
                        - Repeated_t_inv_0_repetition.b_mas
                        - merge_6.b_mas
                        - split_7.b_mas
                        - merge_8.b_mas
                        - split_9.b_mas
                        - Repeated_phase_0_repetition.b_mas
                        - merge_10.b_mas
                        - split_11.b_mas
                      - source: idx
                        targets:
                        - qubits_alloc_0.idx
                        - had_0.idx
                        - merge_0.idx
                        - split_1.idx
                        - Repeated_s_inv_0_repetition.idx
                        - merge_2.idx
                        - split_3.idx
                        - merge_4.idx
                        - split_5.idx
                        - Repeated_t_inv_0_repetition.idx
                        - merge_6.idx
                        - split_7.idx
                        - merge_8.idx
                        - split_9.idx
                        - Repeated_phase_0_repetition.idx
                        - merge_10.idx
                        - split_11.idx
                      local_variables: {}
                      meta: {}
                      name: RotationCatalystStatePrep_compute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: input
                        name: in_2
                        size: null
                      - direction: input
                        name: in_3
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      - direction: output
                        name: out_3
                        size: null
                      - direction: output
                        name: out_4
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_0
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_1
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_3
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens -
                          Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(b_as,
                          b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_2
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_3
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_3
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_4
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_5
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_6
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: cost_event
                        ports: []
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 100*Max(0, b_mas - Max(b_as, b_givens, b_mas)) +
                            100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) + 100*Max(0, b_mas
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + 100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + 100*Max(b_as, b_givens, b_mas) - 56
                        - name: gidney_lelbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: gidney_relbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: local_ancillae
                          type: qubits
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: toffs
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        type: intrinsic_cost
                      connections:
                      - source: in_0
                        target: out_0
                      - source: in_1
                        target: out_1
                      - source: in_2
                        target: out_2
                      - source: in_3
                        target: out_3
                      - source: in_4
                        target: out_4
                      - source: in_5
                        target: out_5
                      - source: in_6
                        target: out_6
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - cost_event.M_r
                      - source: N_spatial
                        targets:
                        - cost_event.N_spatial
                      - source: R
                        targets:
                        - cost_event.R
                      - source: b_as
                        targets:
                        - cost_event.b_as
                      - source: b_givens
                        targets:
                        - cost_event.b_givens
                      - source: b_mas
                        targets:
                        - cost_event.b_mas
                      - source: idx
                        targets:
                        - cost_event.idx
                      local_variables: {}
                      meta: {}
                      name: GidneyAdd_compute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: input
                        name: in_2
                        size: null
                      - direction: input
                        name: in_3
                        size: null
                      - direction: input
                        name: in_4
                        size: null
                      - direction: input
                        name: in_5
                        size: null
                      - direction: input
                        name: in_6
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      - direction: output
                        name: out_3
                        size: null
                      - direction: output
                        name: out_4
                        size: null
                      - direction: output
                        name: out_5
                        size: null
                      - direction: output
                        name: out_6
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_7
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_8
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_2
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_9
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_10
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_11
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_3
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_3
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens -
                          Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(b_as,
                          b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_12
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_3
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_13
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    connections:
                    - source: GidneyAdd_compute_0.out_0
                      target: out_0
                    - source: GidneyAdd_compute_0.out_1
                      target: merge_11.in_3
                    - source: GidneyAdd_compute_0.out_2
                      target: merge_11.in_2
                    - source: GidneyAdd_compute_0.out_3
                      target: merge_11.in_0
                    - source: GidneyAdd_compute_0.out_4
                      target: merge_11.in_1
                    - source: GidneyAdd_compute_0.out_5
                      target: x_3.thru_1
                    - source: GidneyAdd_compute_0.out_6
                      target: merge_7.in_0
                    - source: RotationCatalystStatePrep_compute_0.out_0
                      target: merge_1.in_3
                    - source: RotationCatalystStatePrep_compute_0.out_1
                      target: merge_1.in_2
                    - source: RotationCatalystStatePrep_compute_0.out_2
                      target: merge_1.in_0
                    - source: RotationCatalystStatePrep_compute_0.out_3
                      target: merge_1.in_1
                    - source: RotationCatalystStatePrep_compute_0.out_4
                      target: x_0.thru_1
                    - source: in_0
                      target: GidneyAdd_compute_0.in_0
                    - source: in_1
                      target: RotationCatalystStatePrep_compute_0.in_2
                    - source: in_2
                      target: RotationCatalystStatePrep_compute_0.in_0
                    - source: in_3
                      target: RotationCatalystStatePrep_compute_0.in_3
                    - source: in_4
                      target: RotationCatalystStatePrep_compute_0.in_1
                    - source: in_5
                      target: ppr_0.thru_0
                    - source: merge_1.out_0
                      target: x_0.thru_0
                    - source: merge_11.out_0
                      target: x_3.thru_0
                    - source: merge_13.out_0
                      target: ppr_1.thru_0
                    - source: merge_3.out_0
                      target: split_4.in_0
                    - source: merge_5.out_0
                      target: split_6.in_0
                    - source: merge_7.out_0
                      target: split_8.in_0
                    - source: merge_9.out_0
                      target: split_10.in_0
                    - source: ppr_0.thru_0
                      target: split_0.in_0
                    - source: ppr_1.thru_0
                      target: out_6
                    - source: split_0.out_0
                      target: x_0.thru_2
                    - source: split_0.out_remainder
                      target: merge_3.in_remainder
                    - source: split_10.out_0
                      target: x_3.thru_2
                    - source: split_10.out_remainder
                      target: merge_13.in_remainder
                    - source: split_12.out_0
                      target: out_3
                    - source: split_12.out_1
                      target: out_4
                    - source: split_12.out_2
                      target: out_2
                    - source: split_12.out_3
                      target: out_1
                    - source: split_2.out_0
                      target: GidneyAdd_compute_0.in_3
                    - source: split_2.out_1
                      target: GidneyAdd_compute_0.in_4
                    - source: split_2.out_2
                      target: GidneyAdd_compute_0.in_2
                    - source: split_2.out_3
                      target: GidneyAdd_compute_0.in_1
                    - source: split_4.out_0
                      target: x_1.thru_0
                    - source: split_4.out_1
                      target: x_1.thru_1
                    - source: split_4.out_remainder
                      target: merge_5.in_remainder
                    - source: split_6.out_0
                      target: GidneyAdd_compute_0.in_6
                    - source: split_6.out_remainder
                      target: merge_7.in_remainder
                    - source: split_8.out_0
                      target: x_2.thru_0
                    - source: split_8.out_1
                      target: x_2.thru_1
                    - source: split_8.out_remainder
                      target: merge_9.in_remainder
                    - source: x_0.thru_0
                      target: split_2.in_0
                    - source: x_0.thru_1
                      target: GidneyAdd_compute_0.in_5
                    - source: x_0.thru_2
                      target: merge_3.in_0
                    - source: x_1.thru_0
                      target: merge_5.in_0
                    - source: x_1.thru_1
                      target: merge_5.in_1
                    - source: x_2.thru_0
                      target: merge_9.in_0
                    - source: x_2.thru_1
                      target: merge_9.in_1
                    - source: x_3.thru_0
                      target: split_12.in_0
                    - source: x_3.thru_1
                      target: out_5
                    - source: x_3.thru_2
                      target: merge_13.in_0
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params:
                    - source: M_r
                      targets:
                      - RotationCatalystStatePrep_compute_0.M_r
                      - ppr_0.M_r
                      - split_0.M_r
                      - merge_1.M_r
                      - x_0.M_r
                      - split_2.M_r
                      - merge_3.M_r
                      - split_4.M_r
                      - x_1.M_r
                      - merge_5.M_r
                      - split_6.M_r
                      - GidneyAdd_compute_0.M_r
                      - merge_7.M_r
                      - split_8.M_r
                      - x_2.M_r
                      - merge_9.M_r
                      - split_10.M_r
                      - merge_11.M_r
                      - x_3.M_r
                      - split_12.M_r
                      - merge_13.M_r
                      - ppr_1.M_r
                    - source: N_spatial
                      targets:
                      - RotationCatalystStatePrep_compute_0.N_spatial
                      - ppr_0.N_spatial
                      - split_0.N_spatial
                      - merge_1.N_spatial
                      - x_0.N_spatial
                      - split_2.N_spatial
                      - merge_3.N_spatial
                      - split_4.N_spatial
                      - x_1.N_spatial
                      - merge_5.N_spatial
                      - split_6.N_spatial
                      - GidneyAdd_compute_0.N_spatial
                      - merge_7.N_spatial
                      - split_8.N_spatial
                      - x_2.N_spatial
                      - merge_9.N_spatial
                      - split_10.N_spatial
                      - merge_11.N_spatial
                      - x_3.N_spatial
                      - split_12.N_spatial
                      - merge_13.N_spatial
                      - ppr_1.N_spatial
                    - source: R
                      targets:
                      - RotationCatalystStatePrep_compute_0.R
                      - ppr_0.R
                      - split_0.R
                      - merge_1.R
                      - x_0.R
                      - split_2.R
                      - merge_3.R
                      - split_4.R
                      - x_1.R
                      - merge_5.R
                      - split_6.R
                      - GidneyAdd_compute_0.R
                      - merge_7.R
                      - split_8.R
                      - x_2.R
                      - merge_9.R
                      - split_10.R
                      - merge_11.R
                      - x_3.R
                      - split_12.R
                      - merge_13.R
                      - ppr_1.R
                    - source: b_as
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_as
                      - ppr_0.b_as
                      - split_0.b_as
                      - merge_1.b_as
                      - x_0.b_as
                      - split_2.b_as
                      - merge_3.b_as
                      - split_4.b_as
                      - x_1.b_as
                      - merge_5.b_as
                      - split_6.b_as
                      - GidneyAdd_compute_0.b_as
                      - merge_7.b_as
                      - split_8.b_as
                      - x_2.b_as
                      - merge_9.b_as
                      - split_10.b_as
                      - merge_11.b_as
                      - x_3.b_as
                      - split_12.b_as
                      - merge_13.b_as
                      - ppr_1.b_as
                    - source: b_givens
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_givens
                      - ppr_0.b_givens
                      - split_0.b_givens
                      - merge_1.b_givens
                      - x_0.b_givens
                      - split_2.b_givens
                      - merge_3.b_givens
                      - split_4.b_givens
                      - x_1.b_givens
                      - merge_5.b_givens
                      - split_6.b_givens
                      - GidneyAdd_compute_0.b_givens
                      - merge_7.b_givens
                      - split_8.b_givens
                      - x_2.b_givens
                      - merge_9.b_givens
                      - split_10.b_givens
                      - merge_11.b_givens
                      - x_3.b_givens
                      - split_12.b_givens
                      - merge_13.b_givens
                      - ppr_1.b_givens
                    - source: b_mas
                      targets:
                      - RotationCatalystStatePrep_compute_0.b_mas
                      - ppr_0.b_mas
                      - split_0.b_mas
                      - merge_1.b_mas
                      - x_0.b_mas
                      - split_2.b_mas
                      - merge_3.b_mas
                      - split_4.b_mas
                      - x_1.b_mas
                      - merge_5.b_mas
                      - split_6.b_mas
                      - GidneyAdd_compute_0.b_mas
                      - merge_7.b_mas
                      - split_8.b_mas
                      - x_2.b_mas
                      - merge_9.b_mas
                      - split_10.b_mas
                      - merge_11.b_mas
                      - x_3.b_mas
                      - split_12.b_mas
                      - merge_13.b_mas
                      - ppr_1.b_mas
                    - source: idx
                      targets:
                      - RotationCatalystStatePrep_compute_0.idx
                      - ppr_0.idx
                      - split_0.idx
                      - merge_1.idx
                      - x_0.idx
                      - split_2.idx
                      - merge_3.idx
                      - split_4.idx
                      - x_1.idx
                      - merge_5.idx
                      - split_6.idx
                      - GidneyAdd_compute_0.idx
                      - merge_7.idx
                      - split_8.idx
                      - x_2.idx
                      - merge_9.idx
                      - split_10.idx
                      - merge_11.idx
                      - x_3.idx
                      - split_12.idx
                      - merge_13.idx
                      - ppr_1.idx
                    local_variables: {}
                    meta: {}
                    name: GivensRotationFusedAdder_compute_0
                    ports:
                    - direction: input
                      name: in_0
                      size: null
                    - direction: input
                      name: in_1
                      size: null
                    - direction: input
                      name: in_2
                      size: null
                    - direction: input
                      name: in_3
                      size: null
                    - direction: input
                      name: in_4
                      size: null
                    - direction: input
                      name: in_5
                      size: null
                    - direction: output
                      name: out_0
                      size: null
                    - direction: output
                      name: out_1
                      size: null
                    - direction: output
                      name: out_2
                      size: null
                    - direction: output
                      name: out_3
                      size: null
                    - direction: output
                      name: out_4
                      size: null
                    - direction: output
                      name: out_5
                      size: null
                    - direction: output
                      name: out_6
                      size: null
                    repetition: null
                    resources: []
                    type: qubrick
                  connections:
                  - source: GivensRotationFusedAdder_compute_0.out_0
                    target: out_0
                  - source: GivensRotationFusedAdder_compute_0.out_1
                    target: out_1
                  - source: GivensRotationFusedAdder_compute_0.out_2
                    target: out_2
                  - source: GivensRotationFusedAdder_compute_0.out_3
                    target: out_3
                  - source: GivensRotationFusedAdder_compute_0.out_4
                    target: out_4
                  - source: GivensRotationFusedAdder_compute_0.out_5
                    target: out_5
                  - source: GivensRotationFusedAdder_compute_0.out_6
                    target: out_6
                  - source: in_0
                    target: GivensRotationFusedAdder_compute_0.in_0
                  - source: in_1
                    target: GivensRotationFusedAdder_compute_0.in_1
                  - source: in_2
                    target: GivensRotationFusedAdder_compute_0.in_2
                  - source: in_3
                    target: GivensRotationFusedAdder_compute_0.in_3
                  - source: in_4
                    target: GivensRotationFusedAdder_compute_0.in_4
                  - source: in_5
                    target: GivensRotationFusedAdder_compute_0.in_5
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - GivensRotationFusedAdder_compute_0.M_r
                  - source: N_spatial
                    targets:
                    - GivensRotationFusedAdder_compute_0.N_spatial
                  - source: R
                    targets:
                    - GivensRotationFusedAdder_compute_0.R
                  - source: b_as
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_as
                  - source: b_givens
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_givens
                  - source: b_mas
                    targets:
                    - GivensRotationFusedAdder_compute_0.b_mas
                  - source: idx
                    targets:
                    - GivensRotationFusedAdder_compute_0.idx
                  local_variables: {}
                  meta: {}
                  name: GivensRotationFusedAdder_compute_0_repetition
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: input
                    name: in_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_3
                    size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_4
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_5
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: output
                    name: out_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_3
                    size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_4
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_5
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_6
                    size: Mod(2, N_spatial)
                  repetition:
                    count: N_spatial - 1
                    sequence:
                      multiplier: 1
                      type: constant
                  resources: []
                  type: qubrick
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: Mod(2, N_spatial)
                  - direction: input
                    name: in_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  - direction: output
                    name: out_0
                    size: N_spatial
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  - direction: output
                    name: out_0
                    size: b_givens*(N_spatial - 1)
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: GivensRotationFusedAdder_compute_0_repetition.out_0
                  target: merge_3.in_0
                - source: GivensRotationFusedAdder_compute_0_repetition.out_1
                  target: out_1
                - source: GivensRotationFusedAdder_compute_0_repetition.out_2
                  target: out_2
                - source: GivensRotationFusedAdder_compute_0_repetition.out_3
                  target: out_3
                - source: GivensRotationFusedAdder_compute_0_repetition.out_4
                  target: out_4
                - source: GivensRotationFusedAdder_compute_0_repetition.out_5
                  target: out_5
                - source: GivensRotationFusedAdder_compute_0_repetition.out_6
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: GivensRotationFusedAdder_compute_0_repetition.in_1
                - source: in_2
                  target: GivensRotationFusedAdder_compute_0_repetition.in_2
                - source: in_3
                  target: GivensRotationFusedAdder_compute_0_repetition.in_3
                - source: in_4
                  target: GivensRotationFusedAdder_compute_0_repetition.in_4
                - source: in_5
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_6
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: GivensRotationFusedAdder_compute_0_repetition.in_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: GivensRotationFusedAdder_compute_0_repetition.in_5
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - GivensRotationFusedAdder_compute_0_repetition.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - GivensRotationFusedAdder_compute_0_repetition.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - GivensRotationFusedAdder_compute_0_repetition.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - GivensRotationFusedAdder_compute_0_repetition.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - GivensRotationFusedAdder_compute_0_repetition.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - GivensRotationFusedAdder_compute_0_repetition.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - GivensRotationFusedAdder_compute_0_repetition.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: GivensRotationBasisChangeDF_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: input
                  name: in_3
                  size: null
                - direction: input
                  name: in_4
                  size: null
                - direction: input
                  name: in_5
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                - direction: output
                  name: out_3
                  size: null
                - direction: output
                  name: out_4
                  size: null
                - direction: output
                  name: out_5
                  size: null
                - direction: output
                  name: out_6
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: N_spatial
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: N_spatial-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: z_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: z
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: N_spatial-(1)
                - direction: output
                  name: out_0
                  size: N_spatial
                repetition: null
                resources: []
                type: merge
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens*(N_spatial - 1)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: N_spatial
                  - direction: output
                    name: out_0
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  repetition: null
                  resources: []
                  type: split
                - children:
                  - children:
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_0
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_1
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_3
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens -
                          Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(b_as,
                          b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_2
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_3
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_3
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_4
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_5
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_6
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children:
                      - children: []
                        connections: []
                        input_params:
                        - b_mas
                        - M_r
                        - N_spatial
                        - idx
                        - R
                        - b_givens
                        - b_as
                        linked_params: []
                        local_variables: {}
                        meta: {}
                        name: cost_event
                        ports: []
                        repetition: null
                        resources:
                        - name: active_volume
                          type: additive
                          value: 100*Max(0, b_mas - Max(b_as, b_givens, b_mas)) +
                            100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) + 100*Max(0, b_mas
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                            + 100*Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + 100*Max(b_as, b_givens, b_mas) - 56
                        - name: gidney_lelbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: gidney_relbows
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: local_ancillae
                          type: qubits
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas) - 1
                        - name: toffs
                          type: additive
                          value: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0,
                            b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(0,
                            b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                            - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                            b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas -
                            Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                            - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                            b_givens, b_mas)) + Max(b_as, b_givens, b_mas)
                        type: intrinsic_cost
                      connections:
                      - source: in_0
                        target: out_0
                      - source: in_1
                        target: out_1
                      - source: in_2
                        target: out_2
                      - source: in_3
                        target: out_3
                      - source: in_4
                        target: out_4
                      - source: in_5
                        target: out_5
                      - source: in_6
                        target: out_6
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params:
                      - source: M_r
                        targets:
                        - cost_event.M_r
                      - source: N_spatial
                        targets:
                        - cost_event.N_spatial
                      - source: R
                        targets:
                        - cost_event.R
                      - source: b_as
                        targets:
                        - cost_event.b_as
                      - source: b_givens
                        targets:
                        - cost_event.b_givens
                      - source: b_mas
                        targets:
                        - cost_event.b_mas
                      - source: idx
                        targets:
                        - cost_event.idx
                      local_variables: {}
                      meta: {}
                      name: GidneyAdd_uncompute_0
                      ports:
                      - direction: input
                        name: in_0
                        size: null
                      - direction: input
                        name: in_1
                        size: null
                      - direction: input
                        name: in_2
                        size: null
                      - direction: input
                        name: in_3
                        size: null
                      - direction: input
                        name: in_4
                        size: null
                      - direction: input
                        name: in_5
                        size: null
                      - direction: input
                        name: in_6
                        size: null
                      - direction: output
                        name: out_0
                        size: null
                      - direction: output
                        name: out_1
                        size: null
                      - direction: output
                        name: out_2
                        size: null
                      - direction: output
                        name: out_3
                        size: null
                      - direction: output
                        name: out_4
                        size: null
                      - direction: output
                        name: out_5
                        size: null
                      - direction: output
                        name: out_6
                        size: null
                      repetition: null
                      resources: []
                      type: qubrick
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_7
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_8
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_1
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_2
                      ports:
                      - direction: through
                        name: thru_0
                        size: '1'
                      - direction: through
                        name: thru_1
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '4'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_9
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_1
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_10
                      ports:
                      - direction: input
                        name: in_0
                        size: Mod(2, N_spatial)
                      - direction: output
                        name: out_0
                        size: '1'
                      - direction: output
                        name: out_remainder
                        size: Mod(2, N_spatial)-(1)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_11
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: input
                        name: in_3
                        size: Max(b_as, b_givens, b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: x_3
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens -
                          Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas))
                      - direction: through
                        name: thru_2
                        size: '1'
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: 4*Max(0, b_mas - Max(b_as, b_givens, b_mas)) + 4*Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + 4*Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens
                          - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as,
                          b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + 4*Max(b_as,
                          b_givens, b_mas)
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '0'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '0'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: x
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: split_12
                      ports:
                      - direction: input
                        name: in_0
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0,
                          b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                          Max(b_as, b_givens, b_mas)) + Max(0, b_mas - Max(0, b_mas
                          - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as, b_givens,
                          b_mas)
                      - direction: output
                        name: out_0
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_1
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_2
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: output
                        name: out_3
                        size: Max(b_as, b_givens, b_mas)
                      repetition: null
                      resources: []
                      type: split
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: merge_13
                      ports:
                      - direction: input
                        name: in_0
                        size: '1'
                      - direction: input
                        name: in_remainder
                        size: Mod(2, N_spatial)-(1)
                      - direction: output
                        name: out_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources: []
                      type: merge
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: ppr_1
                      ports:
                      - direction: through
                        name: thru_0
                        size: Mod(2, N_spatial)
                      repetition: null
                      resources:
                      - name: active_volume
                        type: additive
                        value: '0'
                      - name: gidney_lelbows
                        type: additive
                        value: '0'
                      - name: gidney_relbows
                        type: additive
                        value: '0'
                      - name: measurements
                        type: additive
                        value: '0'
                      - name: ppm_x_weight
                        type: other
                        value: '0'
                      - name: ppm_z_weight
                        type: other
                        value: '0'
                      - name: ppms
                        type: additive
                        value: '0'
                      - name: ppr_x_weight
                        type: other
                        value: '3'
                      - name: ppr_z_weight
                        type: other
                        value: '0'
                      - name: pprs
                        type: additive
                        value: '1'
                      - name: rotations
                        type: additive
                        value: '0'
                      - name: t_gates
                        type: additive
                        value: '0'
                      - name: toffs
                        type: additive
                        value: '0'
                      type: ppr
                    - children: []
                      connections: []
                      input_params:
                      - b_mas
                      - M_r
                      - N_spatial
                      - idx
                      - R
                      - b_givens
                      - b_as
                      linked_params: []
                      local_variables: {}
                      meta: {}
                      name: RotationCatalystStatePrep_uncompute_0
                      ports:
                      - direction: through
                        name: thru_0
                        size: Max(b_as, b_givens, b_mas)
                      - direction: through
                        name: thru_1
                        size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_2
                        size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                          - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_3
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas))
                      - direction: through
                        name: thru_4
                        size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0,
                          b_mas - Max(b_as, b_givens, b_mas)) - Max(0, b_givens -
                          Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas)) - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                          b_mas))
                      repetition: null
                      resources: []
                      type: qubrick
                    connections:
                    - source: GidneyAdd_uncompute_0.out_0
                      target: out_0
                    - source: GidneyAdd_uncompute_0.out_1
                      target: merge_11.in_3
                    - source: GidneyAdd_uncompute_0.out_2
                      target: merge_11.in_2
                    - source: GidneyAdd_uncompute_0.out_3
                      target: merge_11.in_0
                    - source: GidneyAdd_uncompute_0.out_4
                      target: merge_11.in_1
                    - source: GidneyAdd_uncompute_0.out_5
                      target: x_3.thru_1
                    - source: GidneyAdd_uncompute_0.out_6
                      target: merge_7.in_0
                    - source: RotationCatalystStatePrep_uncompute_0.thru_0
                      target: out_1
                    - source: RotationCatalystStatePrep_uncompute_0.thru_1
                      target: out_2
                    - source: RotationCatalystStatePrep_uncompute_0.thru_2
                      target: out_3
                    - source: RotationCatalystStatePrep_uncompute_0.thru_3
                      target: out_4
                    - source: RotationCatalystStatePrep_uncompute_0.thru_4
                      target: out_5
                    - source: in_0
                      target: GidneyAdd_uncompute_0.in_0
                    - source: in_1
                      target: merge_1.in_3
                    - source: in_2
                      target: merge_1.in_2
                    - source: in_3
                      target: merge_1.in_0
                    - source: in_4
                      target: merge_1.in_1
                    - source: in_5
                      target: x_0.thru_1
                    - source: in_6
                      target: ppr_0.thru_0
                    - source: merge_1.out_0
                      target: x_0.thru_0
                    - source: merge_11.out_0
                      target: x_3.thru_0
                    - source: merge_13.out_0
                      target: ppr_1.thru_0
                    - source: merge_3.out_0
                      target: split_4.in_0
                    - source: merge_5.out_0
                      target: split_6.in_0
                    - source: merge_7.out_0
                      target: split_8.in_0
                    - source: merge_9.out_0
                      target: split_10.in_0
                    - source: ppr_0.thru_0
                      target: split_0.in_0
                    - source: ppr_1.thru_0
                      target: out_6
                    - source: split_0.out_0
                      target: x_0.thru_2
                    - source: split_0.out_remainder
                      target: merge_3.in_remainder
                    - source: split_10.out_0
                      target: x_3.thru_2
                    - source: split_10.out_remainder
                      target: merge_13.in_remainder
                    - source: split_12.out_0
                      target: RotationCatalystStatePrep_uncompute_0.thru_2
                    - source: split_12.out_1
                      target: RotationCatalystStatePrep_uncompute_0.thru_3
                    - source: split_12.out_2
                      target: RotationCatalystStatePrep_uncompute_0.thru_1
                    - source: split_12.out_3
                      target: RotationCatalystStatePrep_uncompute_0.thru_0
                    - source: split_2.out_0
                      target: GidneyAdd_uncompute_0.in_3
                    - source: split_2.out_1
                      target: GidneyAdd_uncompute_0.in_4
                    - source: split_2.out_2
                      target: GidneyAdd_uncompute_0.in_2
                    - source: split_2.out_3
                      target: GidneyAdd_uncompute_0.in_1
                    - source: split_4.out_0
                      target: x_1.thru_0
                    - source: split_4.out_1
                      target: x_1.thru_1
                    - source: split_4.out_remainder
                      target: merge_5.in_remainder
                    - source: split_6.out_0
                      target: GidneyAdd_uncompute_0.in_6
                    - source: split_6.out_remainder
                      target: merge_7.in_remainder
                    - source: split_8.out_0
                      target: x_2.thru_0
                    - source: split_8.out_1
                      target: x_2.thru_1
                    - source: split_8.out_remainder
                      target: merge_9.in_remainder
                    - source: x_0.thru_0
                      target: split_2.in_0
                    - source: x_0.thru_1
                      target: GidneyAdd_uncompute_0.in_5
                    - source: x_0.thru_2
                      target: merge_3.in_0
                    - source: x_1.thru_0
                      target: merge_5.in_0
                    - source: x_1.thru_1
                      target: merge_5.in_1
                    - source: x_2.thru_0
                      target: merge_9.in_0
                    - source: x_2.thru_1
                      target: merge_9.in_1
                    - source: x_3.thru_0
                      target: split_12.in_0
                    - source: x_3.thru_1
                      target: RotationCatalystStatePrep_uncompute_0.thru_4
                    - source: x_3.thru_2
                      target: merge_13.in_0
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params:
                    - source: M_r
                      targets:
                      - ppr_0.M_r
                      - split_0.M_r
                      - merge_1.M_r
                      - x_0.M_r
                      - split_2.M_r
                      - merge_3.M_r
                      - split_4.M_r
                      - x_1.M_r
                      - merge_5.M_r
                      - split_6.M_r
                      - GidneyAdd_uncompute_0.M_r
                      - merge_7.M_r
                      - split_8.M_r
                      - x_2.M_r
                      - merge_9.M_r
                      - split_10.M_r
                      - merge_11.M_r
                      - x_3.M_r
                      - split_12.M_r
                      - merge_13.M_r
                      - ppr_1.M_r
                      - RotationCatalystStatePrep_uncompute_0.M_r
                    - source: N_spatial
                      targets:
                      - ppr_0.N_spatial
                      - split_0.N_spatial
                      - merge_1.N_spatial
                      - x_0.N_spatial
                      - split_2.N_spatial
                      - merge_3.N_spatial
                      - split_4.N_spatial
                      - x_1.N_spatial
                      - merge_5.N_spatial
                      - split_6.N_spatial
                      - GidneyAdd_uncompute_0.N_spatial
                      - merge_7.N_spatial
                      - split_8.N_spatial
                      - x_2.N_spatial
                      - merge_9.N_spatial
                      - split_10.N_spatial
                      - merge_11.N_spatial
                      - x_3.N_spatial
                      - split_12.N_spatial
                      - merge_13.N_spatial
                      - ppr_1.N_spatial
                      - RotationCatalystStatePrep_uncompute_0.N_spatial
                    - source: R
                      targets:
                      - ppr_0.R
                      - split_0.R
                      - merge_1.R
                      - x_0.R
                      - split_2.R
                      - merge_3.R
                      - split_4.R
                      - x_1.R
                      - merge_5.R
                      - split_6.R
                      - GidneyAdd_uncompute_0.R
                      - merge_7.R
                      - split_8.R
                      - x_2.R
                      - merge_9.R
                      - split_10.R
                      - merge_11.R
                      - x_3.R
                      - split_12.R
                      - merge_13.R
                      - ppr_1.R
                      - RotationCatalystStatePrep_uncompute_0.R
                    - source: b_as
                      targets:
                      - ppr_0.b_as
                      - split_0.b_as
                      - merge_1.b_as
                      - x_0.b_as
                      - split_2.b_as
                      - merge_3.b_as
                      - split_4.b_as
                      - x_1.b_as
                      - merge_5.b_as
                      - split_6.b_as
                      - GidneyAdd_uncompute_0.b_as
                      - merge_7.b_as
                      - split_8.b_as
                      - x_2.b_as
                      - merge_9.b_as
                      - split_10.b_as
                      - merge_11.b_as
                      - x_3.b_as
                      - split_12.b_as
                      - merge_13.b_as
                      - ppr_1.b_as
                      - RotationCatalystStatePrep_uncompute_0.b_as
                    - source: b_givens
                      targets:
                      - ppr_0.b_givens
                      - split_0.b_givens
                      - merge_1.b_givens
                      - x_0.b_givens
                      - split_2.b_givens
                      - merge_3.b_givens
                      - split_4.b_givens
                      - x_1.b_givens
                      - merge_5.b_givens
                      - split_6.b_givens
                      - GidneyAdd_uncompute_0.b_givens
                      - merge_7.b_givens
                      - split_8.b_givens
                      - x_2.b_givens
                      - merge_9.b_givens
                      - split_10.b_givens
                      - merge_11.b_givens
                      - x_3.b_givens
                      - split_12.b_givens
                      - merge_13.b_givens
                      - ppr_1.b_givens
                      - RotationCatalystStatePrep_uncompute_0.b_givens
                    - source: b_mas
                      targets:
                      - ppr_0.b_mas
                      - split_0.b_mas
                      - merge_1.b_mas
                      - x_0.b_mas
                      - split_2.b_mas
                      - merge_3.b_mas
                      - split_4.b_mas
                      - x_1.b_mas
                      - merge_5.b_mas
                      - split_6.b_mas
                      - GidneyAdd_uncompute_0.b_mas
                      - merge_7.b_mas
                      - split_8.b_mas
                      - x_2.b_mas
                      - merge_9.b_mas
                      - split_10.b_mas
                      - merge_11.b_mas
                      - x_3.b_mas
                      - split_12.b_mas
                      - merge_13.b_mas
                      - ppr_1.b_mas
                      - RotationCatalystStatePrep_uncompute_0.b_mas
                    - source: idx
                      targets:
                      - ppr_0.idx
                      - split_0.idx
                      - merge_1.idx
                      - x_0.idx
                      - split_2.idx
                      - merge_3.idx
                      - split_4.idx
                      - x_1.idx
                      - merge_5.idx
                      - split_6.idx
                      - GidneyAdd_uncompute_0.idx
                      - merge_7.idx
                      - split_8.idx
                      - x_2.idx
                      - merge_9.idx
                      - split_10.idx
                      - merge_11.idx
                      - x_3.idx
                      - split_12.idx
                      - merge_13.idx
                      - ppr_1.idx
                      - RotationCatalystStatePrep_uncompute_0.idx
                    local_variables: {}
                    meta: {}
                    name: GivensRotationFusedAdder_uncompute_0
                    ports:
                    - direction: input
                      name: in_0
                      size: null
                    - direction: input
                      name: in_1
                      size: null
                    - direction: input
                      name: in_2
                      size: null
                    - direction: input
                      name: in_3
                      size: null
                    - direction: input
                      name: in_4
                      size: null
                    - direction: input
                      name: in_5
                      size: null
                    - direction: input
                      name: in_6
                      size: null
                    - direction: output
                      name: out_0
                      size: null
                    - direction: output
                      name: out_1
                      size: null
                    - direction: output
                      name: out_2
                      size: null
                    - direction: output
                      name: out_3
                      size: null
                    - direction: output
                      name: out_4
                      size: null
                    - direction: output
                      name: out_5
                      size: null
                    - direction: output
                      name: out_6
                      size: null
                    repetition: null
                    resources: []
                    type: qubrick
                  connections:
                  - source: GivensRotationFusedAdder_uncompute_0.out_0
                    target: out_0
                  - source: GivensRotationFusedAdder_uncompute_0.out_1
                    target: out_1
                  - source: GivensRotationFusedAdder_uncompute_0.out_2
                    target: out_2
                  - source: GivensRotationFusedAdder_uncompute_0.out_3
                    target: out_3
                  - source: GivensRotationFusedAdder_uncompute_0.out_4
                    target: out_4
                  - source: GivensRotationFusedAdder_uncompute_0.out_5
                    target: out_5
                  - source: GivensRotationFusedAdder_uncompute_0.out_6
                    target: out_6
                  - source: in_0
                    target: GivensRotationFusedAdder_uncompute_0.in_0
                  - source: in_1
                    target: GivensRotationFusedAdder_uncompute_0.in_1
                  - source: in_2
                    target: GivensRotationFusedAdder_uncompute_0.in_2
                  - source: in_3
                    target: GivensRotationFusedAdder_uncompute_0.in_3
                  - source: in_4
                    target: GivensRotationFusedAdder_uncompute_0.in_4
                  - source: in_5
                    target: GivensRotationFusedAdder_uncompute_0.in_5
                  - source: in_6
                    target: GivensRotationFusedAdder_uncompute_0.in_6
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.M_r
                  - source: N_spatial
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.N_spatial
                  - source: R
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.R
                  - source: b_as
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_as
                  - source: b_givens
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_givens
                  - source: b_mas
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.b_mas
                  - source: idx
                    targets:
                    - GivensRotationFusedAdder_uncompute_0.idx
                  local_variables: {}
                  meta: {}
                  name: GivensRotationFusedAdder_uncompute_0_repetition
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: input
                    name: in_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_3
                    size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_4
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_5
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: input
                    name: in_6
                    size: Mod(2, N_spatial)
                  - direction: output
                    name: out_0
                    size: b_givens
                  - direction: output
                    name: out_1
                    size: Max(b_as, b_givens, b_mas)
                  - direction: output
                    name: out_2
                    size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_3
                    size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_4
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_5
                    size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_mas - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(0, b_givens - Max(0, b_mas
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                      - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
                  - direction: output
                    name: out_6
                    size: Mod(2, N_spatial)
                  repetition:
                    count: N_spatial - 1
                    sequence:
                      multiplier: 1
                      type: constant
                  resources: []
                  type: qubrick
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: Mod(2, N_spatial)
                  - direction: input
                    name: in_remainder
                    size: N_spatial-(Mod(2, N_spatial))
                  - direction: output
                    name: out_0
                    size: N_spatial
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: b_givens
                  - direction: input
                    name: in_remainder
                    size: b_givens*(N_spatial - 1)-(b_givens)
                  - direction: output
                    name: out_0
                    size: b_givens*(N_spatial - 1)
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_0
                  target: merge_3.in_0
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_1
                  target: out_1
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_2
                  target: out_2
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_3
                  target: out_3
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_4
                  target: out_4
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_5
                  target: out_5
                - source: GivensRotationFusedAdder_uncompute_0_repetition.out_6
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_1
                - source: in_2
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_2
                - source: in_3
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_3
                - source: in_4
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_4
                - source: in_5
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_5
                - source: in_6
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_6
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: GivensRotationFusedAdder_uncompute_0_repetition.in_6
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - GivensRotationFusedAdder_uncompute_0_repetition.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - GivensRotationFusedAdder_uncompute_0_repetition.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - GivensRotationFusedAdder_uncompute_0_repetition.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - GivensRotationFusedAdder_uncompute_0_repetition.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - GivensRotationFusedAdder_uncompute_0_repetition.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: GivensRotationBasisChangeDF_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: input
                  name: in_2
                  size: null
                - direction: input
                  name: in_3
                  size: null
                - direction: input
                  name: in_4
                  size: null
                - direction: input
                  name: in_5
                  size: null
                - direction: input
                  name: in_6
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                - direction: output
                  name: out_2
                  size: null
                - direction: output
                  name: out_3
                  size: null
                - direction: output
                  name: out_4
                  size: null
                - direction: output
                  name: out_5
                  size: null
                - direction: output
                  name: out_6
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: GivensRotationBasisChangeDF_compute_0.out_0
                target: GivensRotationBasisChangeDF_uncompute_0.in_0
              - source: GivensRotationBasisChangeDF_compute_0.out_1
                target: GivensRotationBasisChangeDF_uncompute_0.in_1
              - source: GivensRotationBasisChangeDF_compute_0.out_2
                target: GivensRotationBasisChangeDF_uncompute_0.in_2
              - source: GivensRotationBasisChangeDF_compute_0.out_3
                target: GivensRotationBasisChangeDF_uncompute_0.in_3
              - source: GivensRotationBasisChangeDF_compute_0.out_4
                target: GivensRotationBasisChangeDF_uncompute_0.in_4
              - source: GivensRotationBasisChangeDF_compute_0.out_5
                target: GivensRotationBasisChangeDF_uncompute_0.in_5
              - source: GivensRotationBasisChangeDF_compute_0.out_6
                target: split_0.in_0
              - source: GivensRotationBasisChangeDF_uncompute_0.out_0
                target: out_0
              - source: GivensRotationBasisChangeDF_uncompute_0.out_1
                target: out_2
              - source: GivensRotationBasisChangeDF_uncompute_0.out_2
                target: out_3
              - source: GivensRotationBasisChangeDF_uncompute_0.out_3
                target: out_4
              - source: GivensRotationBasisChangeDF_uncompute_0.out_4
                target: out_5
              - source: GivensRotationBasisChangeDF_uncompute_0.out_5
                target: out_6
              - source: GivensRotationBasisChangeDF_uncompute_0.out_6
                target: out_7
              - source: in_0
                target: GivensRotationBasisChangeDF_compute_0.in_0
              - source: in_1
                target: z_0.thru_0
              - source: in_2
                target: GivensRotationBasisChangeDF_compute_0.in_1
              - source: in_3
                target: GivensRotationBasisChangeDF_compute_0.in_2
              - source: in_4
                target: GivensRotationBasisChangeDF_compute_0.in_3
              - source: in_5
                target: GivensRotationBasisChangeDF_compute_0.in_4
              - source: in_6
                target: GivensRotationBasisChangeDF_compute_0.in_5
              - source: merge_1.out_0
                target: GivensRotationBasisChangeDF_uncompute_0.in_6
              - source: split_0.out_0
                target: z_0.thru_1
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: z_0.thru_0
                target: out_1
              - source: z_0.thru_1
                target: merge_1.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - GivensRotationBasisChangeDF_compute_0.M_r
                - split_0.M_r
                - z_0.M_r
                - merge_1.M_r
                - GivensRotationBasisChangeDF_uncompute_0.M_r
              - source: N_spatial
                targets:
                - GivensRotationBasisChangeDF_compute_0.N_spatial
                - split_0.N_spatial
                - z_0.N_spatial
                - merge_1.N_spatial
                - GivensRotationBasisChangeDF_uncompute_0.N_spatial
              - source: R
                targets:
                - GivensRotationBasisChangeDF_compute_0.R
                - split_0.R
                - z_0.R
                - merge_1.R
                - GivensRotationBasisChangeDF_uncompute_0.R
              - source: b_as
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_as
                - split_0.b_as
                - z_0.b_as
                - merge_1.b_as
                - GivensRotationBasisChangeDF_uncompute_0.b_as
              - source: b_givens
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_givens
                - split_0.b_givens
                - z_0.b_givens
                - merge_1.b_givens
                - GivensRotationBasisChangeDF_uncompute_0.b_givens
              - source: b_mas
                targets:
                - GivensRotationBasisChangeDF_compute_0.b_mas
                - split_0.b_mas
                - z_0.b_mas
                - merge_1.b_mas
                - GivensRotationBasisChangeDF_uncompute_0.b_mas
              - source: idx
                targets:
                - GivensRotationBasisChangeDF_compute_0.idx
                - split_0.idx
                - z_0.idx
                - merge_1.idx
                - GivensRotationBasisChangeDF_uncompute_0.idx
              local_variables: {}
              meta: {}
              name: ApplyMajoranaFermionOperatorDF_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: input
                name: in_3
                size: null
              - direction: input
                name: in_4
                size: null
              - direction: input
                name: in_5
                size: null
              - direction: input
                name: in_6
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              - direction: output
                name: out_3
                size: null
              - direction: output
                name: out_4
                size: null
              - direction: output
                name: out_5
                size: null
              - direction: output
                name: out_6
                size: null
              - direction: output
                name: out_7
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_givens*(N_spatial - 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_givens*(N_spatial - 1)
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_givens*(N_spatial - 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_lelbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_1
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*calc_lambda(M_r*R, 1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_2
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_relbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_12
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_13
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_14
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_1
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_15
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_1
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: BinaryToUnaryUncomputation_compute_0.out_0
                target: merge_4.in_0
              - source: BinaryToUnaryUncomputation_compute_0.out_1
                target: had_1.thru_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_0
                target: merge_12.in_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_1
                target: split_14.in_0
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_8.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: had_2.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: had_1.thru_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: had_2.thru_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_1
              - source: in_0
                target: merge_2.in_1
              - source: in_1
                target: had_0.thru_0
              - source: in_2
                target: merge_2.in_0
              - source: merge_1.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_1
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_12.out_0
                target: split_13.in_0
              - source: merge_15.out_0
                target: qubits_free_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: split_0.in_0
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_0.out_0
                target: x_0.thru_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_11.out_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_0
              - source: split_11.out_remainder
                target: merge_12.in_remainder
              - source: split_13.out_0
                target: out_1
              - source: split_13.out_1
                target: out_0
              - source: split_14.out_0
                target: x_1.thru_0
              - source: split_14.out_remainder
                target: merge_15.in_remainder
              - source: split_3.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_0
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_5.out_0
                target: merge_6.in_0
              - source: split_5.out_1
                target: merge_6.in_1
              - source: split_7.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: split_9.out_0
                target: merge_10.in_0
              - source: split_9.out_1
                target: merge_10.in_1
              - source: x_0.thru_0
                target: merge_1.in_0
              - source: x_1.thru_0
                target: merge_15.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
                - qubits_alloc_0.M_r
                - split_0.M_r
                - x_0.M_r
                - merge_1.M_r
                - merge_2.M_r
                - split_3.M_r
                - BinaryToUnaryUncomputation_compute_0.M_r
                - merge_4.M_r
                - split_5.M_r
                - had_1.M_r
                - merge_6.M_r
                - split_7.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_8.M_r
                - split_9.M_r
                - had_2.M_r
                - merge_10.M_r
                - split_11.M_r
                - BinaryToUnaryUncomputation_uncompute_0.M_r
                - merge_12.M_r
                - split_13.M_r
                - split_14.M_r
                - x_1.M_r
                - merge_15.M_r
                - qubits_free_1.M_r
              - source: N_spatial
                targets:
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - x_0.N_spatial
                - merge_1.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - BinaryToUnaryUncomputation_compute_0.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - had_1.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - had_2.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
                - BinaryToUnaryUncomputation_uncompute_0.N_spatial
                - merge_12.N_spatial
                - split_13.N_spatial
                - split_14.N_spatial
                - x_1.N_spatial
                - merge_15.N_spatial
                - qubits_free_1.N_spatial
              - source: R
                targets:
                - had_0.R
                - read_0.R
                - qubits_free_0.R
                - qubits_alloc_0.R
                - split_0.R
                - x_0.R
                - merge_1.R
                - merge_2.R
                - split_3.R
                - BinaryToUnaryUncomputation_compute_0.R
                - merge_4.R
                - split_5.R
                - had_1.R
                - merge_6.R
                - split_7.R
                - GoogleSelectOptimized_compute_0.R
                - merge_8.R
                - split_9.R
                - had_2.R
                - merge_10.R
                - split_11.R
                - BinaryToUnaryUncomputation_uncompute_0.R
                - merge_12.R
                - split_13.R
                - split_14.R
                - x_1.R
                - merge_15.R
                - qubits_free_1.R
              - source: b_as
                targets:
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
                - qubits_alloc_0.b_as
                - split_0.b_as
                - x_0.b_as
                - merge_1.b_as
                - merge_2.b_as
                - split_3.b_as
                - BinaryToUnaryUncomputation_compute_0.b_as
                - merge_4.b_as
                - split_5.b_as
                - had_1.b_as
                - merge_6.b_as
                - split_7.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_8.b_as
                - split_9.b_as
                - had_2.b_as
                - merge_10.b_as
                - split_11.b_as
                - BinaryToUnaryUncomputation_uncompute_0.b_as
                - merge_12.b_as
                - split_13.b_as
                - split_14.b_as
                - x_1.b_as
                - merge_15.b_as
                - qubits_free_1.b_as
              - source: b_givens
                targets:
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - x_0.b_givens
                - merge_1.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - BinaryToUnaryUncomputation_compute_0.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - had_1.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - had_2.b_givens
                - merge_10.b_givens
                - split_11.b_givens
                - BinaryToUnaryUncomputation_uncompute_0.b_givens
                - merge_12.b_givens
                - split_13.b_givens
                - split_14.b_givens
                - x_1.b_givens
                - merge_15.b_givens
                - qubits_free_1.b_givens
              - source: b_mas
                targets:
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - x_0.b_mas
                - merge_1.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - BinaryToUnaryUncomputation_compute_0.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - had_1.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - had_2.b_mas
                - merge_10.b_mas
                - split_11.b_mas
                - BinaryToUnaryUncomputation_uncompute_0.b_mas
                - merge_12.b_mas
                - split_13.b_mas
                - split_14.b_mas
                - x_1.b_mas
                - merge_15.b_mas
                - qubits_free_1.b_mas
              - source: idx
                targets:
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
                - qubits_alloc_0.idx
                - split_0.idx
                - x_0.idx
                - merge_1.idx
                - merge_2.idx
                - split_3.idx
                - BinaryToUnaryUncomputation_compute_0.idx
                - merge_4.idx
                - split_5.idx
                - had_1.idx
                - merge_6.idx
                - split_7.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_8.idx
                - split_9.idx
                - had_2.idx
                - merge_10.idx
                - split_11.idx
                - BinaryToUnaryUncomputation_uncompute_0.idx
                - merge_12.idx
                - split_13.idx
                - split_14.idx
                - x_1.idx
                - merge_15.idx
                - qubits_free_1.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: relbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              - direction: through
                name: thru_2
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '1'
              - name: local_ancillae
                type: qubits
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: relbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_1
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_1
              target: relbow_0.thru_0
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_2
              target: out_2
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_3
              target: out_3
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_4
              target: out_4
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_5
              target: out_5
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_6
              target: out_6
            - source: ApplyMajoranaFermionOperatorDF_compute_0.out_7
              target: out_8
            - source: DataLookupClean_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_0
            - source: DataLookupClean_compute_0.out_1
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_0
            - source: DataLookupClean_compute_0.out_2
              target: DataLookupClean_uncompute_0.in_2
            - source: DataLookupClean_uncompute_0.out_0
              target: out_0
            - source: DataLookupClean_uncompute_0.out_1
              target: out_7
            - source: in_0
              target: DataLookupClean_compute_0.in_0
            - source: in_1
              target: lelbow_0.thru_1
            - source: in_2
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_2
            - source: in_3
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_3
            - source: in_4
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_4
            - source: in_5
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_5
            - source: in_6
              target: DataLookupClean_compute_0.in_1
            - source: in_7
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_6
            - source: in_8
              target: lelbow_0.thru_2
            - source: lelbow_0.thru_0
              target: ApplyMajoranaFermionOperatorDF_compute_0.in_1
            - source: lelbow_0.thru_1
              target: relbow_0.thru_1
            - source: lelbow_0.thru_2
              target: relbow_0.thru_2
            - source: qubits_alloc_0.out_0
              target: lelbow_0.thru_0
            - source: relbow_0.thru_0
              target: qubits_free_0.in_0
            - source: relbow_0.thru_1
              target: out_1
            - source: relbow_0.thru_2
              target: out_9
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - lelbow_0.M_r
              - DataLookupClean_compute_0.M_r
              - ApplyMajoranaFermionOperatorDF_compute_0.M_r
              - DataLookupClean_uncompute_0.M_r
              - relbow_0.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - lelbow_0.N_spatial
              - DataLookupClean_compute_0.N_spatial
              - ApplyMajoranaFermionOperatorDF_compute_0.N_spatial
              - DataLookupClean_uncompute_0.N_spatial
              - relbow_0.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - lelbow_0.R
              - DataLookupClean_compute_0.R
              - ApplyMajoranaFermionOperatorDF_compute_0.R
              - DataLookupClean_uncompute_0.R
              - relbow_0.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - lelbow_0.b_as
              - DataLookupClean_compute_0.b_as
              - ApplyMajoranaFermionOperatorDF_compute_0.b_as
              - DataLookupClean_uncompute_0.b_as
              - relbow_0.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - lelbow_0.b_givens
              - DataLookupClean_compute_0.b_givens
              - ApplyMajoranaFermionOperatorDF_compute_0.b_givens
              - DataLookupClean_uncompute_0.b_givens
              - relbow_0.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - lelbow_0.b_mas
              - DataLookupClean_compute_0.b_mas
              - ApplyMajoranaFermionOperatorDF_compute_0.b_mas
              - DataLookupClean_uncompute_0.b_mas
              - relbow_0.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - lelbow_0.idx
              - DataLookupClean_compute_0.idx
              - ApplyMajoranaFermionOperatorDF_compute_0.idx
              - DataLookupClean_uncompute_0.idx
              - relbow_0.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: BasisRotatedMajoranaOperatorDF_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: input
              name: in_4
              size: null
            - direction: input
              name: in_5
              size: null
            - direction: input
              name: in_6
              size: null
            - direction: input
              name: in_7
              size: null
            - direction: input
              name: in_8
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            - direction: output
              name: out_5
              size: null
            - direction: output
              name: out_6
              size: null
            - direction: output
              name: out_7
              size: null
            - direction: output
              name: out_8
              size: null
            - direction: output
              name: out_9
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 60
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                  - 1
              - name: toffs
                type: additive
                value: '0'
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
            - source: R
              targets:
              - cost_event.R
            - source: b_as
              targets:
              - cost_event.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
            - source: idx
              targets:
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: GidneyAdd_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_1
            ports:
            - direction: through
              name: thru_0
              size: N_spatial
            - direction: through
              name: thru_1
              size: N_spatial
            - direction: through
              name: thru_2
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*N_spatial
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: N_spatial
            type: swap
          connections:
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_0
            target: GidneyAdd_uncompute_0.in_0
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_1
            target: out_4
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_2
            target: out_5
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_3
            target: out_6
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_4
            target: out_7
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_5
            target: out_8
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_6
            target: out_9
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_7
            target: GidneyAdd_uncompute_0.in_2
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_8
            target: swap_1.thru_0
          - source: BasisRotatedMajoranaOperatorDF_compute_0.out_9
            target: out_14
          - source: GidneyAdd_compute_0.out_0
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_0
          - source: GidneyAdd_compute_0.out_1
            target: GidneyAdd_uncompute_0.in_1
          - source: GidneyAdd_compute_0.out_2
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_6
          - source: GidneyAdd_uncompute_0.out_0
            target: qubits_free_0.in_0
          - source: GidneyAdd_uncompute_0.out_1
            target: out_2
          - source: GidneyAdd_uncompute_0.out_2
            target: out_10
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: in_10
            target: swap_0.thru_0
          - source: in_11
            target: swap_0.thru_1
          - source: in_12
            target: swap_0.thru_2
          - source: in_13
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_8
          - source: in_2
            target: GidneyAdd_compute_0.in_1
          - source: in_3
            target: out_3
          - source: in_4
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_1
          - source: in_5
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_2
          - source: in_6
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_3
          - source: in_7
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_4
          - source: in_8
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_5
          - source: in_9
            target: GidneyAdd_compute_0.in_2
          - source: qubits_alloc_0.out_0
            target: GidneyAdd_compute_0.in_0
          - source: swap_0.thru_0
            target: BasisRotatedMajoranaOperatorDF_compute_0.in_7
          - source: swap_0.thru_1
            target: swap_1.thru_1
          - source: swap_0.thru_2
            target: swap_1.thru_2
          - source: swap_1.thru_0
            target: out_11
          - source: swap_1.thru_1
            target: out_12
          - source: swap_1.thru_2
            target: out_13
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - swap_0.M_r
            - qubits_alloc_0.M_r
            - GidneyAdd_compute_0.M_r
            - BasisRotatedMajoranaOperatorDF_compute_0.M_r
            - GidneyAdd_uncompute_0.M_r
            - qubits_free_0.M_r
            - swap_1.M_r
          - source: N_spatial
            targets:
            - swap_0.N_spatial
            - qubits_alloc_0.N_spatial
            - GidneyAdd_compute_0.N_spatial
            - BasisRotatedMajoranaOperatorDF_compute_0.N_spatial
            - GidneyAdd_uncompute_0.N_spatial
            - qubits_free_0.N_spatial
            - swap_1.N_spatial
          - source: R
            targets:
            - swap_0.R
            - qubits_alloc_0.R
            - GidneyAdd_compute_0.R
            - BasisRotatedMajoranaOperatorDF_compute_0.R
            - GidneyAdd_uncompute_0.R
            - qubits_free_0.R
            - swap_1.R
          - source: b_as
            targets:
            - swap_0.b_as
            - qubits_alloc_0.b_as
            - GidneyAdd_compute_0.b_as
            - BasisRotatedMajoranaOperatorDF_compute_0.b_as
            - GidneyAdd_uncompute_0.b_as
            - qubits_free_0.b_as
            - swap_1.b_as
          - source: b_givens
            targets:
            - swap_0.b_givens
            - qubits_alloc_0.b_givens
            - GidneyAdd_compute_0.b_givens
            - BasisRotatedMajoranaOperatorDF_compute_0.b_givens
            - GidneyAdd_uncompute_0.b_givens
            - qubits_free_0.b_givens
            - swap_1.b_givens
          - source: b_mas
            targets:
            - swap_0.b_mas
            - qubits_alloc_0.b_mas
            - GidneyAdd_compute_0.b_mas
            - BasisRotatedMajoranaOperatorDF_compute_0.b_mas
            - GidneyAdd_uncompute_0.b_mas
            - qubits_free_0.b_mas
            - swap_1.b_mas
          - source: idx
            targets:
            - swap_0.idx
            - qubits_alloc_0.idx
            - GidneyAdd_compute_0.idx
            - BasisRotatedMajoranaOperatorDF_compute_0.idx
            - GidneyAdd_uncompute_0.idx
            - qubits_free_0.idx
            - swap_1.idx
          local_variables: {}
          meta: {}
          name: OneElectronTermSelect_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_10
            size: null
          - direction: input
            name: in_11
            size: null
          - direction: input
            name: in_12
            size: null
          - direction: input
            name: in_13
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: input
            name: in_7
            size: null
          - direction: input
            name: in_8
            size: null
          - direction: input
            name: in_9
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_10
            size: null
          - direction: output
            name: out_11
            size: null
          - direction: output
            name: out_12
            size: null
          - direction: output
            name: out_13
            size: null
          - direction: output
            name: out_14
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          - direction: output
            name: out_8
            size: null
          - direction: output
            name: out_9
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_0
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: ceiling(log2(R))
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: swap_0
            ports:
            - direction: through
              name: thru_0
              size: ceiling(log2(R))
            - direction: through
              name: thru_1
              size: '1'
            - direction: through
              name: thru_2
              size: ceiling(log2(R))
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 55*ceiling(log2(R))
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: ceiling(log2(R))
            type: swap
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_1
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R))
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(ceiling(log2(R)))
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_2
            ports:
            - direction: input
              name: in_0
              size: b_mas + ceiling(log2(R))
            - direction: output
              name: out_0
              size: b_mas
            - direction: output
              name: out_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            repetition: null
            resources: []
            type: split
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_lelbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: qubits_alloc_0.out_0
              target: out_2
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - cost_event.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - cost_event.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - cost_event.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - cost_event.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - cost_event.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - cost_event.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - cost_event.idx
            local_variables: {}
            meta: {}
            name: CompareLT_compute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: split_4
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: output
              name: out_0
              size: '1'
            - direction: output
              name: out_remainder
              size: b_mas-(1)
            repetition: null
            resources: []
            type: split
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: x_0
            ports:
            - direction: through
              name: thru_0
              size: '1'
            - direction: through
              name: thru_1
              size: '1'
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: '4'
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: x
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_5
            ports:
            - direction: input
              name: in_0
              size: '1'
            - direction: input
              name: in_remainder
              size: b_mas-(1)
            - direction: output
              name: out_0
              size: b_mas
            repetition: null
            resources: []
            type: merge
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: cost_event
              ports: []
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 57*b_mas - 60
              - name: gidney_relbows
                type: additive
                value: b_mas
              type: intrinsic_cost
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: b_mas
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: in_0
              target: out_0
            - source: in_1
              target: out_1
            - source: in_2
              target: qubits_free_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - cost_event.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - cost_event.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - cost_event.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - cost_event.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - cost_event.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - cost_event.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - cost_event.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: CompareLT_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: merge_7
            ports:
            - direction: input
              name: in_0
              size: b_mas
            - direction: input
              name: in_remainder
              size: b_mas + ceiling(log2(R))-(b_mas)
            - direction: output
              name: out_0
              size: b_mas + ceiling(log2(R))
            repetition: null
            resources: []
            type: merge
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: '1'
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: had_0
            ports:
            - direction: through
              name: thru_0
              size: b_mas
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 3*b_mas
            - name: gidney_lelbows
              type: additive
              value: '0'
            - name: gidney_relbows
              type: additive
              value: '0'
            - name: measurements
              type: additive
              value: '0'
            - name: ppm_x_weight
              type: other
              value: '0'
            - name: ppm_z_weight
              type: other
              value: '0'
            - name: ppms
              type: additive
              value: '0'
            - name: ppr_x_weight
              type: other
              value: '0'
            - name: ppr_z_weight
              type: other
              value: '0'
            - name: pprs
              type: additive
              value: '0'
            - name: rotations
              type: additive
              value: '0'
            - name: t_gates
              type: additive
              value: '0'
            - name: toffs
              type: additive
              value: '0'
            type: had
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_1
            ports:
            - direction: input
              name: in_0
              size: b_mas
            repetition: null
            resources: []
            type: qubits_alloc
          - children:
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_alloc_0
              ports:
              - direction: output
                name: out_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*b_mas + 3*ceiling(log2(R))
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: read_0
                ports:
                - direction: through
                  name: thru_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: b_mas + ceiling(log2(R))
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: read
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: b_mas + ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_2
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_lelbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_5
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_1
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_6
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_alloc_0
                  ports:
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: qubits_free_0
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1)))
                      + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R))) - 1
                  repetition: null
                  resources: []
                  type: qubits_alloc
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: (ceiling(0.75*calc_lambda(M_r*R, 1)) + 49)*Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_lelbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  - name: gidney_relbows
                    type: additive
                    value: Max(0, -select_elbow_const(ceiling(M_r*R/calc_lambda(M_r*R,
                      1)), 0) + ceiling(M_r*R/calc_lambda(M_r*R, 1)))
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                - source: qubits_alloc_0.out_0
                  target: qubits_free_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - qubits_alloc_0.M_r
                  - qubits_free_0.M_r
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - qubits_alloc_0.N_spatial
                  - qubits_free_0.N_spatial
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - qubits_alloc_0.R
                  - qubits_free_0.R
                  - cost_event.R
                - source: b_as
                  targets:
                  - qubits_alloc_0.b_as
                  - qubits_free_0.b_as
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - qubits_alloc_0.b_givens
                  - qubits_free_0.b_givens
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - qubits_alloc_0.b_mas
                  - qubits_free_0.b_mas
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - qubits_alloc_0.idx
                  - qubits_free_0.idx
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: GoogleSelectOptimized_compute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) - ceiling(log2(calc_lambda(M_r*R, 1))) +
                    Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(R))
                    - ceiling(log2(calc_lambda(M_r*R, 1))) + Max(0, -ceiling(log2(R))
                    + ceiling(log2(M_r*R))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_9
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: had_2
                ports:
                - direction: through
                  name: thru_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 3*calc_lambda(M_r*R, 1)
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: had
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                - direction: input
                  name: in_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_11
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: output
                  name: out_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                repetition: null
                resources: []
                type: split
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: cost_event
                  ports: []
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: 48*calc_lambda(M_r*R, 1) - 48
                  - name: gidney_relbows
                    type: additive
                    value: calc_lambda(M_r*R, 1) - 1
                  type: intrinsic_cost
                connections:
                - source: in_0
                  target: out_0
                - source: in_1
                  target: out_1
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - cost_event.M_r
                - source: N_spatial
                  targets:
                  - cost_event.N_spatial
                - source: R
                  targets:
                  - cost_event.R
                - source: b_as
                  targets:
                  - cost_event.b_as
                - source: b_givens
                  targets:
                  - cost_event.b_givens
                - source: b_mas
                  targets:
                  - cost_event.b_mas
                - source: idx
                  targets:
                  - cost_event.idx
                local_variables: {}
                meta: {}
                name: BinaryToUnaryUncomputation_uncompute_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_12
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(calc_lambda(M_r*R, 1)))
                - direction: input
                  name: in_remainder
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))-(ceiling(log2(calc_lambda(M_r*R,
                    1))))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_13
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                - direction: output
                  name: out_1
                  size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_14
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_1
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_15
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: calc_lambda(M_r*R, 1)-(1)
                - direction: output
                  name: out_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_1
                ports:
                - direction: input
                  name: in_0
                  size: calc_lambda(M_r*R, 1)
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: BinaryToUnaryUncomputation_compute_0.out_0
                target: merge_4.in_0
              - source: BinaryToUnaryUncomputation_compute_0.out_1
                target: had_1.thru_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_0
                target: merge_12.in_0
              - source: BinaryToUnaryUncomputation_uncompute_0.out_1
                target: split_14.in_0
              - source: GoogleSelectOptimized_compute_0.out_0
                target: merge_8.in_0
              - source: GoogleSelectOptimized_compute_0.out_1
                target: had_2.thru_0
              - source: had_0.thru_0
                target: read_0.thru_0
              - source: had_1.thru_0
                target: GoogleSelectOptimized_compute_0.in_1
              - source: had_2.thru_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_1
              - source: in_0
                target: merge_2.in_1
              - source: in_1
                target: had_0.thru_0
              - source: in_2
                target: merge_2.in_0
              - source: merge_1.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_1
              - source: merge_10.out_0
                target: split_11.in_0
              - source: merge_12.out_0
                target: split_13.in_0
              - source: merge_15.out_0
                target: qubits_free_1.in_0
              - source: merge_2.out_0
                target: split_3.in_0
              - source: merge_4.out_0
                target: split_5.in_0
              - source: merge_6.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_9.in_0
              - source: qubits_alloc_0.out_0
                target: split_0.in_0
              - source: read_0.thru_0
                target: qubits_free_0.in_0
              - source: split_0.out_0
                target: x_0.thru_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_11.out_0
                target: BinaryToUnaryUncomputation_uncompute_0.in_0
              - source: split_11.out_remainder
                target: merge_12.in_remainder
              - source: split_13.out_0
                target: out_1
              - source: split_13.out_1
                target: out_0
              - source: split_14.out_0
                target: x_1.thru_0
              - source: split_14.out_remainder
                target: merge_15.in_remainder
              - source: split_3.out_0
                target: BinaryToUnaryUncomputation_compute_0.in_0
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_5.out_0
                target: merge_6.in_0
              - source: split_5.out_1
                target: merge_6.in_1
              - source: split_7.out_0
                target: GoogleSelectOptimized_compute_0.in_0
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: split_9.out_0
                target: merge_10.in_0
              - source: split_9.out_1
                target: merge_10.in_1
              - source: x_0.thru_0
                target: merge_1.in_0
              - source: x_1.thru_0
                target: merge_15.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - had_0.M_r
                - read_0.M_r
                - qubits_free_0.M_r
                - qubits_alloc_0.M_r
                - split_0.M_r
                - x_0.M_r
                - merge_1.M_r
                - merge_2.M_r
                - split_3.M_r
                - BinaryToUnaryUncomputation_compute_0.M_r
                - merge_4.M_r
                - split_5.M_r
                - had_1.M_r
                - merge_6.M_r
                - split_7.M_r
                - GoogleSelectOptimized_compute_0.M_r
                - merge_8.M_r
                - split_9.M_r
                - had_2.M_r
                - merge_10.M_r
                - split_11.M_r
                - BinaryToUnaryUncomputation_uncompute_0.M_r
                - merge_12.M_r
                - split_13.M_r
                - split_14.M_r
                - x_1.M_r
                - merge_15.M_r
                - qubits_free_1.M_r
              - source: N_spatial
                targets:
                - had_0.N_spatial
                - read_0.N_spatial
                - qubits_free_0.N_spatial
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - x_0.N_spatial
                - merge_1.N_spatial
                - merge_2.N_spatial
                - split_3.N_spatial
                - BinaryToUnaryUncomputation_compute_0.N_spatial
                - merge_4.N_spatial
                - split_5.N_spatial
                - had_1.N_spatial
                - merge_6.N_spatial
                - split_7.N_spatial
                - GoogleSelectOptimized_compute_0.N_spatial
                - merge_8.N_spatial
                - split_9.N_spatial
                - had_2.N_spatial
                - merge_10.N_spatial
                - split_11.N_spatial
                - BinaryToUnaryUncomputation_uncompute_0.N_spatial
                - merge_12.N_spatial
                - split_13.N_spatial
                - split_14.N_spatial
                - x_1.N_spatial
                - merge_15.N_spatial
                - qubits_free_1.N_spatial
              - source: R
                targets:
                - had_0.R
                - read_0.R
                - qubits_free_0.R
                - qubits_alloc_0.R
                - split_0.R
                - x_0.R
                - merge_1.R
                - merge_2.R
                - split_3.R
                - BinaryToUnaryUncomputation_compute_0.R
                - merge_4.R
                - split_5.R
                - had_1.R
                - merge_6.R
                - split_7.R
                - GoogleSelectOptimized_compute_0.R
                - merge_8.R
                - split_9.R
                - had_2.R
                - merge_10.R
                - split_11.R
                - BinaryToUnaryUncomputation_uncompute_0.R
                - merge_12.R
                - split_13.R
                - split_14.R
                - x_1.R
                - merge_15.R
                - qubits_free_1.R
              - source: b_as
                targets:
                - had_0.b_as
                - read_0.b_as
                - qubits_free_0.b_as
                - qubits_alloc_0.b_as
                - split_0.b_as
                - x_0.b_as
                - merge_1.b_as
                - merge_2.b_as
                - split_3.b_as
                - BinaryToUnaryUncomputation_compute_0.b_as
                - merge_4.b_as
                - split_5.b_as
                - had_1.b_as
                - merge_6.b_as
                - split_7.b_as
                - GoogleSelectOptimized_compute_0.b_as
                - merge_8.b_as
                - split_9.b_as
                - had_2.b_as
                - merge_10.b_as
                - split_11.b_as
                - BinaryToUnaryUncomputation_uncompute_0.b_as
                - merge_12.b_as
                - split_13.b_as
                - split_14.b_as
                - x_1.b_as
                - merge_15.b_as
                - qubits_free_1.b_as
              - source: b_givens
                targets:
                - had_0.b_givens
                - read_0.b_givens
                - qubits_free_0.b_givens
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - x_0.b_givens
                - merge_1.b_givens
                - merge_2.b_givens
                - split_3.b_givens
                - BinaryToUnaryUncomputation_compute_0.b_givens
                - merge_4.b_givens
                - split_5.b_givens
                - had_1.b_givens
                - merge_6.b_givens
                - split_7.b_givens
                - GoogleSelectOptimized_compute_0.b_givens
                - merge_8.b_givens
                - split_9.b_givens
                - had_2.b_givens
                - merge_10.b_givens
                - split_11.b_givens
                - BinaryToUnaryUncomputation_uncompute_0.b_givens
                - merge_12.b_givens
                - split_13.b_givens
                - split_14.b_givens
                - x_1.b_givens
                - merge_15.b_givens
                - qubits_free_1.b_givens
              - source: b_mas
                targets:
                - had_0.b_mas
                - read_0.b_mas
                - qubits_free_0.b_mas
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - x_0.b_mas
                - merge_1.b_mas
                - merge_2.b_mas
                - split_3.b_mas
                - BinaryToUnaryUncomputation_compute_0.b_mas
                - merge_4.b_mas
                - split_5.b_mas
                - had_1.b_mas
                - merge_6.b_mas
                - split_7.b_mas
                - GoogleSelectOptimized_compute_0.b_mas
                - merge_8.b_mas
                - split_9.b_mas
                - had_2.b_mas
                - merge_10.b_mas
                - split_11.b_mas
                - BinaryToUnaryUncomputation_uncompute_0.b_mas
                - merge_12.b_mas
                - split_13.b_mas
                - split_14.b_mas
                - x_1.b_mas
                - merge_15.b_mas
                - qubits_free_1.b_mas
              - source: idx
                targets:
                - had_0.idx
                - read_0.idx
                - qubits_free_0.idx
                - qubits_alloc_0.idx
                - split_0.idx
                - x_0.idx
                - merge_1.idx
                - merge_2.idx
                - split_3.idx
                - BinaryToUnaryUncomputation_compute_0.idx
                - merge_4.idx
                - split_5.idx
                - had_1.idx
                - merge_6.idx
                - split_7.idx
                - GoogleSelectOptimized_compute_0.idx
                - merge_8.idx
                - split_9.idx
                - had_2.idx
                - merge_10.idx
                - split_11.idx
                - BinaryToUnaryUncomputation_uncompute_0.idx
                - merge_12.idx
                - split_13.idx
                - split_14.idx
                - x_1.idx
                - merge_15.idx
                - qubits_free_1.idx
              local_variables: {}
              meta: {}
              name: DataLookupClean_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) + 57*Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: local_ancillae
                  type: qubits
                  value: ceiling(log2(R)) + Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
                    - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: Max(0, -ceiling(log2(R)) + ceiling(log2(M_r*R)))
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: DataLookupClean_uncompute_0.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: DataLookupClean_uncompute_0.out_1
              target: GidneyAdd_uncompute_0.in_2
            - source: GidneyAdd_compute_0.out_0
              target: DataLookupClean_uncompute_0.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_compute_0.out_2
              target: DataLookupClean_uncompute_0.in_2
            - source: GidneyAdd_uncompute_0.out_0
              target: qubits_free_0.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_0
            - source: GidneyAdd_uncompute_0.out_2
              target: out_1
            - source: in_0
              target: DataLookupClean_uncompute_0.in_1
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: GidneyAdd_compute_0.in_2
            - source: qubits_alloc_0.out_0
              target: GidneyAdd_compute_0.in_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - qubits_alloc_0.M_r
              - GidneyAdd_compute_0.M_r
              - DataLookupClean_uncompute_0.M_r
              - GidneyAdd_uncompute_0.M_r
              - qubits_free_0.M_r
            - source: N_spatial
              targets:
              - qubits_alloc_0.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - DataLookupClean_uncompute_0.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
            - source: R
              targets:
              - qubits_alloc_0.R
              - GidneyAdd_compute_0.R
              - DataLookupClean_uncompute_0.R
              - GidneyAdd_uncompute_0.R
              - qubits_free_0.R
            - source: b_as
              targets:
              - qubits_alloc_0.b_as
              - GidneyAdd_compute_0.b_as
              - DataLookupClean_uncompute_0.b_as
              - GidneyAdd_uncompute_0.b_as
              - qubits_free_0.b_as
            - source: b_givens
              targets:
              - qubits_alloc_0.b_givens
              - GidneyAdd_compute_0.b_givens
              - DataLookupClean_uncompute_0.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - qubits_free_0.b_givens
            - source: b_mas
              targets:
              - qubits_alloc_0.b_mas
              - GidneyAdd_compute_0.b_mas
              - DataLookupClean_uncompute_0.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - qubits_free_0.b_mas
            - source: idx
              targets:
              - qubits_alloc_0.idx
              - GidneyAdd_compute_0.idx
              - DataLookupClean_uncompute_0.idx
              - GidneyAdd_uncompute_0.idx
              - qubits_free_0.idx
            local_variables: {}
            meta: {}
            name: MultiplexedSparseDataLookupDF_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            repetition: null
            resources: []
            type: qubrick
          - children:
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_0
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: relbow_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: relbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_1
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_0
              ports:
              - direction: input
                name: in_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_1
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: lelbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: lelbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_3
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_7
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: lelbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '44'
                    - name: gidney_lelbows
                      type: additive
                      value: '1'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: lelbow
                  connections:
                  - source: in_0
                    target: lelbow_0.thru_0
                  - source: in_1
                    target: lelbow_0.thru_1
                  - source: in_2
                    target: lelbow_0.thru_2
                  - source: lelbow_0.thru_0
                    target: out_0
                  - source: lelbow_0.thru_1
                    target: out_1
                  - source: lelbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - lelbow_0.M_r
                  - source: N_spatial
                    targets:
                    - lelbow_0.N_spatial
                  - source: R
                    targets:
                    - lelbow_0.R
                  - source: b_as
                    targets:
                    - lelbow_0.b_as
                  - source: b_givens
                    targets:
                    - lelbow_0.b_givens
                  - source: b_mas
                    targets:
                    - lelbow_0.b_mas
                  - source: idx
                    targets:
                    - lelbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_8
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_9
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_10
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_9.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_8.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_8.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_11.in_0
              - source: in_0
                target: split_0.in_0
              - source: lelbow_0.thru_0
                target: merge_3.in_0
              - source: lelbow_0.thru_1
                target: x_0.thru_0
              - source: merge_11.out_0
                target: out_1
              - source: merge_3.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_7.in_0
              - source: merge_8.out_0
                target: split_10.in_0
              - source: merge_9.out_0
                target: out_0
              - source: qubits_alloc_0.out_0
                target: split_1.in_0
              - source: split_0.out_0
                target: lelbow_0.thru_0
              - source: split_0.out_remainder
                target: merge_3.in_remainder
              - source: split_1.out_0
                target: lelbow_0.thru_1
              - source: split_1.out_remainder
                target: merge_5.in_remainder
              - source: split_10.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_10.out_remainder
                target: merge_11.in_remainder
              - source: split_6.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_6.out_remainder
                target: merge_9.in_remainder
              - source: split_7.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_7.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_7.out_remainder
                target: merge_8.in_remainder
              - source: x_0.thru_0
                target: merge_5.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - split_0.M_r
                - split_1.M_r
                - lelbow_0.M_r
                - merge_3.M_r
                - x_0.M_r
                - merge_5.M_r
                - split_6.M_r
                - split_7.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_8.M_r
                - merge_9.M_r
                - split_10.M_r
                - Repeated_x_0_repetition.M_r
                - merge_11.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - split_0.N_spatial
                - split_1.N_spatial
                - lelbow_0.N_spatial
                - merge_3.N_spatial
                - x_0.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - split_7.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_8.N_spatial
                - merge_9.N_spatial
                - split_10.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_11.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - split_0.R
                - split_1.R
                - lelbow_0.R
                - merge_3.R
                - x_0.R
                - merge_5.R
                - split_6.R
                - split_7.R
                - Repeated_lelbow_0_repetition.R
                - merge_8.R
                - merge_9.R
                - split_10.R
                - Repeated_x_0_repetition.R
                - merge_11.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - split_0.b_as
                - split_1.b_as
                - lelbow_0.b_as
                - merge_3.b_as
                - x_0.b_as
                - merge_5.b_as
                - split_6.b_as
                - split_7.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_8.b_as
                - merge_9.b_as
                - split_10.b_as
                - Repeated_x_0_repetition.b_as
                - merge_11.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - split_0.b_givens
                - split_1.b_givens
                - lelbow_0.b_givens
                - merge_3.b_givens
                - x_0.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - split_7.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_8.b_givens
                - merge_9.b_givens
                - split_10.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_11.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - split_0.b_mas
                - split_1.b_mas
                - lelbow_0.b_mas
                - merge_3.b_mas
                - x_0.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - split_7.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_8.b_mas
                - merge_9.b_mas
                - split_10.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_11.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - split_0.idx
                - split_1.idx
                - lelbow_0.idx
                - merge_3.idx
                - x_0.idx
                - merge_5.idx
                - split_6.idx
                - split_7.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_8.idx
                - merge_9.idx
                - split_10.idx
                - Repeated_x_0_repetition.idx
                - merge_11.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_0
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_0.out_0
                target: out_0
              - source: Repeated_had_0.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_0.in_0
              - source: in_1
                target: Repeated_had_0.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_0.M_r
              - source: N_spatial
                targets:
                - Repeated_had_0.N_spatial
              - source: R
                targets:
                - Repeated_had_0.R
              - source: b_as
                targets:
                - Repeated_had_0.b_as
              - source: b_givens
                targets:
                - Repeated_had_0.b_givens
              - source: b_mas
                targets:
                - Repeated_had_0.b_mas
              - source: idx
                targets:
                - Repeated_had_0.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_0_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_0
              ports:
              - direction: through
                name: thru_0
                size: ceiling(log2(R))
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 47*Heaviside(ceiling(log2(R)) - 1.5, 0) + 49*ceiling(log2(R))
                  - 49*Min(2, ceiling(log2(R)))
              - name: gidney_lelbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: gidney_relbows
                type: additive
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: local_ancillae
                type: qubits
                value: ceiling(log2(R)) - Min(2, ceiling(log2(R)))
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: Heaviside(ceiling(log2(R)) - 1.5, 0)
              type: z
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_1
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_1.out_0
                target: out_0
              - source: Repeated_had_1.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_1.in_0
              - source: in_1
                target: Repeated_had_1.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_1.M_r
              - source: N_spatial
                targets:
                - Repeated_had_1.N_spatial
              - source: R
                targets:
                - Repeated_had_1.R
              - source: b_as
                targets:
                - Repeated_had_1.b_as
              - source: b_givens
                targets:
                - Repeated_had_1.b_givens
              - source: b_mas
                targets:
                - Repeated_had_1.b_mas
              - source: idx
                targets:
                - Repeated_had_1.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_1_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_alloc_0
                ports:
                - direction: output
                  name: out_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_lelbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: qubits_alloc_0.out_0
                target: out_2
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - qubits_alloc_0.M_r
                - cost_event.M_r
              - source: N_spatial
                targets:
                - qubits_alloc_0.N_spatial
                - cost_event.N_spatial
              - source: R
                targets:
                - qubits_alloc_0.R
                - cost_event.R
              - source: b_as
                targets:
                - qubits_alloc_0.b_as
                - cost_event.b_as
              - source: b_givens
                targets:
                - qubits_alloc_0.b_givens
                - cost_event.b_givens
              - source: b_mas
                targets:
                - qubits_alloc_0.b_mas
                - cost_event.b_mas
              - source: idx
                targets:
                - qubits_alloc_0.idx
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: CompareLT_compute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              - direction: output
                name: out_2
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_2
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_3
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_0
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_4
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_5
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_6
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_7
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_compute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_8
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_9
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_10
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_11
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_1
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_12
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_13
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_0
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_14
              ports:
              - direction: input
                name: in_0
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: '1'
              - direction: output
                name: out_remainder
                size: ceiling(log2(R))-(1)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: z_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '4'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: z
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_15
              ports:
              - direction: input
                name: in_0
                size: '1'
              - direction: input
                name: in_remainder
                size: ceiling(log2(R))-(1)
              - direction: output
                name: out_0
                size: ceiling(log2(R))
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_inv_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s_inv
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_2
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_16
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_17
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_2
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_18
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_19
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_20
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_21
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*b_mas - 60
                - name: gidney_lelbows
                  type: additive
                  value: b_mas - 1
                - name: gidney_relbows
                  type: additive
                  value: b_mas - 1
                - name: local_ancillae
                  type: qubits
                  value: b_mas - 1
                - name: toffs
                  type: additive
                  value: '0'
                type: intrinsic_cost
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
              - source: R
                targets:
                - cost_event.R
              - source: b_as
                targets:
                - cost_event.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
              - source: idx
                targets:
                - cost_event.idx
              local_variables: {}
              meta: {}
              name: GidneyAdd_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_22
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_23
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_24
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: input
                name: in_3
                size: Max(b_as, b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_25
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: b_mas
              - direction: output
                name: out_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_3
              ports:
              - direction: through
                name: thru_0
                size: b_mas
              - direction: through
                name: thru_1
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: 4*b_mas
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: merge_26
              ports:
              - direction: input
                name: in_0
                size: b_mas
              - direction: input
                name: in_remainder
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)-(b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              repetition: null
              resources: []
              type: merge
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: split_27
              ports:
              - direction: input
                name: in_0
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas)) + Max(0, b_givens
                  - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens,
                  b_mas)) + Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(b_as, b_givens, b_mas)) - Max(b_as, b_givens, b_mas)) + Max(b_as,
                  b_givens, b_mas)
              - direction: output
                name: out_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: output
                name: out_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: split
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: had_3
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '3'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: had
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: s_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: active_volume
                type: additive
                value: '5'
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: s
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: cost_event
                ports: []
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: 57*ceiling(log2(R)) - 60
                - name: gidney_relbows
                  type: additive
                  value: ceiling(log2(R))
                type: intrinsic_cost
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: ceiling(log2(R))
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: in_0
                target: out_0
              - source: in_1
                target: out_1
              - source: in_2
                target: qubits_free_0.in_0
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - cost_event.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - cost_event.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - cost_event.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - cost_event.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - cost_event.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - cost_event.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - cost_event.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: CompareLT_uncompute_1
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: input
                name: in_2
                size: null
              - direction: output
                name: out_0
                size: null
              - direction: output
                name: out_1
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children:
              - children:
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_0
                  ports:
                  - direction: input
                    name: in_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: split_1
                  ports:
                  - direction: input
                    name: in_0
                    size: ceiling(log2(R))
                  - direction: output
                    name: out_0
                    size: '1'
                  - direction: output
                    name: out_remainder
                    size: ceiling(log2(R))-(1)
                  repetition: null
                  resources: []
                  type: split
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: had_0
                  ports:
                  - direction: through
                    name: thru_0
                    size: '1'
                  - direction: through
                    name: thru_1
                    size: '1'
                  repetition: null
                  resources:
                  - name: active_volume
                    type: additive
                    value: '77'
                  - name: gidney_lelbows
                    type: additive
                    value: '0'
                  - name: gidney_relbows
                    type: additive
                    value: '0'
                  - name: measurements
                    type: additive
                    value: '0'
                  - name: ppm_x_weight
                    type: other
                    value: '0'
                  - name: ppm_z_weight
                    type: other
                    value: '0'
                  - name: ppms
                    type: additive
                    value: '0'
                  - name: ppr_x_weight
                    type: other
                    value: '0'
                  - name: ppr_z_weight
                    type: other
                    value: '0'
                  - name: pprs
                    type: additive
                    value: '0'
                  - name: rotations
                    type: additive
                    value: '0'
                  - name: t_gates
                    type: additive
                    value: '2'
                  - name: toffs
                    type: additive
                    value: '0'
                  type: had
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_2
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: ceiling(log2(R))-(1)
                  - direction: output
                    name: out_0
                    size: ceiling(log2(R))
                  repetition: null
                  resources: []
                  type: merge
                - children: []
                  connections: []
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params: []
                  local_variables: {}
                  meta: {}
                  name: merge_3
                  ports:
                  - direction: input
                    name: in_0
                    size: '1'
                  - direction: input
                    name: in_remainder
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1-(1)
                  - direction: output
                    name: out_0
                    size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                      - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) +
                      1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) + 1
                  repetition: null
                  resources: []
                  type: merge
                connections:
                - source: had_0.thru_0
                  target: merge_3.in_0
                - source: had_0.thru_1
                  target: merge_2.in_0
                - source: in_0
                  target: split_0.in_0
                - source: in_1
                  target: split_1.in_0
                - source: merge_2.out_0
                  target: out_1
                - source: merge_3.out_0
                  target: out_0
                - source: split_0.out_0
                  target: had_0.thru_0
                - source: split_0.out_remainder
                  target: merge_3.in_remainder
                - source: split_1.out_0
                  target: had_0.thru_1
                - source: split_1.out_remainder
                  target: merge_2.in_remainder
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - split_0.M_r
                  - split_1.M_r
                  - had_0.M_r
                  - merge_2.M_r
                  - merge_3.M_r
                - source: N_spatial
                  targets:
                  - split_0.N_spatial
                  - split_1.N_spatial
                  - had_0.N_spatial
                  - merge_2.N_spatial
                  - merge_3.N_spatial
                - source: R
                  targets:
                  - split_0.R
                  - split_1.R
                  - had_0.R
                  - merge_2.R
                  - merge_3.R
                - source: b_as
                  targets:
                  - split_0.b_as
                  - split_1.b_as
                  - had_0.b_as
                  - merge_2.b_as
                  - merge_3.b_as
                - source: b_givens
                  targets:
                  - split_0.b_givens
                  - split_1.b_givens
                  - had_0.b_givens
                  - merge_2.b_givens
                  - merge_3.b_givens
                - source: b_mas
                  targets:
                  - split_0.b_mas
                  - split_1.b_mas
                  - had_0.b_mas
                  - merge_2.b_mas
                  - merge_3.b_mas
                - source: idx
                  targets:
                  - split_0.idx
                  - split_1.idx
                  - had_0.idx
                  - merge_2.idx
                  - merge_3.idx
                local_variables: {}
                meta: {}
                name: Repeated_had_2
                ports:
                - direction: input
                  name: in_0
                  size: null
                - direction: input
                  name: in_1
                  size: null
                - direction: output
                  name: out_0
                  size: null
                - direction: output
                  name: out_1
                  size: null
                repetition: null
                resources: []
                type: qubrick
              connections:
              - source: Repeated_had_2.out_0
                target: out_0
              - source: Repeated_had_2.out_1
                target: out_1
              - source: in_0
                target: Repeated_had_2.in_0
              - source: in_1
                target: Repeated_had_2.in_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - Repeated_had_2.M_r
              - source: N_spatial
                targets:
                - Repeated_had_2.N_spatial
              - source: R
                targets:
                - Repeated_had_2.R
              - source: b_as
                targets:
                - Repeated_had_2.b_as
              - source: b_givens
                targets:
                - Repeated_had_2.b_givens
              - source: b_mas
                targets:
                - Repeated_had_2.b_mas
              - source: idx
                targets:
                - Repeated_had_2.idx
              local_variables: {}
              meta: {}
              name: Repeated_had_2_repetition
              ports:
              - direction: input
                name: in_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: input
                name: in_1
                size: ceiling(log2(R))
              - direction: output
                name: out_0
                size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1
              - direction: output
                name: out_1
                size: ceiling(log2(R))
              repetition:
                count: Min(M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                  - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                  + 1) - 1) + 2*M_r + 1))) + 1, ceiling(log2(R)))
                sequence:
                  multiplier: 1
                  type: constant
              resources: []
              type: qubrick
            - children:
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: x_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    repetition: null
                    resources:
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: x
                  connections:
                  - source: in_0
                    target: x_0.thru_0
                  - source: x_0.thru_0
                    target: out_0
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - x_0.M_r
                  - source: N_spatial
                    targets:
                    - x_0.N_spatial
                  - source: R
                    targets:
                    - x_0.R
                  - source: b_as
                    targets:
                    - x_0.b_as
                  - source: b_givens
                    targets:
                    - x_0.b_givens
                  - source: b_mas
                    targets:
                    - x_0.b_mas
                  - source: idx
                    targets:
                    - x_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_x_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_x_0.out_0
                  target: out_0
                - source: in_0
                  target: Repeated_x_0.in_0
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_x_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_x_0.N_spatial
                - source: R
                  targets:
                  - Repeated_x_0.R
                - source: b_as
                  targets:
                  - Repeated_x_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_x_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_x_0.b_mas
                - source: idx
                  targets:
                  - Repeated_x_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_x_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_1
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_2
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_3
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                repetition: null
                resources: []
                type: split
              - children:
                - children:
                  - children: []
                    connections: []
                    input_params:
                    - b_mas
                    - M_r
                    - N_spatial
                    - idx
                    - R
                    - b_givens
                    - b_as
                    linked_params: []
                    local_variables: {}
                    meta: {}
                    name: relbow_0
                    ports:
                    - direction: through
                      name: thru_0
                      size: '1'
                    - direction: through
                      name: thru_1
                      size: '1'
                    - direction: through
                      name: thru_2
                      size: '1'
                    repetition: null
                    resources:
                    - name: active_volume
                      type: additive
                      value: '5'
                    - name: gidney_lelbows
                      type: additive
                      value: '0'
                    - name: gidney_relbows
                      type: additive
                      value: '1'
                    - name: local_ancillae
                      type: qubits
                      value: '0'
                    - name: measurements
                      type: additive
                      value: '0'
                    - name: ppm_x_weight
                      type: other
                      value: '0'
                    - name: ppm_z_weight
                      type: other
                      value: '0'
                    - name: ppms
                      type: additive
                      value: '0'
                    - name: ppr_x_weight
                      type: other
                      value: '0'
                    - name: ppr_z_weight
                      type: other
                      value: '0'
                    - name: pprs
                      type: additive
                      value: '0'
                    - name: rotations
                      type: additive
                      value: '0'
                    - name: t_gates
                      type: additive
                      value: '0'
                    - name: toffs
                      type: additive
                      value: '0'
                    type: relbow
                  connections:
                  - source: in_0
                    target: relbow_0.thru_0
                  - source: in_1
                    target: relbow_0.thru_1
                  - source: in_2
                    target: relbow_0.thru_2
                  - source: relbow_0.thru_0
                    target: out_0
                  - source: relbow_0.thru_1
                    target: out_1
                  - source: relbow_0.thru_2
                    target: out_2
                  input_params:
                  - b_mas
                  - M_r
                  - N_spatial
                  - idx
                  - R
                  - b_givens
                  - b_as
                  linked_params:
                  - source: M_r
                    targets:
                    - relbow_0.M_r
                  - source: N_spatial
                    targets:
                    - relbow_0.N_spatial
                  - source: R
                    targets:
                    - relbow_0.R
                  - source: b_as
                    targets:
                    - relbow_0.b_as
                  - source: b_givens
                    targets:
                    - relbow_0.b_givens
                  - source: b_mas
                    targets:
                    - relbow_0.b_mas
                  - source: idx
                    targets:
                    - relbow_0.idx
                  local_variables: {}
                  meta: {}
                  name: Repeated_lelbow_0
                  ports:
                  - direction: input
                    name: in_0
                    size: null
                  - direction: input
                    name: in_1
                    size: null
                  - direction: input
                    name: in_2
                    size: null
                  - direction: output
                    name: out_0
                    size: null
                  - direction: output
                    name: out_1
                    size: null
                  - direction: output
                    name: out_2
                    size: null
                  repetition: null
                  resources: []
                  type: qubrick
                connections:
                - source: Repeated_lelbow_0.out_0
                  target: out_0
                - source: Repeated_lelbow_0.out_1
                  target: out_1
                - source: Repeated_lelbow_0.out_2
                  target: out_2
                - source: in_0
                  target: Repeated_lelbow_0.in_0
                - source: in_1
                  target: Repeated_lelbow_0.in_1
                - source: in_2
                  target: Repeated_lelbow_0.in_2
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params:
                - source: M_r
                  targets:
                  - Repeated_lelbow_0.M_r
                - source: N_spatial
                  targets:
                  - Repeated_lelbow_0.N_spatial
                - source: R
                  targets:
                  - Repeated_lelbow_0.R
                - source: b_as
                  targets:
                  - Repeated_lelbow_0.b_as
                - source: b_givens
                  targets:
                  - Repeated_lelbow_0.b_givens
                - source: b_mas
                  targets:
                  - Repeated_lelbow_0.b_mas
                - source: idx
                  targets:
                  - Repeated_lelbow_0.idx
                local_variables: {}
                meta: {}
                name: Repeated_lelbow_0_repetition
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_2
                  size: '1'
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_1
                  size: '1'
                - direction: output
                  name: out_2
                  size: '1'
                repetition:
                  count: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1)))
                  sequence:
                    multiplier: 1
                    type: constant
                resources: []
                type: qubrick
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_4
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_1
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_5
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_6
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: x_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                repetition: null
                resources:
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: x
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: split_8
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                - direction: output
                  name: out_0
                  size: '1'
                - direction: output
                  name: out_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                repetition: null
                resources: []
                type: split
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: relbow_0
                ports:
                - direction: through
                  name: thru_0
                  size: '1'
                - direction: through
                  name: thru_1
                  size: '1'
                repetition: null
                resources:
                - name: active_volume
                  type: additive
                  value: '4'
                - name: gidney_lelbows
                  type: additive
                  value: '0'
                - name: gidney_relbows
                  type: additive
                  value: '0'
                - name: measurements
                  type: additive
                  value: '0'
                - name: ppm_x_weight
                  type: other
                  value: '0'
                - name: ppm_z_weight
                  type: other
                  value: '0'
                - name: ppms
                  type: additive
                  value: '0'
                - name: ppr_x_weight
                  type: other
                  value: '0'
                - name: ppr_z_weight
                  type: other
                  value: '0'
                - name: pprs
                  type: additive
                  value: '0'
                - name: rotations
                  type: additive
                  value: '0'
                - name: t_gates
                  type: additive
                  value: '0'
                - name: toffs
                  type: additive
                  value: '0'
                type: relbow
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_10
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: merge_11
                ports:
                - direction: input
                  name: in_0
                  size: '1'
                - direction: input
                  name: in_remainder
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1-(1)
                - direction: output
                  name: out_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: merge
              - children: []
                connections: []
                input_params:
                - b_mas
                - M_r
                - N_spatial
                - idx
                - R
                - b_givens
                - b_as
                linked_params: []
                local_variables: {}
                meta: {}
                name: qubits_free_0
                ports:
                - direction: input
                  name: in_0
                  size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
                    - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
                    + 1) - 1) + 2*M_r + 1))) + 1
                repetition: null
                resources: []
                type: qubits_alloc
              connections:
              - source: Repeated_lelbow_0_repetition.out_0
                target: merge_5.in_0
              - source: Repeated_lelbow_0_repetition.out_1
                target: merge_4.in_0
              - source: Repeated_lelbow_0_repetition.out_2
                target: merge_4.in_1
              - source: Repeated_x_0_repetition.out_0
                target: merge_1.in_0
              - source: in_0
                target: split_2.in_0
              - source: in_1
                target: split_0.in_0
              - source: merge_1.out_0
                target: split_3.in_0
              - source: merge_10.out_0
                target: qubits_free_0.in_0
              - source: merge_11.out_0
                target: out_0
              - source: merge_4.out_0
                target: split_6.in_0
              - source: merge_5.out_0
                target: split_8.in_0
              - source: relbow_0.thru_0
                target: merge_11.in_0
              - source: relbow_0.thru_1
                target: merge_10.in_0
              - source: split_0.out_0
                target: Repeated_x_0_repetition.in_0
              - source: split_0.out_remainder
                target: merge_1.in_remainder
              - source: split_2.out_0
                target: Repeated_lelbow_0_repetition.in_0
              - source: split_2.out_remainder
                target: merge_5.in_remainder
              - source: split_3.out_0
                target: Repeated_lelbow_0_repetition.in_1
              - source: split_3.out_1
                target: Repeated_lelbow_0_repetition.in_2
              - source: split_3.out_remainder
                target: merge_4.in_remainder
              - source: split_6.out_0
                target: x_0.thru_0
              - source: split_6.out_remainder
                target: merge_10.in_remainder
              - source: split_8.out_0
                target: relbow_0.thru_0
              - source: split_8.out_remainder
                target: merge_11.in_remainder
              - source: x_0.thru_0
                target: relbow_0.thru_1
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params:
              - source: M_r
                targets:
                - split_0.M_r
                - Repeated_x_0_repetition.M_r
                - merge_1.M_r
                - split_2.M_r
                - split_3.M_r
                - Repeated_lelbow_0_repetition.M_r
                - merge_4.M_r
                - merge_5.M_r
                - split_6.M_r
                - x_0.M_r
                - split_8.M_r
                - relbow_0.M_r
                - merge_10.M_r
                - merge_11.M_r
                - qubits_free_0.M_r
              - source: N_spatial
                targets:
                - split_0.N_spatial
                - Repeated_x_0_repetition.N_spatial
                - merge_1.N_spatial
                - split_2.N_spatial
                - split_3.N_spatial
                - Repeated_lelbow_0_repetition.N_spatial
                - merge_4.N_spatial
                - merge_5.N_spatial
                - split_6.N_spatial
                - x_0.N_spatial
                - split_8.N_spatial
                - relbow_0.N_spatial
                - merge_10.N_spatial
                - merge_11.N_spatial
                - qubits_free_0.N_spatial
              - source: R
                targets:
                - split_0.R
                - Repeated_x_0_repetition.R
                - merge_1.R
                - split_2.R
                - split_3.R
                - Repeated_lelbow_0_repetition.R
                - merge_4.R
                - merge_5.R
                - split_6.R
                - x_0.R
                - split_8.R
                - relbow_0.R
                - merge_10.R
                - merge_11.R
                - qubits_free_0.R
              - source: b_as
                targets:
                - split_0.b_as
                - Repeated_x_0_repetition.b_as
                - merge_1.b_as
                - split_2.b_as
                - split_3.b_as
                - Repeated_lelbow_0_repetition.b_as
                - merge_4.b_as
                - merge_5.b_as
                - split_6.b_as
                - x_0.b_as
                - split_8.b_as
                - relbow_0.b_as
                - merge_10.b_as
                - merge_11.b_as
                - qubits_free_0.b_as
              - source: b_givens
                targets:
                - split_0.b_givens
                - Repeated_x_0_repetition.b_givens
                - merge_1.b_givens
                - split_2.b_givens
                - split_3.b_givens
                - Repeated_lelbow_0_repetition.b_givens
                - merge_4.b_givens
                - merge_5.b_givens
                - split_6.b_givens
                - x_0.b_givens
                - split_8.b_givens
                - relbow_0.b_givens
                - merge_10.b_givens
                - merge_11.b_givens
                - qubits_free_0.b_givens
              - source: b_mas
                targets:
                - split_0.b_mas
                - Repeated_x_0_repetition.b_mas
                - merge_1.b_mas
                - split_2.b_mas
                - split_3.b_mas
                - Repeated_lelbow_0_repetition.b_mas
                - merge_4.b_mas
                - merge_5.b_mas
                - split_6.b_mas
                - x_0.b_mas
                - split_8.b_mas
                - relbow_0.b_mas
                - merge_10.b_mas
                - merge_11.b_mas
                - qubits_free_0.b_mas
              - source: idx
                targets:
                - split_0.idx
                - Repeated_x_0_repetition.idx
                - merge_1.idx
                - split_2.idx
                - split_3.idx
                - Repeated_lelbow_0_repetition.idx
                - merge_4.idx
                - merge_5.idx
                - split_6.idx
                - x_0.idx
                - split_8.idx
                - relbow_0.idx
                - merge_10.idx
                - merge_11.idx
                - qubits_free_0.idx
              local_variables: {}
              meta: {}
              name: Contiguizer_uncompute_0
              ports:
              - direction: input
                name: in_0
                size: null
              - direction: input
                name: in_1
                size: null
              - direction: output
                name: out_0
                size: null
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: RotationCatalystStatePrep_uncompute_0
              ports:
              - direction: through
                name: thru_0
                size: Max(0, b_mas - Max(0, b_mas - Max(b_as, b_givens, b_mas)) -
                  Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas)) - Max(b_as,
                  b_givens, b_mas)) - Max(b_as, b_givens, b_mas))
              - direction: through
                name: thru_1
                size: Max(0, b_givens - Max(0, b_mas - Max(b_as, b_givens, b_mas))
                  - Max(b_as, b_givens, b_mas))
              - direction: through
                name: thru_2
                size: Max(0, b_mas - Max(b_as, b_givens, b_mas))
              - direction: through
                name: thru_3
                size: Max(b_as, b_givens, b_mas)
              repetition: null
              resources: []
              type: qubrick
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: x_4
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: x
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: relbow_1
              ports:
              - direction: through
                name: thru_0
                size: '1'
              repetition: null
              resources:
              - name: gidney_lelbows
                type: additive
                value: '0'
              - name: gidney_relbows
                type: additive
                value: '0'
              - name: measurements
                type: additive
                value: '0'
              - name: ppm_x_weight
                type: other
                value: '0'
              - name: ppm_z_weight
                type: other
                value: '0'
              - name: ppms
                type: additive
                value: '0'
              - name: ppr_x_weight
                type: other
                value: '0'
              - name: ppr_z_weight
                type: other
                value: '0'
              - name: pprs
                type: additive
                value: '0'
              - name: rotations
                type: additive
                value: '0'
              - name: t_gates
                type: additive
                value: '0'
              - name: toffs
                type: additive
                value: '0'
              type: relbow
            - children: []
              connections: []
              input_params:
              - b_mas
              - M_r
              - N_spatial
              - idx
              - R
              - b_givens
              - b_as
              linked_params: []
              local_variables: {}
              meta: {}
              name: qubits_free_1
              ports:
              - direction: input
                name: in_0
                size: '1'
              repetition: null
              resources: []
              type: qubits_alloc
            connections:
            - source: CompareLT_compute_0.out_0
              target: CompareLT_uncompute_0.in_0
            - source: CompareLT_compute_0.out_1
              target: CompareLT_uncompute_0.in_1
            - source: CompareLT_compute_0.out_2
              target: split_0.in_0
            - source: CompareLT_compute_1.out_0
              target: CompareLT_uncompute_1.in_0
            - source: CompareLT_compute_1.out_1
              target: CompareLT_uncompute_1.in_1
            - source: CompareLT_compute_1.out_2
              target: split_14.in_0
            - source: CompareLT_uncompute_0.out_0
              target: Contiguizer_compute_0.in_0
            - source: CompareLT_uncompute_0.out_1
              target: Repeated_had_0_repetition.in_1
            - source: CompareLT_uncompute_1.out_0
              target: Contiguizer_uncompute_0.in_0
            - source: CompareLT_uncompute_1.out_1
              target: Repeated_had_2_repetition.in_1
            - source: Contiguizer_compute_0.out_0
              target: CompareLT_compute_1.in_0
            - source: Contiguizer_compute_0.out_1
              target: Repeated_had_0_repetition.in_0
            - source: Contiguizer_uncompute_0.out_0
              target: out_0
            - source: GidneyAdd_compute_0.out_0
              target: merge_8.in_0
            - source: GidneyAdd_compute_0.out_1
              target: GidneyAdd_uncompute_0.in_1
            - source: GidneyAdd_uncompute_0.out_0
              target: merge_22.in_0
            - source: GidneyAdd_uncompute_0.out_1
              target: out_1
            - source: Repeated_had_0_repetition.out_0
              target: Repeated_had_1_repetition.in_0
            - source: Repeated_had_0_repetition.out_1
              target: z_0.thru_0
            - source: Repeated_had_1_repetition.out_0
              target: Repeated_had_2_repetition.in_0
            - source: Repeated_had_1_repetition.out_1
              target: CompareLT_compute_1.in_1
            - source: Repeated_had_2_repetition.out_0
              target: Contiguizer_uncompute_0.in_1
            - source: Repeated_had_2_repetition.out_1
              target: out_6
            - source: RotationCatalystStatePrep_uncompute_0.thru_0
              target: out_4
            - source: RotationCatalystStatePrep_uncompute_0.thru_1
              target: out_5
            - source: RotationCatalystStatePrep_uncompute_0.thru_2
              target: out_3
            - source: RotationCatalystStatePrep_uncompute_0.thru_3
              target: out_2
            - source: had_0.thru_0
              target: x_0.thru_1
            - source: had_1.thru_0
              target: s_0.thru_0
            - source: had_2.thru_0
              target: x_2.thru_1
            - source: had_3.thru_0
              target: s_1.thru_0
            - source: in_0
              target: CompareLT_compute_0.in_0
            - source: in_1
              target: GidneyAdd_compute_0.in_1
            - source: in_2
              target: merge_2.in_3
            - source: in_3
              target: merge_2.in_2
            - source: in_4
              target: merge_2.in_0
            - source: in_5
              target: merge_2.in_1
            - source: in_6
              target: CompareLT_compute_0.in_1
            - source: in_7
              target: z_0.thru_1
            - source: in_8
              target: relbow_0.thru_1
            - source: merge_1.out_0
              target: CompareLT_uncompute_0.in_2
            - source: merge_10.out_0
              target: split_11.in_0
            - source: merge_12.out_0
              target: split_13.in_0
            - source: merge_15.out_0
              target: CompareLT_uncompute_1.in_2
            - source: merge_16.out_0
              target: split_17.in_0
            - source: merge_18.out_0
              target: split_19.in_0
            - source: merge_2.out_0
              target: split_3.in_0
            - source: merge_20.out_0
              target: split_21.in_0
            - source: merge_22.out_0
              target: split_23.in_0
            - source: merge_24.out_0
              target: split_25.in_0
            - source: merge_26.out_0
              target: split_27.in_0
            - source: merge_4.out_0
              target: split_5.in_0
            - source: merge_6.out_0
              target: split_7.in_0
            - source: merge_8.out_0
              target: split_9.in_0
            - source: relbow_0.thru_0
              target: merge_1.in_0
            - source: relbow_0.thru_1
              target: qubits_free_0.in_0
            - source: relbow_1.thru_0
              target: qubits_free_1.in_0
            - source: s_0.thru_0
              target: z_1.thru_1
            - source: s_1.thru_0
              target: x_4.thru_0
            - source: s_inv_0.thru_0
              target: had_0.thru_0
            - source: s_inv_1.thru_0
              target: had_2.thru_0
            - source: split_0.out_0
              target: relbow_0.thru_0
            - source: split_0.out_remainder
              target: merge_1.in_remainder
            - source: split_11.out_0
              target: x_1.thru_0
            - source: split_11.out_remainder
              target: merge_12.in_remainder
            - source: split_13.out_0
              target: merge_16.in_0
            - source: split_13.out_1
              target: merge_16.in_1
            - source: split_13.out_2
              target: merge_16.in_2
            - source: split_13.out_3
              target: merge_16.in_3
            - source: split_14.out_0
              target: z_1.thru_0
            - source: split_14.out_remainder
              target: merge_15.in_remainder
            - source: split_17.out_0
              target: x_2.thru_0
            - source: split_17.out_remainder
              target: merge_18.in_remainder
            - source: split_19.out_0
              target: merge_20.in_0
            - source: split_19.out_1
              target: merge_20.in_1
            - source: split_19.out_2
              target: merge_20.in_2
            - source: split_19.out_3
              target: merge_20.in_3
            - source: split_21.out_0
              target: GidneyAdd_uncompute_0.in_0
            - source: split_21.out_remainder
              target: merge_22.in_remainder
            - source: split_23.out_0
              target: merge_24.in_0
            - source: split_23.out_1
              target: merge_24.in_1
            - source: split_23.out_2
              target: merge_24.in_2
            - source: split_23.out_3
              target: merge_24.in_3
            - source: split_25.out_0
              target: x_3.thru_0
            - source: split_25.out_remainder
              target: merge_26.in_remainder
            - source: split_27.out_0
              target: RotationCatalystStatePrep_uncompute_0.thru_0
            - source: split_27.out_1
              target: RotationCatalystStatePrep_uncompute_0.thru_1
            - source: split_27.out_2
              target: RotationCatalystStatePrep_uncompute_0.thru_2
            - source: split_27.out_3
              target: RotationCatalystStatePrep_uncompute_0.thru_3
            - source: split_3.out_0
              target: x_0.thru_0
            - source: split_3.out_remainder
              target: merge_4.in_remainder
            - source: split_5.out_0
              target: merge_6.in_0
            - source: split_5.out_1
              target: merge_6.in_1
            - source: split_5.out_2
              target: merge_6.in_2
            - source: split_5.out_3
              target: merge_6.in_3
            - source: split_7.out_0
              target: GidneyAdd_compute_0.in_0
            - source: split_7.out_remainder
              target: merge_8.in_remainder
            - source: split_9.out_0
              target: merge_10.in_0
            - source: split_9.out_1
              target: merge_10.in_1
            - source: split_9.out_2
              target: merge_10.in_2
            - source: split_9.out_3
              target: merge_10.in_3
            - source: x_0.thru_0
              target: merge_4.in_0
            - source: x_0.thru_1
              target: x_1.thru_1
            - source: x_1.thru_0
              target: merge_12.in_0
            - source: x_1.thru_1
              target: had_1.thru_0
            - source: x_2.thru_0
              target: merge_18.in_0
            - source: x_2.thru_1
              target: x_3.thru_1
            - source: x_3.thru_0
              target: merge_26.in_0
            - source: x_3.thru_1
              target: had_3.thru_0
            - source: x_4.thru_0
              target: relbow_1.thru_0
            - source: z_0.thru_0
              target: Repeated_had_1_repetition.in_1
            - source: z_0.thru_1
              target: s_inv_0.thru_0
            - source: z_1.thru_0
              target: merge_15.in_0
            - source: z_1.thru_1
              target: s_inv_1.thru_0
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params:
            - source: M_r
              targets:
              - CompareLT_compute_0.M_r
              - split_0.M_r
              - relbow_0.M_r
              - merge_1.M_r
              - CompareLT_uncompute_0.M_r
              - qubits_free_0.M_r
              - Contiguizer_compute_0.M_r
              - Repeated_had_0_repetition.M_r
              - z_0.M_r
              - Repeated_had_1_repetition.M_r
              - CompareLT_compute_1.M_r
              - s_inv_0.M_r
              - had_0.M_r
              - merge_2.M_r
              - split_3.M_r
              - x_0.M_r
              - merge_4.M_r
              - split_5.M_r
              - merge_6.M_r
              - split_7.M_r
              - GidneyAdd_compute_0.M_r
              - merge_8.M_r
              - split_9.M_r
              - merge_10.M_r
              - split_11.M_r
              - x_1.M_r
              - merge_12.M_r
              - split_13.M_r
              - had_1.M_r
              - s_0.M_r
              - split_14.M_r
              - z_1.M_r
              - merge_15.M_r
              - s_inv_1.M_r
              - had_2.M_r
              - merge_16.M_r
              - split_17.M_r
              - x_2.M_r
              - merge_18.M_r
              - split_19.M_r
              - merge_20.M_r
              - split_21.M_r
              - GidneyAdd_uncompute_0.M_r
              - merge_22.M_r
              - split_23.M_r
              - merge_24.M_r
              - split_25.M_r
              - x_3.M_r
              - merge_26.M_r
              - split_27.M_r
              - had_3.M_r
              - s_1.M_r
              - CompareLT_uncompute_1.M_r
              - Repeated_had_2_repetition.M_r
              - Contiguizer_uncompute_0.M_r
              - RotationCatalystStatePrep_uncompute_0.M_r
              - x_4.M_r
              - relbow_1.M_r
              - qubits_free_1.M_r
            - source: N_spatial
              targets:
              - CompareLT_compute_0.N_spatial
              - split_0.N_spatial
              - relbow_0.N_spatial
              - merge_1.N_spatial
              - CompareLT_uncompute_0.N_spatial
              - qubits_free_0.N_spatial
              - Contiguizer_compute_0.N_spatial
              - Repeated_had_0_repetition.N_spatial
              - z_0.N_spatial
              - Repeated_had_1_repetition.N_spatial
              - CompareLT_compute_1.N_spatial
              - s_inv_0.N_spatial
              - had_0.N_spatial
              - merge_2.N_spatial
              - split_3.N_spatial
              - x_0.N_spatial
              - merge_4.N_spatial
              - split_5.N_spatial
              - merge_6.N_spatial
              - split_7.N_spatial
              - GidneyAdd_compute_0.N_spatial
              - merge_8.N_spatial
              - split_9.N_spatial
              - merge_10.N_spatial
              - split_11.N_spatial
              - x_1.N_spatial
              - merge_12.N_spatial
              - split_13.N_spatial
              - had_1.N_spatial
              - s_0.N_spatial
              - split_14.N_spatial
              - z_1.N_spatial
              - merge_15.N_spatial
              - s_inv_1.N_spatial
              - had_2.N_spatial
              - merge_16.N_spatial
              - split_17.N_spatial
              - x_2.N_spatial
              - merge_18.N_spatial
              - split_19.N_spatial
              - merge_20.N_spatial
              - split_21.N_spatial
              - GidneyAdd_uncompute_0.N_spatial
              - merge_22.N_spatial
              - split_23.N_spatial
              - merge_24.N_spatial
              - split_25.N_spatial
              - x_3.N_spatial
              - merge_26.N_spatial
              - split_27.N_spatial
              - had_3.N_spatial
              - s_1.N_spatial
              - CompareLT_uncompute_1.N_spatial
              - Repeated_had_2_repetition.N_spatial
              - Contiguizer_uncompute_0.N_spatial
              - RotationCatalystStatePrep_uncompute_0.N_spatial
              - x_4.N_spatial
              - relbow_1.N_spatial
              - qubits_free_1.N_spatial
            - source: R
              targets:
              - CompareLT_compute_0.R
              - split_0.R
              - relbow_0.R
              - merge_1.R
              - CompareLT_uncompute_0.R
              - qubits_free_0.R
              - Contiguizer_compute_0.R
              - Repeated_had_0_repetition.R
              - z_0.R
              - Repeated_had_1_repetition.R
              - CompareLT_compute_1.R
              - s_inv_0.R
              - had_0.R
              - merge_2.R
              - split_3.R
              - x_0.R
              - merge_4.R
              - split_5.R
              - merge_6.R
              - split_7.R
              - GidneyAdd_compute_0.R
              - merge_8.R
              - split_9.R
              - merge_10.R
              - split_11.R
              - x_1.R
              - merge_12.R
              - split_13.R
              - had_1.R
              - s_0.R
              - split_14.R
              - z_1.R
              - merge_15.R
              - s_inv_1.R
              - had_2.R
              - merge_16.R
              - split_17.R
              - x_2.R
              - merge_18.R
              - split_19.R
              - merge_20.R
              - split_21.R
              - GidneyAdd_uncompute_0.R
              - merge_22.R
              - split_23.R
              - merge_24.R
              - split_25.R
              - x_3.R
              - merge_26.R
              - split_27.R
              - had_3.R
              - s_1.R
              - CompareLT_uncompute_1.R
              - Repeated_had_2_repetition.R
              - Contiguizer_uncompute_0.R
              - RotationCatalystStatePrep_uncompute_0.R
              - x_4.R
              - relbow_1.R
              - qubits_free_1.R
            - source: b_as
              targets:
              - CompareLT_compute_0.b_as
              - split_0.b_as
              - relbow_0.b_as
              - merge_1.b_as
              - CompareLT_uncompute_0.b_as
              - qubits_free_0.b_as
              - Contiguizer_compute_0.b_as
              - Repeated_had_0_repetition.b_as
              - z_0.b_as
              - Repeated_had_1_repetition.b_as
              - CompareLT_compute_1.b_as
              - s_inv_0.b_as
              - had_0.b_as
              - merge_2.b_as
              - split_3.b_as
              - x_0.b_as
              - merge_4.b_as
              - split_5.b_as
              - merge_6.b_as
              - split_7.b_as
              - GidneyAdd_compute_0.b_as
              - merge_8.b_as
              - split_9.b_as
              - merge_10.b_as
              - split_11.b_as
              - x_1.b_as
              - merge_12.b_as
              - split_13.b_as
              - had_1.b_as
              - s_0.b_as
              - split_14.b_as
              - z_1.b_as
              - merge_15.b_as
              - s_inv_1.b_as
              - had_2.b_as
              - merge_16.b_as
              - split_17.b_as
              - x_2.b_as
              - merge_18.b_as
              - split_19.b_as
              - merge_20.b_as
              - split_21.b_as
              - GidneyAdd_uncompute_0.b_as
              - merge_22.b_as
              - split_23.b_as
              - merge_24.b_as
              - split_25.b_as
              - x_3.b_as
              - merge_26.b_as
              - split_27.b_as
              - had_3.b_as
              - s_1.b_as
              - CompareLT_uncompute_1.b_as
              - Repeated_had_2_repetition.b_as
              - Contiguizer_uncompute_0.b_as
              - RotationCatalystStatePrep_uncompute_0.b_as
              - x_4.b_as
              - relbow_1.b_as
              - qubits_free_1.b_as
            - source: b_givens
              targets:
              - CompareLT_compute_0.b_givens
              - split_0.b_givens
              - relbow_0.b_givens
              - merge_1.b_givens
              - CompareLT_uncompute_0.b_givens
              - qubits_free_0.b_givens
              - Contiguizer_compute_0.b_givens
              - Repeated_had_0_repetition.b_givens
              - z_0.b_givens
              - Repeated_had_1_repetition.b_givens
              - CompareLT_compute_1.b_givens
              - s_inv_0.b_givens
              - had_0.b_givens
              - merge_2.b_givens
              - split_3.b_givens
              - x_0.b_givens
              - merge_4.b_givens
              - split_5.b_givens
              - merge_6.b_givens
              - split_7.b_givens
              - GidneyAdd_compute_0.b_givens
              - merge_8.b_givens
              - split_9.b_givens
              - merge_10.b_givens
              - split_11.b_givens
              - x_1.b_givens
              - merge_12.b_givens
              - split_13.b_givens
              - had_1.b_givens
              - s_0.b_givens
              - split_14.b_givens
              - z_1.b_givens
              - merge_15.b_givens
              - s_inv_1.b_givens
              - had_2.b_givens
              - merge_16.b_givens
              - split_17.b_givens
              - x_2.b_givens
              - merge_18.b_givens
              - split_19.b_givens
              - merge_20.b_givens
              - split_21.b_givens
              - GidneyAdd_uncompute_0.b_givens
              - merge_22.b_givens
              - split_23.b_givens
              - merge_24.b_givens
              - split_25.b_givens
              - x_3.b_givens
              - merge_26.b_givens
              - split_27.b_givens
              - had_3.b_givens
              - s_1.b_givens
              - CompareLT_uncompute_1.b_givens
              - Repeated_had_2_repetition.b_givens
              - Contiguizer_uncompute_0.b_givens
              - RotationCatalystStatePrep_uncompute_0.b_givens
              - x_4.b_givens
              - relbow_1.b_givens
              - qubits_free_1.b_givens
            - source: b_mas
              targets:
              - CompareLT_compute_0.b_mas
              - split_0.b_mas
              - relbow_0.b_mas
              - merge_1.b_mas
              - CompareLT_uncompute_0.b_mas
              - qubits_free_0.b_mas
              - Contiguizer_compute_0.b_mas
              - Repeated_had_0_repetition.b_mas
              - z_0.b_mas
              - Repeated_had_1_repetition.b_mas
              - CompareLT_compute_1.b_mas
              - s_inv_0.b_mas
              - had_0.b_mas
              - merge_2.b_mas
              - split_3.b_mas
              - x_0.b_mas
              - merge_4.b_mas
              - split_5.b_mas
              - merge_6.b_mas
              - split_7.b_mas
              - GidneyAdd_compute_0.b_mas
              - merge_8.b_mas
              - split_9.b_mas
              - merge_10.b_mas
              - split_11.b_mas
              - x_1.b_mas
              - merge_12.b_mas
              - split_13.b_mas
              - had_1.b_mas
              - s_0.b_mas
              - split_14.b_mas
              - z_1.b_mas
              - merge_15.b_mas
              - s_inv_1.b_mas
              - had_2.b_mas
              - merge_16.b_mas
              - split_17.b_mas
              - x_2.b_mas
              - merge_18.b_mas
              - split_19.b_mas
              - merge_20.b_mas
              - split_21.b_mas
              - GidneyAdd_uncompute_0.b_mas
              - merge_22.b_mas
              - split_23.b_mas
              - merge_24.b_mas
              - split_25.b_mas
              - x_3.b_mas
              - merge_26.b_mas
              - split_27.b_mas
              - had_3.b_mas
              - s_1.b_mas
              - CompareLT_uncompute_1.b_mas
              - Repeated_had_2_repetition.b_mas
              - Contiguizer_uncompute_0.b_mas
              - RotationCatalystStatePrep_uncompute_0.b_mas
              - x_4.b_mas
              - relbow_1.b_mas
              - qubits_free_1.b_mas
            - source: idx
              targets:
              - CompareLT_compute_0.idx
              - split_0.idx
              - relbow_0.idx
              - merge_1.idx
              - CompareLT_uncompute_0.idx
              - qubits_free_0.idx
              - Contiguizer_compute_0.idx
              - Repeated_had_0_repetition.idx
              - z_0.idx
              - Repeated_had_1_repetition.idx
              - CompareLT_compute_1.idx
              - s_inv_0.idx
              - had_0.idx
              - merge_2.idx
              - split_3.idx
              - x_0.idx
              - merge_4.idx
              - split_5.idx
              - merge_6.idx
              - split_7.idx
              - GidneyAdd_compute_0.idx
              - merge_8.idx
              - split_9.idx
              - merge_10.idx
              - split_11.idx
              - x_1.idx
              - merge_12.idx
              - split_13.idx
              - had_1.idx
              - s_0.idx
              - split_14.idx
              - z_1.idx
              - merge_15.idx
              - s_inv_1.idx
              - had_2.idx
              - merge_16.idx
              - split_17.idx
              - x_2.idx
              - merge_18.idx
              - split_19.idx
              - merge_20.idx
              - split_21.idx
              - GidneyAdd_uncompute_0.idx
              - merge_22.idx
              - split_23.idx
              - merge_24.idx
              - split_25.idx
              - x_3.idx
              - merge_26.idx
              - split_27.idx
              - had_3.idx
              - s_1.idx
              - CompareLT_uncompute_1.idx
              - Repeated_had_2_repetition.idx
              - Contiguizer_uncompute_0.idx
              - RotationCatalystStatePrep_uncompute_0.idx
              - x_4.idx
              - relbow_1.idx
              - qubits_free_1.idx
            local_variables: {}
            meta: {}
            name: MultiplexedRealUSPDF_uncompute_0
            ports:
            - direction: input
              name: in_0
              size: null
            - direction: input
              name: in_1
              size: null
            - direction: input
              name: in_2
              size: null
            - direction: input
              name: in_3
              size: null
            - direction: input
              name: in_4
              size: null
            - direction: input
              name: in_5
              size: null
            - direction: input
              name: in_6
              size: null
            - direction: input
              name: in_7
              size: null
            - direction: input
              name: in_8
              size: null
            - direction: output
              name: out_0
              size: null
            - direction: output
              name: out_1
              size: null
            - direction: output
              name: out_2
              size: null
            - direction: output
              name: out_3
              size: null
            - direction: output
              name: out_4
              size: null
            - direction: output
              name: out_5
              size: null
            - direction: output
              name: out_6
              size: null
            repetition: null
            resources: []
            type: qubrick
          connections:
          - source: CompareLT_compute_0.out_0
            target: CompareLT_uncompute_0.in_0
          - source: CompareLT_compute_0.out_1
            target: CompareLT_uncompute_0.in_1
          - source: CompareLT_compute_0.out_2
            target: split_4.in_0
          - source: CompareLT_uncompute_0.out_0
            target: merge_7.in_0
          - source: CompareLT_uncompute_0.out_1
            target: had_0.thru_0
          - source: MultiplexedRealUSPDF_uncompute_0.out_0
            target: out_1
          - source: MultiplexedRealUSPDF_uncompute_0.out_1
            target: out_3
          - source: MultiplexedRealUSPDF_uncompute_0.out_2
            target: out_4
          - source: MultiplexedRealUSPDF_uncompute_0.out_3
            target: out_5
          - source: MultiplexedRealUSPDF_uncompute_0.out_4
            target: out_6
          - source: MultiplexedRealUSPDF_uncompute_0.out_5
            target: out_7
          - source: MultiplexedRealUSPDF_uncompute_0.out_6
            target: out_8
          - source: MultiplexedSparseDataLookupDF_uncompute_0.out_0
            target: out_2
          - source: MultiplexedSparseDataLookupDF_uncompute_0.out_1
            target: MultiplexedRealUSPDF_uncompute_0.in_6
          - source: had_0.thru_0
            target: qubits_free_1.in_0
          - source: in_0
            target: out_0
          - source: in_1
            target: split_0.in_0
          - source: in_10
            target: MultiplexedRealUSPDF_uncompute_0.in_5
          - source: in_11
            target: swap_0.thru_2
          - source: in_12
            target: MultiplexedRealUSPDF_uncompute_0.in_7
          - source: in_13
            target: out_9
          - source: in_14
            target: MultiplexedRealUSPDF_uncompute_0.in_8
          - source: in_2
            target: MultiplexedRealUSPDF_uncompute_0.in_0
          - source: in_3
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_1
          - source: in_4
            target: MultiplexedRealUSPDF_uncompute_0.in_1
          - source: in_5
            target: CompareLT_compute_0.in_1
          - source: in_6
            target: swap_0.thru_1
          - source: in_7
            target: MultiplexedRealUSPDF_uncompute_0.in_2
          - source: in_8
            target: MultiplexedRealUSPDF_uncompute_0.in_3
          - source: in_9
            target: MultiplexedRealUSPDF_uncompute_0.in_4
          - source: merge_1.out_0
            target: split_2.in_0
          - source: merge_5.out_0
            target: CompareLT_uncompute_0.in_2
          - source: merge_7.out_0
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_0
          - source: split_0.out_0
            target: swap_0.thru_0
          - source: split_0.out_remainder
            target: merge_1.in_remainder
          - source: split_2.out_0
            target: CompareLT_compute_0.in_0
          - source: split_2.out_remainder
            target: merge_7.in_remainder
          - source: split_4.out_0
            target: x_0.thru_1
          - source: split_4.out_remainder
            target: merge_5.in_remainder
          - source: swap_0.thru_0
            target: merge_1.in_0
          - source: swap_0.thru_1
            target: x_0.thru_0
          - source: swap_0.thru_2
            target: MultiplexedSparseDataLookupDF_uncompute_0.in_2
          - source: x_0.thru_0
            target: qubits_free_0.in_0
          - source: x_0.thru_1
            target: merge_5.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - split_0.M_r
            - swap_0.M_r
            - merge_1.M_r
            - split_2.M_r
            - CompareLT_compute_0.M_r
            - split_4.M_r
            - x_0.M_r
            - merge_5.M_r
            - CompareLT_uncompute_0.M_r
            - merge_7.M_r
            - qubits_free_0.M_r
            - had_0.M_r
            - qubits_free_1.M_r
            - MultiplexedSparseDataLookupDF_uncompute_0.M_r
            - MultiplexedRealUSPDF_uncompute_0.M_r
          - source: N_spatial
            targets:
            - split_0.N_spatial
            - swap_0.N_spatial
            - merge_1.N_spatial
            - split_2.N_spatial
            - CompareLT_compute_0.N_spatial
            - split_4.N_spatial
            - x_0.N_spatial
            - merge_5.N_spatial
            - CompareLT_uncompute_0.N_spatial
            - merge_7.N_spatial
            - qubits_free_0.N_spatial
            - had_0.N_spatial
            - qubits_free_1.N_spatial
            - MultiplexedSparseDataLookupDF_uncompute_0.N_spatial
            - MultiplexedRealUSPDF_uncompute_0.N_spatial
          - source: R
            targets:
            - split_0.R
            - swap_0.R
            - merge_1.R
            - split_2.R
            - CompareLT_compute_0.R
            - split_4.R
            - x_0.R
            - merge_5.R
            - CompareLT_uncompute_0.R
            - merge_7.R
            - qubits_free_0.R
            - had_0.R
            - qubits_free_1.R
            - MultiplexedSparseDataLookupDF_uncompute_0.R
            - MultiplexedRealUSPDF_uncompute_0.R
          - source: b_as
            targets:
            - split_0.b_as
            - swap_0.b_as
            - merge_1.b_as
            - split_2.b_as
            - CompareLT_compute_0.b_as
            - split_4.b_as
            - x_0.b_as
            - merge_5.b_as
            - CompareLT_uncompute_0.b_as
            - merge_7.b_as
            - qubits_free_0.b_as
            - had_0.b_as
            - qubits_free_1.b_as
            - MultiplexedSparseDataLookupDF_uncompute_0.b_as
            - MultiplexedRealUSPDF_uncompute_0.b_as
          - source: b_givens
            targets:
            - split_0.b_givens
            - swap_0.b_givens
            - merge_1.b_givens
            - split_2.b_givens
            - CompareLT_compute_0.b_givens
            - split_4.b_givens
            - x_0.b_givens
            - merge_5.b_givens
            - CompareLT_uncompute_0.b_givens
            - merge_7.b_givens
            - qubits_free_0.b_givens
            - had_0.b_givens
            - qubits_free_1.b_givens
            - MultiplexedSparseDataLookupDF_uncompute_0.b_givens
            - MultiplexedRealUSPDF_uncompute_0.b_givens
          - source: b_mas
            targets:
            - split_0.b_mas
            - swap_0.b_mas
            - merge_1.b_mas
            - split_2.b_mas
            - CompareLT_compute_0.b_mas
            - split_4.b_mas
            - x_0.b_mas
            - merge_5.b_mas
            - CompareLT_uncompute_0.b_mas
            - merge_7.b_mas
            - qubits_free_0.b_mas
            - had_0.b_mas
            - qubits_free_1.b_mas
            - MultiplexedSparseDataLookupDF_uncompute_0.b_mas
            - MultiplexedRealUSPDF_uncompute_0.b_mas
          - source: idx
            targets:
            - split_0.idx
            - swap_0.idx
            - merge_1.idx
            - split_2.idx
            - CompareLT_compute_0.idx
            - split_4.idx
            - x_0.idx
            - merge_5.idx
            - CompareLT_uncompute_0.idx
            - merge_7.idx
            - qubits_free_0.idx
            - had_0.idx
            - qubits_free_1.idx
            - MultiplexedSparseDataLookupDF_uncompute_0.idx
            - MultiplexedRealUSPDF_uncompute_0.idx
          local_variables: {}
          meta: {}
          name: MultiplexedAliasSamplingDF_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: input
            name: in_10
            size: null
          - direction: input
            name: in_11
            size: null
          - direction: input
            name: in_12
            size: null
          - direction: input
            name: in_13
            size: null
          - direction: input
            name: in_14
            size: null
          - direction: input
            name: in_2
            size: null
          - direction: input
            name: in_3
            size: null
          - direction: input
            name: in_4
            size: null
          - direction: input
            name: in_5
            size: null
          - direction: input
            name: in_6
            size: null
          - direction: input
            name: in_7
            size: null
          - direction: input
            name: in_8
            size: null
          - direction: input
            name: in_9
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          - direction: output
            name: out_2
            size: null
          - direction: output
            name: out_3
            size: null
          - direction: output
            name: out_4
            size: null
          - direction: output
            name: out_5
            size: null
          - direction: output
            name: out_6
            size: null
          - direction: output
            name: out_7
            size: null
          - direction: output
            name: out_8
            size: null
          - direction: output
            name: out_9
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '3'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: relbow_0
          ports:
          - direction: through
            name: thru_0
            size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 5*Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1.5, 0) + 49*(Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))) - 49*Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
          - name: gidney_lelbows
            type: additive
            value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
              - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
              + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))))
          - name: gidney_relbows
            type: additive
            value: Heaviside(Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R
              - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))) - 1.5, 0) + Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))) - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r))
              + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1)))
              + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))
          - name: local_ancillae
            type: qubits
            value: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
              - Min(2, Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
              + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
              + 1) - 1) + 2*M_r + 1))))
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: relbow
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: MultiplexedAliasSamplingDF_compute_0.out_0
          target: OneElectronTermSelect_compute_0.in_0
        - source: MultiplexedAliasSamplingDF_compute_0.out_1
          target: MultiplexedAliasSamplingDF_uncompute_0.in_1
        - source: MultiplexedAliasSamplingDF_compute_0.out_10
          target: OneElectronTermSelect_compute_0.in_8
        - source: MultiplexedAliasSamplingDF_compute_0.out_11
          target: OneElectronTermSelect_compute_0.in_9
        - source: MultiplexedAliasSamplingDF_compute_0.out_12
          target: MultiplexedAliasSamplingDF_uncompute_0.in_12
        - source: MultiplexedAliasSamplingDF_compute_0.out_13
          target: OneElectronTermSelect_compute_0.in_12
        - source: MultiplexedAliasSamplingDF_compute_0.out_14
          target: OneElectronTermSelect_compute_0.in_13
        - source: MultiplexedAliasSamplingDF_compute_0.out_2
          target: OneElectronTermSelect_compute_0.in_1
        - source: MultiplexedAliasSamplingDF_compute_0.out_3
          target: OneElectronTermSelect_compute_0.in_2
        - source: MultiplexedAliasSamplingDF_compute_0.out_4
          target: OneElectronTermSelect_compute_0.in_3
        - source: MultiplexedAliasSamplingDF_compute_0.out_5
          target: MultiplexedAliasSamplingDF_uncompute_0.in_5
        - source: MultiplexedAliasSamplingDF_compute_0.out_6
          target: MultiplexedAliasSamplingDF_uncompute_0.in_6
        - source: MultiplexedAliasSamplingDF_compute_0.out_7
          target: OneElectronTermSelect_compute_0.in_5
        - source: MultiplexedAliasSamplingDF_compute_0.out_8
          target: OneElectronTermSelect_compute_0.in_6
        - source: MultiplexedAliasSamplingDF_compute_0.out_9
          target: OneElectronTermSelect_compute_0.in_7
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_0
          target: out_0
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_1
          target: out_2
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_2
          target: out_3
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_3
          target: out_4
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_4
          target: out_5
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_5
          target: out_6
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_6
          target: out_7
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_7
          target: out_8
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_8
          target: out_10
        - source: MultiplexedAliasSamplingDF_uncompute_0.out_9
          target: had_1.thru_0
        - source: OneElectronTermSelect_compute_0.out_0
          target: MultiplexedAliasSamplingDF_uncompute_0.in_0
        - source: OneElectronTermSelect_compute_0.out_1
          target: MultiplexedAliasSamplingDF_uncompute_0.in_2
        - source: OneElectronTermSelect_compute_0.out_10
          target: MultiplexedAliasSamplingDF_uncompute_0.in_11
        - source: OneElectronTermSelect_compute_0.out_11
          target: out_11
        - source: OneElectronTermSelect_compute_0.out_12
          target: out_12
        - source: OneElectronTermSelect_compute_0.out_13
          target: MultiplexedAliasSamplingDF_uncompute_0.in_13
        - source: OneElectronTermSelect_compute_0.out_14
          target: MultiplexedAliasSamplingDF_uncompute_0.in_14
        - source: OneElectronTermSelect_compute_0.out_2
          target: MultiplexedAliasSamplingDF_uncompute_0.in_3
        - source: OneElectronTermSelect_compute_0.out_3
          target: MultiplexedAliasSamplingDF_uncompute_0.in_4
        - source: OneElectronTermSelect_compute_0.out_4
          target: relbow_0.thru_1
        - source: OneElectronTermSelect_compute_0.out_5
          target: MultiplexedAliasSamplingDF_uncompute_0.in_7
        - source: OneElectronTermSelect_compute_0.out_6
          target: MultiplexedAliasSamplingDF_uncompute_0.in_8
        - source: OneElectronTermSelect_compute_0.out_7
          target: MultiplexedAliasSamplingDF_uncompute_0.in_9
        - source: OneElectronTermSelect_compute_0.out_8
          target: MultiplexedAliasSamplingDF_uncompute_0.in_10
        - source: OneElectronTermSelect_compute_0.out_9
          target: out_9
        - source: had_0.thru_0
          target: MultiplexedAliasSamplingDF_compute_0.in_8
        - source: had_1.thru_0
          target: out_13
        - source: in_0
          target: MultiplexedAliasSamplingDF_compute_0.in_0
        - source: in_1
          target: lelbow_0.thru_0
        - source: in_10
          target: OneElectronTermSelect_compute_0.in_11
        - source: in_11
          target: had_0.thru_0
        - source: in_2
          target: MultiplexedAliasSamplingDF_compute_0.in_1
        - source: in_3
          target: MultiplexedAliasSamplingDF_compute_0.in_2
        - source: in_4
          target: MultiplexedAliasSamplingDF_compute_0.in_3
        - source: in_5
          target: MultiplexedAliasSamplingDF_compute_0.in_4
        - source: in_6
          target: MultiplexedAliasSamplingDF_compute_0.in_5
        - source: in_7
          target: MultiplexedAliasSamplingDF_compute_0.in_6
        - source: in_8
          target: MultiplexedAliasSamplingDF_compute_0.in_7
        - source: in_9
          target: OneElectronTermSelect_compute_0.in_10
        - source: lelbow_0.thru_0
          target: relbow_0.thru_0
        - source: lelbow_0.thru_1
          target: OneElectronTermSelect_compute_0.in_4
        - source: qubits_alloc_0.out_0
          target: lelbow_0.thru_1
        - source: relbow_0.thru_0
          target: out_1
        - source: relbow_0.thru_1
          target: qubits_free_0.in_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - lelbow_0.M_r
          - had_0.M_r
          - MultiplexedAliasSamplingDF_compute_0.M_r
          - OneElectronTermSelect_compute_0.M_r
          - MultiplexedAliasSamplingDF_uncompute_0.M_r
          - had_1.M_r
          - relbow_0.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - lelbow_0.N_spatial
          - had_0.N_spatial
          - MultiplexedAliasSamplingDF_compute_0.N_spatial
          - OneElectronTermSelect_compute_0.N_spatial
          - MultiplexedAliasSamplingDF_uncompute_0.N_spatial
          - had_1.N_spatial
          - relbow_0.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - lelbow_0.R
          - had_0.R
          - MultiplexedAliasSamplingDF_compute_0.R
          - OneElectronTermSelect_compute_0.R
          - MultiplexedAliasSamplingDF_uncompute_0.R
          - had_1.R
          - relbow_0.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - lelbow_0.b_as
          - had_0.b_as
          - MultiplexedAliasSamplingDF_compute_0.b_as
          - OneElectronTermSelect_compute_0.b_as
          - MultiplexedAliasSamplingDF_uncompute_0.b_as
          - had_1.b_as
          - relbow_0.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - lelbow_0.b_givens
          - had_0.b_givens
          - MultiplexedAliasSamplingDF_compute_0.b_givens
          - OneElectronTermSelect_compute_0.b_givens
          - MultiplexedAliasSamplingDF_uncompute_0.b_givens
          - had_1.b_givens
          - relbow_0.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - lelbow_0.b_mas
          - had_0.b_mas
          - MultiplexedAliasSamplingDF_compute_0.b_mas
          - OneElectronTermSelect_compute_0.b_mas
          - MultiplexedAliasSamplingDF_uncompute_0.b_mas
          - had_1.b_mas
          - relbow_0.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - lelbow_0.idx
          - had_0.idx
          - MultiplexedAliasSamplingDF_compute_0.idx
          - OneElectronTermSelect_compute_0.idx
          - MultiplexedAliasSamplingDF_uncompute_0.idx
          - had_1.idx
          - relbow_0.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: OneElectronTermBlockEncoding_compute_1
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: input
          name: in_10
          size: null
        - direction: input
          name: in_11
          size: null
        - direction: input
          name: in_2
          size: null
        - direction: input
          name: in_3
          size: null
        - direction: input
          name: in_4
          size: null
        - direction: input
          name: in_5
          size: null
        - direction: input
          name: in_6
          size: null
        - direction: input
          name: in_7
          size: null
        - direction: input
          name: in_8
          size: null
        - direction: input
          name: in_9
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        - direction: output
          name: out_10
          size: null
        - direction: output
          name: out_11
          size: null
        - direction: output
          name: out_12
          size: null
        - direction: output
          name: out_13
          size: null
        - direction: output
          name: out_2
          size: null
        - direction: output
          name: out_3
          size: null
        - direction: output
          name: out_4
          size: null
        - direction: output
          name: out_5
          size: null
        - direction: output
          name: out_6
          size: null
        - direction: output
          name: out_7
          size: null
        - direction: output
          name: out_8
          size: null
        - direction: output
          name: out_9
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_7
        ports:
        - direction: input
          name: in_0
          size: Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
        - direction: input
          name: in_1
          size: M_r - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1)
            + 2**(ceiling(log2(M_r)) + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas
            + 1) - 1) + 2*M_r + 1))) + 1
        - direction: input
          name: in_2
          size: M_r*(R - 1)
        - direction: input
          name: in_3
          size: b_mas
        - direction: input
          name: in_remainder
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))-(Mod(1,
            ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))))-(M_r
            - Mod(1, ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1)))
            + 1)-(M_r*(R - 1))-(b_mas)
        - direction: output
          name: out_0
          size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
            + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
        repetition: null
        resources: []
        type: merge
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: read_0
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: read
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(2**(ceiling(log2(M_r)) + 1)*M_r*(R - 1) + 2**(ceiling(log2(M_r))
              + ceiling(log2(M_r*(R - 1))) + 1)*(2**(b_mas + 1) - 1) + 2*M_r + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: calc_lambda(R, 1)
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R, 1)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: calc_lambda(R, 1)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_1
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: calc_lambda(R, 1)-(1)
          - direction: output
            name: out_0
            size: calc_lambda(R, 1)
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_2
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(calc_lambda(R, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, 1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 48*calc_lambda(R, 1) - 48
            - name: gidney_lelbows
              type: additive
              value: calc_lambda(R, 1) - 1
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: BinaryToUnaryUncomputation_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_3
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(calc_lambda(R, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, 1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: calc_lambda(R, 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*calc_lambda(R, 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_4
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R,
              1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, 1))) - 1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, 1))) - 1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: (ceiling(0.75*calc_lambda(R, 1)) + 49)*Max(0, -select_elbow_const(ceiling(R/calc_lambda(R,
                1)), 0) + ceiling(R/calc_lambda(R, 1)))
            - name: gidney_lelbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/calc_lambda(R, 1)), 0) +
                ceiling(R/calc_lambda(R, 1)))
            - name: gidney_relbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling(R/calc_lambda(R, 1)), 0) +
                ceiling(R/calc_lambda(R, 1)))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: qubits_alloc_0.out_0
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - qubits_free_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - qubits_free_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - qubits_free_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - qubits_free_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - qubits_free_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - qubits_free_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - qubits_free_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: GoogleSelectOptimized_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_5
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R,
              1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_2
          ports:
          - direction: through
            name: thru_0
            size: calc_lambda(R, 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*calc_lambda(R, 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_6
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(calc_lambda(R, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, 1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 48*calc_lambda(R, 1) - 48
            - name: gidney_relbows
              type: additive
              value: calc_lambda(R, 1) - 1
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: BinaryToUnaryUncomputation_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_7
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(calc_lambda(R, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R, 1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_8
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R, 1)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: calc_lambda(R, 1)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_9
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: calc_lambda(R, 1)-(1)
          - direction: output
            name: out_0
            size: calc_lambda(R, 1)
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_1
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R, 1)
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: BinaryToUnaryUncomputation_compute_0.out_0
          target: merge_3.in_0
        - source: BinaryToUnaryUncomputation_compute_0.out_1
          target: had_1.thru_0
        - source: BinaryToUnaryUncomputation_uncompute_0.out_0
          target: merge_7.in_0
        - source: BinaryToUnaryUncomputation_uncompute_0.out_1
          target: split_8.in_0
        - source: GoogleSelectOptimized_compute_0.out_0
          target: merge_5.in_0
        - source: GoogleSelectOptimized_compute_0.out_1
          target: had_2.thru_0
        - source: had_0.thru_0
          target: read_0.thru_0
        - source: had_1.thru_0
          target: GoogleSelectOptimized_compute_0.in_1
        - source: had_2.thru_0
          target: BinaryToUnaryUncomputation_uncompute_0.in_1
        - source: in_0
          target: split_2.in_0
        - source: in_1
          target: had_0.thru_0
        - source: merge_1.out_0
          target: BinaryToUnaryUncomputation_compute_0.in_1
        - source: merge_3.out_0
          target: split_4.in_0
        - source: merge_5.out_0
          target: split_6.in_0
        - source: merge_7.out_0
          target: out_0
        - source: merge_9.out_0
          target: qubits_free_1.in_0
        - source: qubits_alloc_0.out_0
          target: split_0.in_0
        - source: read_0.thru_0
          target: qubits_free_0.in_0
        - source: split_0.out_0
          target: x_0.thru_0
        - source: split_0.out_remainder
          target: merge_1.in_remainder
        - source: split_2.out_0
          target: BinaryToUnaryUncomputation_compute_0.in_0
        - source: split_2.out_remainder
          target: merge_3.in_remainder
        - source: split_4.out_0
          target: GoogleSelectOptimized_compute_0.in_0
        - source: split_4.out_remainder
          target: merge_5.in_remainder
        - source: split_6.out_0
          target: BinaryToUnaryUncomputation_uncompute_0.in_0
        - source: split_6.out_remainder
          target: merge_7.in_remainder
        - source: split_8.out_0
          target: x_1.thru_0
        - source: split_8.out_remainder
          target: merge_9.in_remainder
        - source: x_0.thru_0
          target: merge_1.in_0
        - source: x_1.thru_0
          target: merge_9.in_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - had_0.M_r
          - read_0.M_r
          - qubits_free_0.M_r
          - qubits_alloc_0.M_r
          - split_0.M_r
          - x_0.M_r
          - merge_1.M_r
          - split_2.M_r
          - BinaryToUnaryUncomputation_compute_0.M_r
          - merge_3.M_r
          - had_1.M_r
          - split_4.M_r
          - GoogleSelectOptimized_compute_0.M_r
          - merge_5.M_r
          - had_2.M_r
          - split_6.M_r
          - BinaryToUnaryUncomputation_uncompute_0.M_r
          - merge_7.M_r
          - split_8.M_r
          - x_1.M_r
          - merge_9.M_r
          - qubits_free_1.M_r
        - source: N_spatial
          targets:
          - had_0.N_spatial
          - read_0.N_spatial
          - qubits_free_0.N_spatial
          - qubits_alloc_0.N_spatial
          - split_0.N_spatial
          - x_0.N_spatial
          - merge_1.N_spatial
          - split_2.N_spatial
          - BinaryToUnaryUncomputation_compute_0.N_spatial
          - merge_3.N_spatial
          - had_1.N_spatial
          - split_4.N_spatial
          - GoogleSelectOptimized_compute_0.N_spatial
          - merge_5.N_spatial
          - had_2.N_spatial
          - split_6.N_spatial
          - BinaryToUnaryUncomputation_uncompute_0.N_spatial
          - merge_7.N_spatial
          - split_8.N_spatial
          - x_1.N_spatial
          - merge_9.N_spatial
          - qubits_free_1.N_spatial
        - source: R
          targets:
          - had_0.R
          - read_0.R
          - qubits_free_0.R
          - qubits_alloc_0.R
          - split_0.R
          - x_0.R
          - merge_1.R
          - split_2.R
          - BinaryToUnaryUncomputation_compute_0.R
          - merge_3.R
          - had_1.R
          - split_4.R
          - GoogleSelectOptimized_compute_0.R
          - merge_5.R
          - had_2.R
          - split_6.R
          - BinaryToUnaryUncomputation_uncompute_0.R
          - merge_7.R
          - split_8.R
          - x_1.R
          - merge_9.R
          - qubits_free_1.R
        - source: b_as
          targets:
          - had_0.b_as
          - read_0.b_as
          - qubits_free_0.b_as
          - qubits_alloc_0.b_as
          - split_0.b_as
          - x_0.b_as
          - merge_1.b_as
          - split_2.b_as
          - BinaryToUnaryUncomputation_compute_0.b_as
          - merge_3.b_as
          - had_1.b_as
          - split_4.b_as
          - GoogleSelectOptimized_compute_0.b_as
          - merge_5.b_as
          - had_2.b_as
          - split_6.b_as
          - BinaryToUnaryUncomputation_uncompute_0.b_as
          - merge_7.b_as
          - split_8.b_as
          - x_1.b_as
          - merge_9.b_as
          - qubits_free_1.b_as
        - source: b_givens
          targets:
          - had_0.b_givens
          - read_0.b_givens
          - qubits_free_0.b_givens
          - qubits_alloc_0.b_givens
          - split_0.b_givens
          - x_0.b_givens
          - merge_1.b_givens
          - split_2.b_givens
          - BinaryToUnaryUncomputation_compute_0.b_givens
          - merge_3.b_givens
          - had_1.b_givens
          - split_4.b_givens
          - GoogleSelectOptimized_compute_0.b_givens
          - merge_5.b_givens
          - had_2.b_givens
          - split_6.b_givens
          - BinaryToUnaryUncomputation_uncompute_0.b_givens
          - merge_7.b_givens
          - split_8.b_givens
          - x_1.b_givens
          - merge_9.b_givens
          - qubits_free_1.b_givens
        - source: b_mas
          targets:
          - had_0.b_mas
          - read_0.b_mas
          - qubits_free_0.b_mas
          - qubits_alloc_0.b_mas
          - split_0.b_mas
          - x_0.b_mas
          - merge_1.b_mas
          - split_2.b_mas
          - BinaryToUnaryUncomputation_compute_0.b_mas
          - merge_3.b_mas
          - had_1.b_mas
          - split_4.b_mas
          - GoogleSelectOptimized_compute_0.b_mas
          - merge_5.b_mas
          - had_2.b_mas
          - split_6.b_mas
          - BinaryToUnaryUncomputation_uncompute_0.b_mas
          - merge_7.b_mas
          - split_8.b_mas
          - x_1.b_mas
          - merge_9.b_mas
          - qubits_free_1.b_mas
        - source: idx
          targets:
          - had_0.idx
          - read_0.idx
          - qubits_free_0.idx
          - qubits_alloc_0.idx
          - split_0.idx
          - x_0.idx
          - merge_1.idx
          - split_2.idx
          - BinaryToUnaryUncomputation_compute_0.idx
          - merge_3.idx
          - had_1.idx
          - split_4.idx
          - GoogleSelectOptimized_compute_0.idx
          - merge_5.idx
          - had_2.idx
          - split_6.idx
          - BinaryToUnaryUncomputation_uncompute_0.idx
          - merge_7.idx
          - split_8.idx
          - x_1.idx
          - merge_9.idx
          - qubits_free_1.idx
        local_variables: {}
        meta: {}
        name: DataLookupClean_uncompute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      connections:
      - source: DataLookupClean_compute_0.out_0
        target: OneElectronTermBlockEncoding_compute_0.in_0
      - source: DataLookupClean_compute_0.out_1
        target: split_0.in_0
      - source: DataLookupClean_uncompute_0.out_0
        target: out_0
      - source: OneElectronTermBlockEncoding_compute_0.out_0
        target: OneElectronTermBlockEncoding_compute_1.in_0
      - source: OneElectronTermBlockEncoding_compute_0.out_1
        target: merge_1.in_0
      - source: OneElectronTermBlockEncoding_compute_0.out_10
        target: merge_3.in_1
      - source: OneElectronTermBlockEncoding_compute_0.out_2
        target: merge_1.in_1
      - source: OneElectronTermBlockEncoding_compute_0.out_3
        target: merge_1.in_2
      - source: OneElectronTermBlockEncoding_compute_0.out_4
        target: OneElectronTermBlockEncoding_compute_1.in_5
      - source: OneElectronTermBlockEncoding_compute_0.out_5
        target: OneElectronTermBlockEncoding_compute_1.in_6
      - source: OneElectronTermBlockEncoding_compute_0.out_6
        target: OneElectronTermBlockEncoding_compute_1.in_7
      - source: OneElectronTermBlockEncoding_compute_0.out_7
        target: merge_3.in_0
      - source: OneElectronTermBlockEncoding_compute_0.out_8
        target: OneElectronTermBlockEncoding_compute_1.in_9
      - source: OneElectronTermBlockEncoding_compute_0.out_9
        target: OneElectronTermBlockEncoding_compute_1.in_10
      - source: OneElectronTermBlockEncoding_compute_1.out_0
        target: DataLookupClean_uncompute_0.in_0
      - source: OneElectronTermBlockEncoding_compute_1.out_1
        target: merge_7.in_0
      - source: OneElectronTermBlockEncoding_compute_1.out_10
        target: out_6
      - source: OneElectronTermBlockEncoding_compute_1.out_11
        target: out_7
      - source: OneElectronTermBlockEncoding_compute_1.out_12
        target: out_8
      - source: OneElectronTermBlockEncoding_compute_1.out_13
        target: out_9
      - source: OneElectronTermBlockEncoding_compute_1.out_2
        target: merge_7.in_1
      - source: OneElectronTermBlockEncoding_compute_1.out_3
        target: merge_7.in_2
      - source: OneElectronTermBlockEncoding_compute_1.out_4
        target: merge_7.in_3
      - source: OneElectronTermBlockEncoding_compute_1.out_5
        target: out_1
      - source: OneElectronTermBlockEncoding_compute_1.out_6
        target: out_2
      - source: OneElectronTermBlockEncoding_compute_1.out_7
        target: out_3
      - source: OneElectronTermBlockEncoding_compute_1.out_8
        target: out_4
      - source: OneElectronTermBlockEncoding_compute_1.out_9
        target: out_5
      - source: in_0
        target: DataLookupClean_compute_0.in_0
      - source: in_1
        target: OneElectronTermBlockEncoding_compute_0.in_4
      - source: in_2
        target: OneElectronTermBlockEncoding_compute_0.in_5
      - source: in_3
        target: OneElectronTermBlockEncoding_compute_0.in_6
      - source: in_4
        target: OneElectronTermBlockEncoding_compute_0.in_7
      - source: in_5
        target: OneElectronTermBlockEncoding_compute_0.in_8
      - source: merge_1.out_0
        target: split_2.in_0
      - source: merge_3.out_0
        target: z_0.thru_0
      - source: merge_5.out_0
        target: split_6.in_0
      - source: merge_7.out_0
        target: DataLookupClean_uncompute_0.in_1
      - source: split_0.out_0
        target: OneElectronTermBlockEncoding_compute_0.in_1
      - source: split_0.out_1
        target: OneElectronTermBlockEncoding_compute_0.in_2
      - source: split_0.out_2
        target: OneElectronTermBlockEncoding_compute_0.in_3
      - source: split_0.out_remainder
        target: merge_1.in_remainder
      - source: split_2.out_0
        target: z_0.thru_1
      - source: split_2.out_remainder
        target: merge_5.in_remainder
      - source: split_4.out_0
        target: OneElectronTermBlockEncoding_compute_1.in_8
      - source: split_4.out_1
        target: OneElectronTermBlockEncoding_compute_1.in_11
      - source: split_6.out_0
        target: OneElectronTermBlockEncoding_compute_1.in_1
      - source: split_6.out_1
        target: OneElectronTermBlockEncoding_compute_1.in_2
      - source: split_6.out_2
        target: OneElectronTermBlockEncoding_compute_1.in_3
      - source: split_6.out_3
        target: OneElectronTermBlockEncoding_compute_1.in_4
      - source: split_6.out_remainder
        target: merge_7.in_remainder
      - source: z_0.thru_0
        target: split_4.in_0
      - source: z_0.thru_1
        target: merge_5.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - DataLookupClean_compute_0.M_r
        - split_0.M_r
        - OneElectronTermBlockEncoding_compute_0.M_r
        - merge_1.M_r
        - split_2.M_r
        - merge_3.M_r
        - z_0.M_r
        - split_4.M_r
        - merge_5.M_r
        - split_6.M_r
        - OneElectronTermBlockEncoding_compute_1.M_r
        - merge_7.M_r
        - DataLookupClean_uncompute_0.M_r
      - source: N_spatial
        targets:
        - DataLookupClean_compute_0.N_spatial
        - split_0.N_spatial
        - OneElectronTermBlockEncoding_compute_0.N_spatial
        - merge_1.N_spatial
        - split_2.N_spatial
        - merge_3.N_spatial
        - z_0.N_spatial
        - split_4.N_spatial
        - merge_5.N_spatial
        - split_6.N_spatial
        - OneElectronTermBlockEncoding_compute_1.N_spatial
        - merge_7.N_spatial
        - DataLookupClean_uncompute_0.N_spatial
      - source: R
        targets:
        - DataLookupClean_compute_0.R
        - split_0.R
        - OneElectronTermBlockEncoding_compute_0.R
        - merge_1.R
        - split_2.R
        - merge_3.R
        - z_0.R
        - split_4.R
        - merge_5.R
        - split_6.R
        - OneElectronTermBlockEncoding_compute_1.R
        - merge_7.R
        - DataLookupClean_uncompute_0.R
      - source: b_as
        targets:
        - DataLookupClean_compute_0.b_as
        - split_0.b_as
        - OneElectronTermBlockEncoding_compute_0.b_as
        - merge_1.b_as
        - split_2.b_as
        - merge_3.b_as
        - z_0.b_as
        - split_4.b_as
        - merge_5.b_as
        - split_6.b_as
        - OneElectronTermBlockEncoding_compute_1.b_as
        - merge_7.b_as
        - DataLookupClean_uncompute_0.b_as
      - source: b_givens
        targets:
        - DataLookupClean_compute_0.b_givens
        - split_0.b_givens
        - OneElectronTermBlockEncoding_compute_0.b_givens
        - merge_1.b_givens
        - split_2.b_givens
        - merge_3.b_givens
        - z_0.b_givens
        - split_4.b_givens
        - merge_5.b_givens
        - split_6.b_givens
        - OneElectronTermBlockEncoding_compute_1.b_givens
        - merge_7.b_givens
        - DataLookupClean_uncompute_0.b_givens
      - source: b_mas
        targets:
        - DataLookupClean_compute_0.b_mas
        - split_0.b_mas
        - OneElectronTermBlockEncoding_compute_0.b_mas
        - merge_1.b_mas
        - split_2.b_mas
        - merge_3.b_mas
        - z_0.b_mas
        - split_4.b_mas
        - merge_5.b_mas
        - split_6.b_mas
        - OneElectronTermBlockEncoding_compute_1.b_mas
        - merge_7.b_mas
        - DataLookupClean_uncompute_0.b_mas
      - source: idx
        targets:
        - DataLookupClean_compute_0.idx
        - split_0.idx
        - OneElectronTermBlockEncoding_compute_0.idx
        - merge_1.idx
        - split_2.idx
        - merge_3.idx
        - z_0.idx
        - split_4.idx
        - merge_5.idx
        - split_6.idx
        - OneElectronTermBlockEncoding_compute_1.idx
        - merge_7.idx
        - DataLookupClean_uncompute_0.idx
      local_variables: {}
      meta: {}
      name: DoubleFactorizationSelect_compute_0
      ports:
      - direction: input
        name: in_0
        size: null
      - direction: input
        name: in_1
        size: null
      - direction: input
        name: in_2
        size: null
      - direction: input
        name: in_3
        size: null
      - direction: input
        name: in_4
        size: null
      - direction: input
        name: in_5
        size: null
      - direction: output
        name: out_0
        size: null
      - direction: output
        name: out_1
        size: null
      - direction: output
        name: out_2
        size: null
      - direction: output
        name: out_3
        size: null
      - direction: output
        name: out_4
        size: null
      - direction: output
        name: out_5
        size: null
      - direction: output
        name: out_6
        size: null
      - direction: output
        name: out_7
        size: null
      - direction: output
        name: out_8
        size: null
      - direction: output
        name: out_9
        size: null
      repetition: null
      resources: []
      type: qubrick
    - children:
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_0
        ports:
        - direction: input
          name: in_0
          size: b_as + ceiling(log2(R + 1))
        - direction: output
          name: out_0
          size: ceiling(log2(R + 1))
        - direction: output
          name: out_remainder
          size: b_as + ceiling(log2(R + 1))-(ceiling(log2(R + 1)))
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: swap_0
        ports:
        - direction: through
          name: thru_0
          size: ceiling(log2(R + 1))
        - direction: through
          name: thru_1
          size: ceiling(log2(R + 1))
        - direction: through
          name: thru_2
          size: '1'
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: 55*ceiling(log2(R + 1))
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: ceiling(log2(R + 1))
        type: swap
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_1
        ports:
        - direction: input
          name: in_0
          size: ceiling(log2(R + 1))
        - direction: input
          name: in_remainder
          size: b_as + ceiling(log2(R + 1))-(ceiling(log2(R + 1)))
        - direction: output
          name: out_0
          size: b_as + ceiling(log2(R + 1))
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_2
        ports:
        - direction: input
          name: in_0
          size: b_as + ceiling(log2(R + 1))
        - direction: output
          name: out_0
          size: b_as
        - direction: output
          name: out_remainder
          size: b_as + ceiling(log2(R + 1))-(b_as)
        repetition: null
        resources: []
        type: split
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: b_as
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: cost_event
          ports: []
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 57*b_as - 60
          - name: gidney_lelbows
            type: additive
            value: b_as
          type: intrinsic_cost
        connections:
        - source: in_0
          target: out_0
        - source: in_1
          target: out_1
        - source: qubits_alloc_0.out_0
          target: out_2
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - cost_event.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - cost_event.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - cost_event.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - cost_event.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - cost_event.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - cost_event.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - cost_event.idx
        local_variables: {}
        meta: {}
        name: CompareGE_compute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        - direction: output
          name: out_2
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: split_4
        ports:
        - direction: input
          name: in_0
          size: b_as
        - direction: output
          name: out_0
          size: '1'
        - direction: output
          name: out_remainder
          size: b_as-(1)
        repetition: null
        resources: []
        type: split
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: x_0
        ports:
        - direction: through
          name: thru_0
          size: '1'
        - direction: through
          name: thru_1
          size: '1'
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: '4'
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: '0'
        type: x
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_5
        ports:
        - direction: input
          name: in_0
          size: '1'
        - direction: input
          name: in_remainder
          size: b_as-(1)
        - direction: output
          name: out_0
          size: b_as
        repetition: null
        resources: []
        type: merge
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: cost_event
          ports: []
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 57*b_as - 60
          - name: gidney_relbows
            type: additive
            value: b_as
          type: intrinsic_cost
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: b_as
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: in_0
          target: out_0
        - source: in_1
          target: out_1
        - source: in_2
          target: qubits_free_0.in_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - cost_event.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - cost_event.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - cost_event.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - cost_event.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - cost_event.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - cost_event.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - cost_event.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: CompareGE_uncompute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: input
          name: in_2
          size: null
        - direction: output
          name: out_0
          size: null
        - direction: output
          name: out_1
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: merge_7
        ports:
        - direction: input
          name: in_0
          size: b_as
        - direction: input
          name: in_remainder
          size: b_as + ceiling(log2(R + 1))-(b_as)
        - direction: output
          name: out_0
          size: b_as + ceiling(log2(R + 1))
        repetition: null
        resources: []
        type: merge
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: qubits_free_0
        ports:
        - direction: input
          name: in_0
          size: '1'
        repetition: null
        resources: []
        type: qubits_alloc
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: had_0
        ports:
        - direction: through
          name: thru_0
          size: b_as
        repetition: null
        resources:
        - name: active_volume
          type: additive
          value: 3*b_as
        - name: gidney_lelbows
          type: additive
          value: '0'
        - name: gidney_relbows
          type: additive
          value: '0'
        - name: measurements
          type: additive
          value: '0'
        - name: ppm_x_weight
          type: other
          value: '0'
        - name: ppm_z_weight
          type: other
          value: '0'
        - name: ppms
          type: additive
          value: '0'
        - name: ppr_x_weight
          type: other
          value: '0'
        - name: ppr_z_weight
          type: other
          value: '0'
        - name: pprs
          type: additive
          value: '0'
        - name: rotations
          type: additive
          value: '0'
        - name: t_gates
          type: additive
          value: '0'
        - name: toffs
          type: additive
          value: '0'
        type: had
      - children: []
        connections: []
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params: []
        local_variables: {}
        meta: {}
        name: qubits_free_1
        ports:
        - direction: input
          name: in_0
          size: b_as
        repetition: null
        resources: []
        type: qubits_alloc
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*b_as + 3*ceiling(log2(R + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: read_0
          ports:
          - direction: through
            name: thru_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: b_as + ceiling(log2(R + 1))
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: read
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: b_as + ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R + 1, 1)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: calc_lambda(R + 1, 1)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_1
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: calc_lambda(R + 1, 1)-(1)
          - direction: output
            name: out_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_2
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R + 1, 1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 48*calc_lambda(R + 1, 1) - 48
            - name: gidney_lelbows
              type: additive
              value: calc_lambda(R + 1, 1) - 1
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: BinaryToUnaryUncomputation_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_3
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R + 1, 1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*calc_lambda(R + 1, 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_4
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R
              + 1, 1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R + 1, 1))) -
                1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R + 1, 1))) -
                1
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: (ceiling(0.75*calc_lambda(R + 1, 1)) + 49)*Max(0, -select_elbow_const(ceiling((R
                + 1)/calc_lambda(R + 1, 1)), 0) + ceiling((R + 1)/calc_lambda(R +
                1, 1)))
            - name: gidney_lelbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling((R + 1)/calc_lambda(R + 1,
                1)), 0) + ceiling((R + 1)/calc_lambda(R + 1, 1)))
            - name: gidney_relbows
              type: additive
              value: Max(0, -select_elbow_const(ceiling((R + 1)/calc_lambda(R + 1,
                1)), 0) + ceiling((R + 1)/calc_lambda(R + 1, 1)))
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          - source: qubits_alloc_0.out_0
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - qubits_free_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - qubits_free_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - qubits_free_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - qubits_free_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - qubits_free_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - qubits_free_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - qubits_free_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: GoogleSelectOptimized_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_5
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - ceiling(log2(calc_lambda(R
              + 1, 1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_2
          ports:
          - direction: through
            name: thru_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*calc_lambda(R + 1, 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_6
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R + 1, 1))))
          repetition: null
          resources: []
          type: split
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 48*calc_lambda(R + 1, 1) - 48
            - name: gidney_relbows
              type: additive
              value: calc_lambda(R + 1, 1) - 1
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
          - source: R
            targets:
            - cost_event.R
          - source: b_as
            targets:
            - cost_event.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
          - source: idx
            targets:
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: BinaryToUnaryUncomputation_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_7
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(calc_lambda(R + 1, 1)))
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(calc_lambda(R + 1, 1))))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_8
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R + 1, 1)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: calc_lambda(R + 1, 1)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_9
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: calc_lambda(R + 1, 1)-(1)
          - direction: output
            name: out_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_1
          ports:
          - direction: input
            name: in_0
            size: calc_lambda(R + 1, 1)
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: BinaryToUnaryUncomputation_compute_0.out_0
          target: merge_3.in_0
        - source: BinaryToUnaryUncomputation_compute_0.out_1
          target: had_1.thru_0
        - source: BinaryToUnaryUncomputation_uncompute_0.out_0
          target: merge_7.in_0
        - source: BinaryToUnaryUncomputation_uncompute_0.out_1
          target: split_8.in_0
        - source: GoogleSelectOptimized_compute_0.out_0
          target: merge_5.in_0
        - source: GoogleSelectOptimized_compute_0.out_1
          target: had_2.thru_0
        - source: had_0.thru_0
          target: read_0.thru_0
        - source: had_1.thru_0
          target: GoogleSelectOptimized_compute_0.in_1
        - source: had_2.thru_0
          target: BinaryToUnaryUncomputation_uncompute_0.in_1
        - source: in_0
          target: split_2.in_0
        - source: in_1
          target: had_0.thru_0
        - source: merge_1.out_0
          target: BinaryToUnaryUncomputation_compute_0.in_1
        - source: merge_3.out_0
          target: split_4.in_0
        - source: merge_5.out_0
          target: split_6.in_0
        - source: merge_7.out_0
          target: out_0
        - source: merge_9.out_0
          target: qubits_free_1.in_0
        - source: qubits_alloc_0.out_0
          target: split_0.in_0
        - source: read_0.thru_0
          target: qubits_free_0.in_0
        - source: split_0.out_0
          target: x_0.thru_0
        - source: split_0.out_remainder
          target: merge_1.in_remainder
        - source: split_2.out_0
          target: BinaryToUnaryUncomputation_compute_0.in_0
        - source: split_2.out_remainder
          target: merge_3.in_remainder
        - source: split_4.out_0
          target: GoogleSelectOptimized_compute_0.in_0
        - source: split_4.out_remainder
          target: merge_5.in_remainder
        - source: split_6.out_0
          target: BinaryToUnaryUncomputation_uncompute_0.in_0
        - source: split_6.out_remainder
          target: merge_7.in_remainder
        - source: split_8.out_0
          target: x_1.thru_0
        - source: split_8.out_remainder
          target: merge_9.in_remainder
        - source: x_0.thru_0
          target: merge_1.in_0
        - source: x_1.thru_0
          target: merge_9.in_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - had_0.M_r
          - read_0.M_r
          - qubits_free_0.M_r
          - qubits_alloc_0.M_r
          - split_0.M_r
          - x_0.M_r
          - merge_1.M_r
          - split_2.M_r
          - BinaryToUnaryUncomputation_compute_0.M_r
          - merge_3.M_r
          - had_1.M_r
          - split_4.M_r
          - GoogleSelectOptimized_compute_0.M_r
          - merge_5.M_r
          - had_2.M_r
          - split_6.M_r
          - BinaryToUnaryUncomputation_uncompute_0.M_r
          - merge_7.M_r
          - split_8.M_r
          - x_1.M_r
          - merge_9.M_r
          - qubits_free_1.M_r
        - source: N_spatial
          targets:
          - had_0.N_spatial
          - read_0.N_spatial
          - qubits_free_0.N_spatial
          - qubits_alloc_0.N_spatial
          - split_0.N_spatial
          - x_0.N_spatial
          - merge_1.N_spatial
          - split_2.N_spatial
          - BinaryToUnaryUncomputation_compute_0.N_spatial
          - merge_3.N_spatial
          - had_1.N_spatial
          - split_4.N_spatial
          - GoogleSelectOptimized_compute_0.N_spatial
          - merge_5.N_spatial
          - had_2.N_spatial
          - split_6.N_spatial
          - BinaryToUnaryUncomputation_uncompute_0.N_spatial
          - merge_7.N_spatial
          - split_8.N_spatial
          - x_1.N_spatial
          - merge_9.N_spatial
          - qubits_free_1.N_spatial
        - source: R
          targets:
          - had_0.R
          - read_0.R
          - qubits_free_0.R
          - qubits_alloc_0.R
          - split_0.R
          - x_0.R
          - merge_1.R
          - split_2.R
          - BinaryToUnaryUncomputation_compute_0.R
          - merge_3.R
          - had_1.R
          - split_4.R
          - GoogleSelectOptimized_compute_0.R
          - merge_5.R
          - had_2.R
          - split_6.R
          - BinaryToUnaryUncomputation_uncompute_0.R
          - merge_7.R
          - split_8.R
          - x_1.R
          - merge_9.R
          - qubits_free_1.R
        - source: b_as
          targets:
          - had_0.b_as
          - read_0.b_as
          - qubits_free_0.b_as
          - qubits_alloc_0.b_as
          - split_0.b_as
          - x_0.b_as
          - merge_1.b_as
          - split_2.b_as
          - BinaryToUnaryUncomputation_compute_0.b_as
          - merge_3.b_as
          - had_1.b_as
          - split_4.b_as
          - GoogleSelectOptimized_compute_0.b_as
          - merge_5.b_as
          - had_2.b_as
          - split_6.b_as
          - BinaryToUnaryUncomputation_uncompute_0.b_as
          - merge_7.b_as
          - split_8.b_as
          - x_1.b_as
          - merge_9.b_as
          - qubits_free_1.b_as
        - source: b_givens
          targets:
          - had_0.b_givens
          - read_0.b_givens
          - qubits_free_0.b_givens
          - qubits_alloc_0.b_givens
          - split_0.b_givens
          - x_0.b_givens
          - merge_1.b_givens
          - split_2.b_givens
          - BinaryToUnaryUncomputation_compute_0.b_givens
          - merge_3.b_givens
          - had_1.b_givens
          - split_4.b_givens
          - GoogleSelectOptimized_compute_0.b_givens
          - merge_5.b_givens
          - had_2.b_givens
          - split_6.b_givens
          - BinaryToUnaryUncomputation_uncompute_0.b_givens
          - merge_7.b_givens
          - split_8.b_givens
          - x_1.b_givens
          - merge_9.b_givens
          - qubits_free_1.b_givens
        - source: b_mas
          targets:
          - had_0.b_mas
          - read_0.b_mas
          - qubits_free_0.b_mas
          - qubits_alloc_0.b_mas
          - split_0.b_mas
          - x_0.b_mas
          - merge_1.b_mas
          - split_2.b_mas
          - BinaryToUnaryUncomputation_compute_0.b_mas
          - merge_3.b_mas
          - had_1.b_mas
          - split_4.b_mas
          - GoogleSelectOptimized_compute_0.b_mas
          - merge_5.b_mas
          - had_2.b_mas
          - split_6.b_mas
          - BinaryToUnaryUncomputation_uncompute_0.b_mas
          - merge_7.b_mas
          - split_8.b_mas
          - x_1.b_mas
          - merge_9.b_mas
          - qubits_free_1.b_mas
        - source: idx
          targets:
          - had_0.idx
          - read_0.idx
          - qubits_free_0.idx
          - qubits_alloc_0.idx
          - split_0.idx
          - x_0.idx
          - merge_1.idx
          - split_2.idx
          - BinaryToUnaryUncomputation_compute_0.idx
          - merge_3.idx
          - had_1.idx
          - split_4.idx
          - GoogleSelectOptimized_compute_0.idx
          - merge_5.idx
          - had_2.idx
          - split_6.idx
          - BinaryToUnaryUncomputation_uncompute_0.idx
          - merge_7.idx
          - split_8.idx
          - x_1.idx
          - merge_9.idx
          - qubits_free_1.idx
        local_variables: {}
        meta: {}
        name: DataLookupClean_uncompute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: input
          name: in_1
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      - children:
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_alloc_0
          ports:
          - direction: output
            name: out_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: lelbow_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: lelbow
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: x_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: x
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_0
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: output
            name: out_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - nlz(R + 1))
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_0
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1)) - 3*nlz(R + 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: z_0
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 47*Heaviside(ceiling(log2(R + 1)) - nlz(R + 1) - 1.5, 0) + 49*ceiling(log2(R
              + 1)) - 49*nlz(R + 1) - 49*Min(2, ceiling(log2(R + 1)) - nlz(R + 1))
          - name: gidney_lelbows
            type: additive
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: gidney_relbows
            type: additive
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: local_ancillae
            type: qubits
            value: ceiling(log2(R + 1)) - nlz(R + 1) - Min(2, ceiling(log2(R + 1))
              - nlz(R + 1))
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: Heaviside(ceiling(log2(R + 1)) - nlz(R + 1) - 1.5, 0)
          type: z
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_1
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1)) - 3*nlz(R + 1)
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_5
          ports:
          - direction: input
            name: in_0
            size: ceiling(log2(R + 1)) - nlz(R + 1)
          - direction: input
            name: in_remainder
            size: ceiling(log2(R + 1))-(ceiling(log2(R + 1)) - nlz(R + 1))
          - direction: output
            name: out_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources: []
          type: merge
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: ry_0
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '1399'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '1'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: ry
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_alloc_0
            ports:
            - direction: output
              name: out_0
              size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
            repetition: null
            resources: []
            type: qubits_alloc
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 57*ceiling(log2(R + 1)) - 60
            - name: gidney_lelbows
              type: additive
              value: ((ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0))*Heaviside(nlz(Mod(R
                + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
            type: intrinsic_cost
          connections:
          - source: in_0
            target: out_0
          - source: qubits_alloc_0.out_0
            target: out_1
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - qubits_alloc_0.M_r
            - cost_event.M_r
          - source: N_spatial
            targets:
            - qubits_alloc_0.N_spatial
            - cost_event.N_spatial
          - source: R
            targets:
            - qubits_alloc_0.R
            - cost_event.R
          - source: b_as
            targets:
            - qubits_alloc_0.b_as
            - cost_event.b_as
          - source: b_givens
            targets:
            - qubits_alloc_0.b_givens
            - cost_event.b_givens
          - source: b_mas
            targets:
            - qubits_alloc_0.b_mas
            - cost_event.b_mas
          - source: idx
            targets:
            - qubits_alloc_0.idx
            - cost_event.idx
          local_variables: {}
          meta: {}
          name: CompareLT_compute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: output
            name: out_0
            size: null
          - direction: output
            name: out_1
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: split_6
          ports:
          - direction: input
            name: in_0
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
          - direction: output
            name: out_0
            size: '1'
          - direction: output
            name: out_remainder
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)-(1)
          repetition: null
          resources: []
          type: split
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: z_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          - direction: through
            name: thru_1
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '4'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: z
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: merge_7
          ports:
          - direction: input
            name: in_0
            size: '1'
          - direction: input
            name: in_remainder
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)-(1)
          - direction: output
            name: out_0
            size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
              - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0) +
              Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
          repetition: null
          resources: []
          type: merge
        - children:
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: cost_event
            ports: []
            repetition: null
            resources:
            - name: active_volume
              type: additive
              value: 57*ceiling(log2(R + 1)) - 60
            - name: gidney_relbows
              type: additive
              value: ((ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0))*Heaviside(nlz(Mod(R
                + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
            type: intrinsic_cost
          - children: []
            connections: []
            input_params:
            - b_mas
            - M_r
            - N_spatial
            - idx
            - R
            - b_givens
            - b_as
            linked_params: []
            local_variables: {}
            meta: {}
            name: qubits_free_0
            ports:
            - direction: input
              name: in_0
              size: (ceiling(log2(R + 1)) - nlz(Mod(R + 1, 2**ceiling(log2(R + 1))))
                - 1)*Heaviside(nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) + 0.5, 0)
                + Heaviside(-nlz(Mod(R + 1, 2**ceiling(log2(R + 1)))) - 0.5, 0)
            repetition: null
            resources: []
            type: qubits_alloc
          connections:
          - source: in_0
            target: out_0
          - source: in_1
            target: qubits_free_0.in_0
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params:
          - source: M_r
            targets:
            - cost_event.M_r
            - qubits_free_0.M_r
          - source: N_spatial
            targets:
            - cost_event.N_spatial
            - qubits_free_0.N_spatial
          - source: R
            targets:
            - cost_event.R
            - qubits_free_0.R
          - source: b_as
            targets:
            - cost_event.b_as
            - qubits_free_0.b_as
          - source: b_givens
            targets:
            - cost_event.b_givens
            - qubits_free_0.b_givens
          - source: b_mas
            targets:
            - cost_event.b_mas
            - qubits_free_0.b_mas
          - source: idx
            targets:
            - cost_event.idx
            - qubits_free_0.idx
          local_variables: {}
          meta: {}
          name: CompareLT_uncompute_0
          ports:
          - direction: input
            name: in_0
            size: null
          - direction: input
            name: in_1
            size: null
          - direction: output
            name: out_0
            size: null
          repetition: null
          resources: []
          type: qubrick
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: ry_1
          ports:
          - direction: through
            name: thru_0
            size: '1'
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: '1399'
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '1'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: ry
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: had_2
          ports:
          - direction: through
            name: thru_0
            size: ceiling(log2(R + 1))
          repetition: null
          resources:
          - name: active_volume
            type: additive
            value: 3*ceiling(log2(R + 1))
          - name: gidney_lelbows
            type: additive
            value: '0'
          - name: gidney_relbows
            type: additive
            value: '0'
          - name: measurements
            type: additive
            value: '0'
          - name: ppm_x_weight
            type: other
            value: '0'
          - name: ppm_z_weight
            type: other
            value: '0'
          - name: ppms
            type: additive
            value: '0'
          - name: ppr_x_weight
            type: other
            value: '0'
          - name: ppr_z_weight
            type: other
            value: '0'
          - name: pprs
            type: additive
            value: '0'
          - name: rotations
            type: additive
            value: '0'
          - name: t_gates
            type: additive
            value: '0'
          - name: toffs
            type: additive
            value: '0'
          type: had
        - children: []
          connections: []
          input_params:
          - b_mas
          - M_r
          - N_spatial
          - idx
          - R
          - b_givens
          - b_as
          linked_params: []
          local_variables: {}
          meta: {}
          name: qubits_free_0
          ports:
          - direction: input
            name: in_0
            size: '1'
          repetition: null
          resources: []
          type: qubits_alloc
        connections:
        - source: CompareLT_compute_0.out_0
          target: CompareLT_uncompute_0.in_0
        - source: CompareLT_compute_0.out_1
          target: split_6.in_0
        - source: CompareLT_uncompute_0.out_0
          target: had_2.thru_0
        - source: had_0.thru_0
          target: z_0.thru_0
        - source: had_1.thru_0
          target: merge_5.in_0
        - source: had_2.thru_0
          target: out_0
        - source: in_0
          target: split_0.in_0
        - source: lelbow_0.thru_0
          target: x_0.thru_0
        - source: merge_5.out_0
          target: CompareLT_compute_0.in_0
        - source: merge_7.out_0
          target: CompareLT_uncompute_0.in_1
        - source: qubits_alloc_0.out_0
          target: lelbow_0.thru_0
        - source: ry_0.thru_0
          target: z_1.thru_1
        - source: ry_1.thru_0
          target: qubits_free_0.in_0
        - source: split_0.out_0
          target: had_0.thru_0
        - source: split_0.out_remainder
          target: merge_5.in_remainder
        - source: split_6.out_0
          target: z_1.thru_0
        - source: split_6.out_remainder
          target: merge_7.in_remainder
        - source: x_0.thru_0
          target: z_0.thru_1
        - source: z_0.thru_0
          target: had_1.thru_0
        - source: z_0.thru_1
          target: ry_0.thru_0
        - source: z_1.thru_0
          target: merge_7.in_0
        - source: z_1.thru_1
          target: ry_1.thru_0
        input_params:
        - b_mas
        - M_r
        - N_spatial
        - idx
        - R
        - b_givens
        - b_as
        linked_params:
        - source: M_r
          targets:
          - qubits_alloc_0.M_r
          - lelbow_0.M_r
          - x_0.M_r
          - split_0.M_r
          - had_0.M_r
          - z_0.M_r
          - had_1.M_r
          - merge_5.M_r
          - ry_0.M_r
          - CompareLT_compute_0.M_r
          - split_6.M_r
          - z_1.M_r
          - merge_7.M_r
          - CompareLT_uncompute_0.M_r
          - ry_1.M_r
          - had_2.M_r
          - qubits_free_0.M_r
        - source: N_spatial
          targets:
          - qubits_alloc_0.N_spatial
          - lelbow_0.N_spatial
          - x_0.N_spatial
          - split_0.N_spatial
          - had_0.N_spatial
          - z_0.N_spatial
          - had_1.N_spatial
          - merge_5.N_spatial
          - ry_0.N_spatial
          - CompareLT_compute_0.N_spatial
          - split_6.N_spatial
          - z_1.N_spatial
          - merge_7.N_spatial
          - CompareLT_uncompute_0.N_spatial
          - ry_1.N_spatial
          - had_2.N_spatial
          - qubits_free_0.N_spatial
        - source: R
          targets:
          - qubits_alloc_0.R
          - lelbow_0.R
          - x_0.R
          - split_0.R
          - had_0.R
          - z_0.R
          - had_1.R
          - merge_5.R
          - ry_0.R
          - CompareLT_compute_0.R
          - split_6.R
          - z_1.R
          - merge_7.R
          - CompareLT_uncompute_0.R
          - ry_1.R
          - had_2.R
          - qubits_free_0.R
        - source: b_as
          targets:
          - qubits_alloc_0.b_as
          - lelbow_0.b_as
          - x_0.b_as
          - split_0.b_as
          - had_0.b_as
          - z_0.b_as
          - had_1.b_as
          - merge_5.b_as
          - ry_0.b_as
          - CompareLT_compute_0.b_as
          - split_6.b_as
          - z_1.b_as
          - merge_7.b_as
          - CompareLT_uncompute_0.b_as
          - ry_1.b_as
          - had_2.b_as
          - qubits_free_0.b_as
        - source: b_givens
          targets:
          - qubits_alloc_0.b_givens
          - lelbow_0.b_givens
          - x_0.b_givens
          - split_0.b_givens
          - had_0.b_givens
          - z_0.b_givens
          - had_1.b_givens
          - merge_5.b_givens
          - ry_0.b_givens
          - CompareLT_compute_0.b_givens
          - split_6.b_givens
          - z_1.b_givens
          - merge_7.b_givens
          - CompareLT_uncompute_0.b_givens
          - ry_1.b_givens
          - had_2.b_givens
          - qubits_free_0.b_givens
        - source: b_mas
          targets:
          - qubits_alloc_0.b_mas
          - lelbow_0.b_mas
          - x_0.b_mas
          - split_0.b_mas
          - had_0.b_mas
          - z_0.b_mas
          - had_1.b_mas
          - merge_5.b_mas
          - ry_0.b_mas
          - CompareLT_compute_0.b_mas
          - split_6.b_mas
          - z_1.b_mas
          - merge_7.b_mas
          - CompareLT_uncompute_0.b_mas
          - ry_1.b_mas
          - had_2.b_mas
          - qubits_free_0.b_mas
        - source: idx
          targets:
          - qubits_alloc_0.idx
          - lelbow_0.idx
          - x_0.idx
          - split_0.idx
          - had_0.idx
          - z_0.idx
          - had_1.idx
          - merge_5.idx
          - ry_0.idx
          - CompareLT_compute_0.idx
          - split_6.idx
          - z_1.idx
          - merge_7.idx
          - CompareLT_uncompute_0.idx
          - ry_1.idx
          - had_2.idx
          - qubits_free_0.idx
        local_variables: {}
        meta: {}
        name: RealUSP_uncompute_0
        ports:
        - direction: input
          name: in_0
          size: null
        - direction: output
          name: out_0
          size: null
        repetition: null
        resources: []
        type: qubrick
      connections:
      - source: CompareGE_compute_0.out_0
        target: CompareGE_uncompute_0.in_0
      - source: CompareGE_compute_0.out_1
        target: CompareGE_uncompute_0.in_1
      - source: CompareGE_compute_0.out_2
        target: split_4.in_0
      - source: CompareGE_uncompute_0.out_0
        target: merge_7.in_0
      - source: CompareGE_uncompute_0.out_1
        target: had_0.thru_0
      - source: DataLookupClean_uncompute_0.out_0
        target: RealUSP_uncompute_0.in_0
      - source: RealUSP_uncompute_0.out_0
        target: out_0
      - source: had_0.thru_0
        target: qubits_free_1.in_0
      - source: in_0
        target: swap_0.thru_0
      - source: in_1
        target: split_0.in_0
      - source: in_2
        target: CompareGE_compute_0.in_1
      - source: in_3
        target: swap_0.thru_2
      - source: in_4
        target: out_1
      - source: in_5
        target: out_2
      - source: merge_1.out_0
        target: split_2.in_0
      - source: merge_5.out_0
        target: CompareGE_uncompute_0.in_2
      - source: merge_7.out_0
        target: DataLookupClean_uncompute_0.in_1
      - source: split_0.out_0
        target: swap_0.thru_1
      - source: split_0.out_remainder
        target: merge_1.in_remainder
      - source: split_2.out_0
        target: CompareGE_compute_0.in_0
      - source: split_2.out_remainder
        target: merge_7.in_remainder
      - source: split_4.out_0
        target: x_0.thru_1
      - source: split_4.out_remainder
        target: merge_5.in_remainder
      - source: swap_0.thru_0
        target: DataLookupClean_uncompute_0.in_0
      - source: swap_0.thru_1
        target: merge_1.in_0
      - source: swap_0.thru_2
        target: x_0.thru_0
      - source: x_0.thru_0
        target: qubits_free_0.in_0
      - source: x_0.thru_1
        target: merge_5.in_0
      input_params:
      - b_mas
      - M_r
      - N_spatial
      - idx
      - R
      - b_givens
      - b_as
      linked_params:
      - source: M_r
        targets:
        - split_0.M_r
        - swap_0.M_r
        - merge_1.M_r
        - split_2.M_r
        - CompareGE_compute_0.M_r
        - split_4.M_r
        - x_0.M_r
        - merge_5.M_r
        - CompareGE_uncompute_0.M_r
        - merge_7.M_r
        - qubits_free_0.M_r
        - had_0.M_r
        - qubits_free_1.M_r
        - DataLookupClean_uncompute_0.M_r
        - RealUSP_uncompute_0.M_r
      - source: N_spatial
        targets:
        - split_0.N_spatial
        - swap_0.N_spatial
        - merge_1.N_spatial
        - split_2.N_spatial
        - CompareGE_compute_0.N_spatial
        - split_4.N_spatial
        - x_0.N_spatial
        - merge_5.N_spatial
        - CompareGE_uncompute_0.N_spatial
        - merge_7.N_spatial
        - qubits_free_0.N_spatial
        - had_0.N_spatial
        - qubits_free_1.N_spatial
        - DataLookupClean_uncompute_0.N_spatial
        - RealUSP_uncompute_0.N_spatial
      - source: R
        targets:
        - split_0.R
        - swap_0.R
        - merge_1.R
        - split_2.R
        - CompareGE_compute_0.R
        - split_4.R
        - x_0.R
        - merge_5.R
        - CompareGE_uncompute_0.R
        - merge_7.R
        - qubits_free_0.R
        - had_0.R
        - qubits_free_1.R
        - DataLookupClean_uncompute_0.R
        - RealUSP_uncompute_0.R
      - source: b_as
        targets:
        - split_0.b_as
        - swap_0.b_as
        - merge_1.b_as
        - split_2.b_as
        - CompareGE_compute_0.b_as
        - split_4.b_as
        - x_0.b_as
        - merge_5.b_as
        - CompareGE_uncompute_0.b_as
        - merge_7.b_as
        - qubits_free_0.b_as
        - had_0.b_as
        - qubits_free_1.b_as
        - DataLookupClean_uncompute_0.b_as
        - RealUSP_uncompute_0.b_as
      - source: b_givens
        targets:
        - split_0.b_givens
        - swap_0.b_givens
        - merge_1.b_givens
        - split_2.b_givens
        - CompareGE_compute_0.b_givens
        - split_4.b_givens
        - x_0.b_givens
        - merge_5.b_givens
        - CompareGE_uncompute_0.b_givens
        - merge_7.b_givens
        - qubits_free_0.b_givens
        - had_0.b_givens
        - qubits_free_1.b_givens
        - DataLookupClean_uncompute_0.b_givens
        - RealUSP_uncompute_0.b_givens
      - source: b_mas
        targets:
        - split_0.b_mas
        - swap_0.b_mas
        - merge_1.b_mas
        - split_2.b_mas
        - CompareGE_compute_0.b_mas
        - split_4.b_mas
        - x_0.b_mas
        - merge_5.b_mas
        - CompareGE_uncompute_0.b_mas
        - merge_7.b_mas
        - qubits_free_0.b_mas
        - had_0.b_mas
        - qubits_free_1.b_mas
        - DataLookupClean_uncompute_0.b_mas
        - RealUSP_uncompute_0.b_mas
      - source: idx
        targets:
        - split_0.idx
        - swap_0.idx
        - merge_1.idx
        - split_2.idx
        - CompareGE_compute_0.idx
        - split_4.idx
        - x_0.idx
        - merge_5.idx
        - CompareGE_uncompute_0.idx
        - merge_7.idx
        - qubits_free_0.idx
        - had_0.idx
        - qubits_free_1.idx
        - DataLookupClean_uncompute_0.idx
        - RealUSP_uncompute_0.idx
      local_variables: {}
      meta: {}
      name: AliasSampling_uncompute_0
      ports:
      - direction: input
        name: in_0
        size: null
      - direction: input
        name: in_1
        size: null
      - direction: input
        name: in_2
        size: null
      - direction: input
        name: in_3
        size: null
      - direction: input
        name: in_4
        size: null
      - direction: input
        name: in_5
        size: null
      - direction: output
        name: out_0
        size: null
      - direction: output
        name: out_1
        size: null
      - direction: output
        name: out_2
        size: null
      repetition: null
      resources: []
      type: qubrick
    connections:
    - source: AliasSampling_compute_0.out_0
      target: DoubleFactorizationSelect_compute_0.in_0
    - source: AliasSampling_compute_0.out_1
      target: AliasSampling_uncompute_0.in_1
    - source: AliasSampling_compute_0.out_2
      target: AliasSampling_uncompute_0.in_2
    - source: AliasSampling_compute_0.out_3
      target: AliasSampling_uncompute_0.in_3
    - source: AliasSampling_compute_0.out_4
      target: DoubleFactorizationSelect_compute_0.in_2
    - source: AliasSampling_compute_0.out_5
      target: DoubleFactorizationSelect_compute_0.in_5
    - source: AliasSampling_uncompute_0.out_0
      target: out_0
    - source: AliasSampling_uncompute_0.out_1
      target: out_6
    - source: AliasSampling_uncompute_0.out_2
      target: out_9
    - source: DoubleFactorizationSelect_compute_0.out_0
      target: AliasSampling_uncompute_0.in_0
    - source: DoubleFactorizationSelect_compute_0.out_1
      target: out_1
    - source: DoubleFactorizationSelect_compute_0.out_2
      target: out_2
    - source: DoubleFactorizationSelect_compute_0.out_3
      target: out_3
    - source: DoubleFactorizationSelect_compute_0.out_4
      target: out_4
    - source: DoubleFactorizationSelect_compute_0.out_5
      target: out_5
    - source: DoubleFactorizationSelect_compute_0.out_6
      target: AliasSampling_uncompute_0.in_4
    - source: DoubleFactorizationSelect_compute_0.out_7
      target: out_7
    - source: DoubleFactorizationSelect_compute_0.out_8
      target: out_8
    - source: DoubleFactorizationSelect_compute_0.out_9
      target: AliasSampling_uncompute_0.in_5
    - source: in_0
      target: AliasSampling_compute_0.in_0
    - source: in_1
      target: DoubleFactorizationSelect_compute_0.in_1
    - source: in_2
      target: AliasSampling_compute_0.in_1
    - source: in_3
      target: DoubleFactorizationSelect_compute_0.in_3
    - source: in_4
      target: DoubleFactorizationSelect_compute_0.in_4
    - source: in_5
      target: AliasSampling_compute_0.in_2
    input_params:
    - b_mas
    - M_r
    - N_spatial
    - idx
    - R
    - b_givens
    - b_as
    linked_params:
    - source: M_r
      targets:
      - AliasSampling_compute_0.M_r
      - DoubleFactorizationSelect_compute_0.M_r
      - AliasSampling_uncompute_0.M_r
    - source: N_spatial
      targets:
      - AliasSampling_compute_0.N_spatial
      - DoubleFactorizationSelect_compute_0.N_spatial
      - AliasSampling_uncompute_0.N_spatial
    - source: R
      targets:
      - AliasSampling_compute_0.R
      - DoubleFactorizationSelect_compute_0.R
      - AliasSampling_uncompute_0.R
    - source: b_as
      targets:
      - AliasSampling_compute_0.b_as
      - DoubleFactorizationSelect_compute_0.b_as
      - AliasSampling_uncompute_0.b_as
    - source: b_givens
      targets:
      - AliasSampling_compute_0.b_givens
      - DoubleFactorizationSelect_compute_0.b_givens
      - AliasSampling_uncompute_0.b_givens
    - source: b_mas
      targets:
      - AliasSampling_compute_0.b_mas
      - DoubleFactorizationSelect_compute_0.b_mas
      - AliasSampling_uncompute_0.b_mas
    - source: idx
      targets:
      - AliasSampling_compute_0.idx
      - DoubleFactorizationSelect_compute_0.idx
      - AliasSampling_uncompute_0.idx
    local_variables: {}
    meta: {}
    name: LCU_compute_0
    ports:
    - direction: input
      name: in_0
      size: null
    - direction: input
      name: in_1
      size: null
    - direction: input
      name: in_2
      size: null
    - direction: input
      name: in_3
      size: null
    - direction: input
      name: in_4
      size: null
    - direction: input
      name: in_5
      size: null
    - direction: output
      name: out_0
      size: null
    - direction: output
      name: out_1
      size: null
    - direction: output
      name: out_2
      size: null
    - direction: output
      name: out_3
      size: null
    - direction: output
      name: out_4
      size: null
    - direction: output
      name: out_5
      size: null
    - direction: output
      name: out_6
      size: null
    - direction: output
      name: out_7
      size: null
    - direction: output
      name: out_8
      size: null
    - direction: output
      name: out_9
      size: null
    repetition: null
    resources: []
    type: qubrick
  connections:
  - source: LCU_compute_0.out_0
    target: out_0
  - source: LCU_compute_0.out_1
    target: out_1
  - source: LCU_compute_0.out_2
    target: out_2
  - source: LCU_compute_0.out_3
    target: out_3
  - source: LCU_compute_0.out_4
    target: out_4
  - source: LCU_compute_0.out_5
    target: out_5
  - source: LCU_compute_0.out_6
    target: out_6
  - source: LCU_compute_0.out_7
    target: out_7
  - source: LCU_compute_0.out_8
    target: out_8
  - source: LCU_compute_0.out_9
    target: out_9
  - source: RotationCatalystStatePrep_compute_0.out_0
    target: LCU_compute_0.in_1
  - source: qubits_alloc_0.out_0
    target: LCU_compute_0.in_0
  - source: qubits_alloc_1.out_0
    target: LCU_compute_0.in_2
  - source: qubits_alloc_2.out_0
    target: LCU_compute_0.in_5
  - source: qubits_alloc_3.out_0
    target: LCU_compute_0.in_3
  - source: qubits_alloc_4.out_0
    target: LCU_compute_0.in_4
  input_params:
  - b_mas
  - M_r
  - N_spatial
  - idx
  - R
  - b_givens
  - b_as
  linked_params:
  - source: M_r
    targets:
    - qubits_alloc_0.M_r
    - qubits_alloc_1.M_r
    - qubits_alloc_2.M_r
    - qubits_alloc_3.M_r
    - qubits_alloc_4.M_r
    - RotationCatalystStatePrep_compute_0.M_r
    - LCU_compute_0.M_r
  - source: N_spatial
    targets:
    - qubits_alloc_0.N_spatial
    - qubits_alloc_1.N_spatial
    - qubits_alloc_2.N_spatial
    - qubits_alloc_3.N_spatial
    - qubits_alloc_4.N_spatial
    - RotationCatalystStatePrep_compute_0.N_spatial
    - LCU_compute_0.N_spatial
  - source: R
    targets:
    - qubits_alloc_0.R
    - qubits_alloc_1.R
    - qubits_alloc_2.R
    - qubits_alloc_3.R
    - qubits_alloc_4.R
    - RotationCatalystStatePrep_compute_0.R
    - LCU_compute_0.R
  - source: b_as
    targets:
    - qubits_alloc_0.b_as
    - qubits_alloc_1.b_as
    - qubits_alloc_2.b_as
    - qubits_alloc_3.b_as
    - qubits_alloc_4.b_as
    - RotationCatalystStatePrep_compute_0.b_as
    - LCU_compute_0.b_as
  - source: b_givens
    targets:
    - qubits_alloc_0.b_givens
    - qubits_alloc_1.b_givens
    - qubits_alloc_2.b_givens
    - qubits_alloc_3.b_givens
    - qubits_alloc_4.b_givens
    - RotationCatalystStatePrep_compute_0.b_givens
    - LCU_compute_0.b_givens
  - source: b_mas
    targets:
    - qubits_alloc_0.b_mas
    - qubits_alloc_1.b_mas
    - qubits_alloc_2.b_mas
    - qubits_alloc_3.b_mas
    - qubits_alloc_4.b_mas
    - RotationCatalystStatePrep_compute_0.b_mas
    - LCU_compute_0.b_mas
  - source: idx
    targets:
    - qubits_alloc_0.idx
    - qubits_alloc_1.idx
    - qubits_alloc_2.idx
    - qubits_alloc_3.idx
    - qubits_alloc_4.idx
    - RotationCatalystStatePrep_compute_0.idx
    - LCU_compute_0.idx
  local_variables: {}
  meta: {}
  name: root
  ports:
  - direction: output
    name: out_0
    size: null
  - direction: output
    name: out_1
    size: null
  - direction: output
    name: out_2
    size: null
  - direction: output
    name: out_3
    size: null
  - direction: output
    name: out_4
    size: null
  - direction: output
    name: out_5
    size: null
  - direction: output
    name: out_6
    size: null
  - direction: output
    name: out_7
    size: null
  - direction: output
    name: out_8
    size: null
  - direction: output
    name: out_9
    size: null
  repetition: null
  resources: []
  type: root
version: v1
